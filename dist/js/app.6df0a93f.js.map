{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/query-editor.vue?7607","webpack:///./src/components/ventana.vue?d5a4","webpack:///./src/components/grid-fields.vue?9753","webpack:///./src/components/context-components/context-dialog.vue?b60c","webpack:///./src/components/circus.vue?7402","webpack:///./src/components/tool-bar.vue?efae","webpack:///./src/components/context-components/context-field-editor.vue?2586","webpack:///./src/components/item-editor.vue?a7f3","webpack:///./src/components/tabs.vue?3ae7","webpack:///./src/components/containers.vue?0038","webpack:///./src/components/circus.vue?8915","webpack:///./src/actions.js","webpack:///./src/api.js","webpack:///./src/components/context-list.vue?78a2","webpack:///../simple-table/src/components/simple-table.vue?6009","webpack:///../simple-table/src/components/simple-table.vue","webpack:///../simple-table/src/components/simple-table.vue?38a3","webpack:///../simple-table/src/components/simple-table.vue?3769","webpack:///./src/components/query-editor.js","webpack:///src/components/context-list.vue","webpack:///./src/components/context-list.vue?f835","webpack:///./src/components/context-list.vue","webpack:///./src/components/tool-bar.vue?bc6b","webpack:///./src/components/layout.vue?5152","webpack:///src/components/layout.vue","webpack:///./src/components/layout.vue?903d","webpack:///./src/components/layout.vue","webpack:///src/components/tool-bar.vue","webpack:///./src/components/tool-bar.vue?d321","webpack:///./src/components/tool-bar.vue","webpack:///./src/components/containers.vue?d444","webpack:///./src/components/ventana.vue?88d3","webpack:///./src/components/formulario.vue?db9c","webpack:///./src/components/grid-fields.vue?3858","webpack:///./src/components/tabs.vue?1967","webpack:///src/components/tabs.vue","webpack:///./src/components/tabs.vue?7bcf","webpack:///./src/components/tabs.vue","webpack:///src/components/grid-fields.vue","webpack:///./src/components/grid-fields.vue?cdbd","webpack:///./src/components/grid-fields.vue","webpack:///src/components/formulario.vue","webpack:///./src/components/formulario.vue?ed4f","webpack:///./src/components/formulario.vue","webpack:///./src/components/listado.vue?0e19","webpack:///./src/components/item-editor.vue?058d","webpack:///./src/components/autosize-textarea.vue?43fa","webpack:///src/components/autosize-textarea.vue","webpack:///./src/components/autosize-textarea.vue?3f4a","webpack:///./src/components/autosize-textarea.vue","webpack:///src/components/item-editor.vue","webpack:///./src/components/item-editor.vue?6a99","webpack:///./src/components/item-editor.vue","webpack:///./src/components/query-editor.vue?61f3","webpack:///src/components/query-editor.vue","webpack:///./src/components/query-editor.vue?1a6b","webpack:///./src/components/query-editor.vue","webpack:///./src/components/Series.vue?6dc8","webpack:///./src/components/field.vue?f56d","webpack:///src/components/field.vue","webpack:///./src/components/field.vue?f969","webpack:///./src/components/field.vue","webpack:///src/components/Series.vue","webpack:///./src/components/Series.vue?7d4d","webpack:///./src/components/Series.vue","webpack:///src/components/listado.vue","webpack:///./src/components/listado.vue?3e13","webpack:///./src/components/listado.vue","webpack:///src/components/ventana.vue","webpack:///./src/components/ventana.vue?3696","webpack:///./src/components/ventana.vue","webpack:///src/components/containers.vue","webpack:///./src/components/containers.vue?b7fd","webpack:///./src/components/containers.vue","webpack:///./src/components/context-menu.vue?088e","webpack:///src/components/context-menu.vue","webpack:///./src/components/context-menu.vue?825d","webpack:///./src/components/context-menu.vue","webpack:///./src/components/tree-menu.vue?3460","webpack:///src/components/tree-menu.vue","webpack:///./src/components/tree-menu.vue?b7d4","webpack:///./src/components/tree-menu.vue","webpack:///./src/components/context-components/context-dialog.vue?8ef7","webpack:///./src/components/context-components/context-field-editor.vue?ad1a","webpack:///src/components/context-components/context-field-editor.vue","webpack:///./src/components/context-components/context-field-editor.vue?54f1","webpack:///./src/components/context-components/context-field-editor.vue","webpack:///src/components/context-components/context-dialog.vue","webpack:///./src/components/context-components/context-dialog.vue?ae56","webpack:///./src/components/context-components/context-dialog.vue","webpack:///src/components/circus.vue","webpack:///./src/components/circus.vue?9f01","webpack:///./src/components/circus.vue","webpack:///./src/main.js","webpack:///./src/components/listado.vue?62aa","webpack:///./src/components/formulario.vue?7d13","webpack:///./src/components/context-menu.vue?6244"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","directives","rawName","contextDialog","expression","props","staticClass","ref","domProps","_s","helpText","_v","_l","msg","show","area","style","containersFromArea","panels","on","panelSwitch","bottom","admin","display","height","formlist","$event","class","queries","gridActions","queriesTableOnChange","queriesRowClick","staticRenderFns","actions","strict","mutations","setKey","state","path","val","statePos","forEach","setContainerType","index","type","console","log","containers","setVentana","Query_add","query","cb","sqlParams","operation","columns","schemaSyntax","language","values","customName","fecha","JSON","stringify","dbID","$dbq","Query_setKey","col","id","whereSyntax","Query_delete","database_setLiteral","literal","database","literales","Ventana_setVisibility","indexVentana","visible","ventanas","win","Ventana_clone","cc","Ventana_delete","Ventana_injectQE","qeParams","queryeditor","parameters","Ventana_setName","ventanaName","Ventana_setTable","tableName","table","Ventana_setFields","fields","identities","ContextMenu_open","contextMenu","ContextMenu_clear","ContextMenu_formUpdate","item","ContextMenu_commit","cursor","newData","stateCursor","objeto","assign","checked_assign","ids","list","checkedIds","set_distinct","distinct","event","Date","toLocaleString","timeZone","unshift","getters","ventana","windowId","commit","action","title","branchs","keysSettings","toArray","Vue","use","Vuex","storedVuexStore","vuexStore","parsedSearch","queryString","parse","location","search","apiURL","api","services","connNameToDbName","$","ajax","url","method","async","success","respuesta","jsonRespuesta","keys","toLocaleLowerCase","error","circusConfig","reset","fileName","loadTree","treeModel","createStore","localStorage","err","alert","href","jsonString","obj","loadConfig","deleteConfig","vuexTree","Store","subscribe","mutation","estado","store","tablesFromConnection","connection","getListColumnSql","options","listModel","getListModel","newKey","txt","sqlValueFromId","replace","listKey","listsModels","lists","listModelName","getLiteral","computedFields","computedField","filter","cf","sql","indexOf","idArr","split","getFieldsForTable","$fieldsForTable","field","is_identity","map","column_name","getIdentitiesForTableSet","table_name","tables","getTablesRelation","names","finalCampos","promises","execPromises","promiseNumber","promise","then","newCampos","tna","tabla","getTableConnectionId","Promise","resolve","reject","sp_name","campos","custom_pkname","pkname","cfTable","toLowerCase","CHARACTER_MAXIMUM_LENGTH","data_type","campo","fieldSettings","getFieldSettings","dbsettings","form","group","order","position","fieldName","treatedSettings","listName","databasename","connID","relatedGroup","joinSyntax","cleanTableName","relatedTables","getRelatedTables","nextRelatedNames","relatedNames","concat","aliasIndex","involvedTablesNames","aliases","getNextAlias","excludeNames","res","relatedTablesNames","joinTables","relatedTable","remoteField","localField","dbID2","joinType","join","t1fullname","alias","isTableRepeated","alias2","tn","tnArr","cleanedName","getDirectParents","parentTables","getDirectSuns","childTablesNames","tName","tab","childTablesRes","saveTree","doPrompt","givenName","prompt","uuidV1","json","saveCircusConfig","listFiles","folder","getTablesList","connections","promiseIndex","executePromise","connName","tablas","label","content","ele","params","request","encodeURIComponent","Error","keepDBConnAlive","downloadExcel","types","open","border","left","top","background","contextListButton","rows","hiddenKeys","checkedRows","singlecheck","searchString","contextListRowClick","contextListCheckClick","contextListKeyUp","target","composing","leftVal","rightVal","_e","width","overflow","scrollHeaders","checkable","editedRows","allChecksClick","getOrder","headerClick","filterTable","row","rowIndex","rowSelected","selectedRowIndex","_rowIndex","onRowClick","tdClass","_checked","onCheckClick","editablekeys","editTable","resizeHeaders","button","func","watch","computed","methods","updated","component","queryEditor","paramArray","paramObject","_","uniq","param","_inlist","sqlSyntax","_active","vista","isInlineSelect","descripcion","getQueryByName","whereSql","listElements","matchListElements","text","valor","substring","stringMatch","operator","leftText","rightText","orderBy","_orderby","valid","recordset","v_json","whereText","keyList","searchedValue","matchedEles","parseHandy","spliters","txtSplit","parsedHandy","parseAble","val1","val2","spliter","handyToClassic","handy","hoyToGetdate","exp","re","matches","match","gde","increment","substr","interval","dateExp","v","isnumeric","isdate","sqlparaloquesea","vJson","undefined","literals","sqltxt","espacioraro","RegExp","String","fromCharCode","saltodelinea","sqlparanulo","red","matchesf","disabled","helpCode","onClick","itemClasses","_t","isContainer","flexbox","baseClassName","clases","components","container","containerType","toolbarButtons","boton","pestanaVentana","pestanaVentanaSelected","visibleVentanas","editWindowName","saveWindowName","stopPropagation","onClose","ventanasDelContainer","styleVentana","isInlineContainer","onButtonClick","isInline","parentTablesWindows","injectParent","childTablesWindows","injectChild","getRelations","tabs","tableChange","buttons2","fn","buttons","formFilter","formFilterState","formSetValues","rowClick","showPath","checked","select","shownNumber","formState","editorData","positionContext","showFields","formChange","clickLabel","focusField","updateShownNumber","addField","slot","shallowFields","inFilter","elementStyle","editFieldName","saveFieldName","$$selectedVal","Array","selected","_value","$set","multiple","assignModel","listOptions","option","isArray","_i","$$a","$$el","$$c","$$v","$$i","focusTextField","tabsArr","buttonClick","selectedTab","series","series_parameters","operate_serie","buttonsUser","open_serie","grid","loadedRecsNumber","rowCount","qeParamUpdate","refInFor","activateParam","fill","setNewOrder","clickFunc","keyDownSearchField","focusSearchField","getParamSearchString","checkedIndexes","checkClick","labelClick","deleteParam","emitParameters","_extended","changeOperator","negateParam","changeText","textKeyPress","editAliasName","valueParam","editParameter","openContext","editKeyName","_extendKey","_m","hide","clear","operate","keyParam","replaceValue","paramIndex","setState","internalValue","emitContent","closeContext","loadConfigFile","deleteConfigFile","containerWidth","switchContainerType","containerName","close","node0","node1","componentName","tag","componentProps","reference","bus","config","productionTip","render","h","Circus","$mount","circus","showHelpBox","setInterval"],"mappings":"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","file":"js/app.6df0a93f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=style&index=0&id=9a27d116&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=style&index=0&id=9a27d116&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=style&index=0&id=66089717&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=style&index=0&id=66089717&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=style&index=0&id=17873f82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=style&index=0&id=17873f82&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-editor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-editor.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"overflow\":\"hidden\",\"background\":\"transparent\"},attrs:{\"id\":\"circus\"}},[_c('contextDialog',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contextDialog.show),expression:\"contextDialog.show\"}],attrs:{\"componentName\":\"contextFieldEditor\",\"componentProps\":_vm.contextDialog.props}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showHelpState),expression:\"showHelpState\"}],staticClass:\"panel-envelope\",staticStyle:{\"height\":\"auto\",\"width\":\"auto\",\"background\":\"transparent\",\"font-weight\":\"500\",\"font-size\":\"11px\",\"position\":\"absolute\",\"bottom\":\"0\",\"z-index\":\"100\",\"align-self\":\"flex-end\"}},[_c('div',{ref:\"helpCuadrant\",staticStyle:{\"height\":\"50%\",\"width\":\"100%\",\"background\":\"white\"},domProps:{\"innerHTML\":_vm._s(_vm.helpText)}}),_c('div',{staticClass:\"custom-title\",staticStyle:{\"position\":\"absolute\",\"width\":\"176px\",\"margin-top\":\"-20px\",\"display\":\"none\"}},[_vm._v(\"LOG\")]),_c('div',{ref:\"logCuadrant\",staticStyle:{\"height\":\"50%\",\"width\":\"100%\",\"overflow-y\":\"auto\",\"overflow-x\":\"none\",\"display\":\"none\"}},_vm._l((_vm.logText),function(msg){return _c('div',{staticStyle:{\"margin-bottom\":\"7px\"},domProps:{\"innerHTML\":_vm._s(msg)}})}),0)]),_c('ly',{staticStyle:{\"position\":\"relative\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},[_c('ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.formlist),expression:\"show.formlist\"}],ref:\"contents\",staticStyle:{\"height\":\"70%\",\"position\":\"relative\",\"z-index\":\"10\",\"border\":\"0px solid red\"},attrs:{\"width\":\"1\",\"grow\":\"1\",\"id\":\"containers\"}},[_c('ly',{attrs:{\"flexbox\":\"1\",\"height\":\"1\"}},[_c('ly',{attrs:{\"grow\":\"1\",\"height\":\"1\"}},[_c('ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},_vm._l((_vm.visibleAreas),function(area){return _c('ly',{style:(_vm.areaHeight),attrs:{\"grow\":\"1\"}},[_c('Containers',{attrs:{\"containers\":_vm.containersFromArea(area),\"panels\":_vm.panels},on:{\"panelSwitch\":_vm.panelSwitch}})],1)}),1)],1)],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panels.bottom&&_vm.admin),expression:\"panels.bottom&&admin\"}],style:({display:'flex',height:(_vm.show.formlist?'30%':'100%')})},[_c('div',{staticClass:\"panel-envelope\",staticStyle:{\"flex-grow\":\"1\",\"height\":\"100%\",\"border\":\"0px solid red\",\"max-height\":\"calc(100% - 0px)\",\"position\":\"relative\",\"min-width\":\"100%\"},attrs:{\"id\":\"queriesList\"}},[_c('button',{staticStyle:{\"position\":\"absolute\",\"top\":\"15px\",\"right\":\"15px\",\"padding\":\"3px\",\"z-index\":\"1\"},on:{\"click\":function($event){_vm.show.formlist=!_vm.show.formlist}}},[_c('div',{class:{'arrow-up':_vm.show.formlist,'arrow-down':!_vm.show.formlist}})]),_c('SimpleTable',{staticStyle:{\"border\":\"1px solid gray\",\"border-width\":\"0px 0\",\"padding\":\"5px\"},attrs:{\"nowrap\":false,\"searchable\":true,\"editablekeys\":['Nombre'],\"hiddenKeys\":['id'],\"rows\":_vm.queries,\"actions\":_vm.gridActions,\"cellMaxHeight\":\"40px\"},on:{\"rowEdit\":_vm.queriesTableOnChange,\"rowClick\":_vm.queriesRowClick}})],1)])],1),_c('ContextList')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {$dbq} from './api.js'\r\nconst actions = {\r\n    strict: false,\r\n    mutations: {\r\n        setKey ( state, {path,val} ) {\r\n            var statePos = state\r\n            path.forEach ( (p,i) => {\r\n                if ( i < path.length - 1 ) {\r\n                    statePos = statePos[p]\r\n                } else {\r\n                    if ( val )\r\n                        statePos[p] = val\r\n                    else\r\n                        delete statePos[p];\r\n                }\r\n            })\r\n        },\r\n        setContainerType ( state, {index,type} ) {\r\n            console.log({index,type})\r\n            state.containers[index].type = type\r\n            //return actions.getters.ventana(index)\r\n        },\r\n        setVentana ( state , {index,data} ) {\r\n            console.log(index)\r\n            //state.ventanas.data[index] = data\r\n        },\r\n        Query_add ( state, {query,cb} ) {\r\n            //console.log(JSON.cc({rowIndex,key,value}))\r\n            //state.queries.push ( query )\r\n            const sqlParams = {\r\n                operation: \"insert\"\r\n                , columns: [\"v_nombre\",\"v_identificador\",\"v_fecha\",\"v_json\"]\r\n                , schemaSyntax: \"views\"\r\n                , language: \"spanish\"\r\n                , values: [query.customName,query.name,query.fecha,JSON.stringify(query)]\r\n                , dbID: \"circus\"\r\n            }\r\n            $dbq (sqlParams,cb)\r\n        },\r\n        Query_setKey ( state, {id,key,value} ) {\r\n            let col\r\n            switch ( key ) {\r\n                case 'customName':\r\n                    col = 'v_nombre'\r\n                    break\r\n            }\r\n            const sqlParams = {\r\n                operation: \"update\"\r\n                , columns: [col]\r\n                , schemaSyntax: \"circus.dbo.views\"\r\n                , language: \"spanish\"\r\n                , values: [value]\r\n                , whereSyntax: \"v_id=\"+id\r\n            }\r\n            $dbq (sqlParams)\r\n        },\r\n        Query_delete ( state, id ) {\r\n            const sqlParams = {\r\n                operation: \"delete\"\r\n                , schemaSyntax: \"circus.dbo.views\"\r\n                , language: \"spanish\"\r\n                , whereSyntax: \"v_id=\"+id\r\n            }\r\n            console.log(sqlParams)\r\n            $dbq (sqlParams)\r\n        },\r\n        database_setLiteral ( state, {key, literal} ) {\r\n            state.database.literales[key] = literal\r\n        },\r\n        Ventana_setVisibility ( state, {indexVentana,visible} ) {\r\n            state.ventanas.data.forEach ( win => win.visible = false )\r\n            state.ventanas.data[indexVentana].visible = visible\r\n        },\r\n        Ventana_clone ( state, {index} ) {\r\n            state.ventanas.data.push ( JSON.cc(state.ventanas.data[index]) )\r\n        },\r\n        Ventana_delete ( state, {index} ) {\r\n            state.ventanas.data.splice ( index , 1 )\r\n        },\r\n        Ventana_injectQE ( state, {indexVentana,qeParams} ) {\r\n            //console.log('injectedParams')\r\n            //console.log(JSON.cc(qeParams))\r\n            state.ventanas.data[indexVentana].queryeditor.parameters = qeParams\r\n            //console.log(JSON.cc(state.ventanas.data[indexVentana].queryeditor.parameters))\r\n        },\r\n        Ventana_setName ( state, {indexVentana,ventanaName} ) {\r\n            state.ventanas.data[indexVentana].name = ventanaName\r\n        },\r\n        Ventana_setTable ( state, {indexVentana,tableName} ) {\r\n            state.ventanas.data[indexVentana].table = tableName\r\n        },\r\n        Ventana_setFields ( state , {indexVentana, fields, identities} ) {\r\n            //console.log(index)\r\n            state.ventanas.data[indexVentana].identities = identities\r\n            state.ventanas.data[indexVentana].fields = fields\r\n        },\r\n        ContextMenu_open ( state, data ) {\r\n            //console.log(data)\r\n            state.contextMenu = JSON.cc(data)\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_clear ( state ) {\r\n            //console.log(data)\r\n            state.contextMenu = {}\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_formUpdate ( state, item ) {\r\n            //console.log({campos,cursor})\r\n            state.contextMenu.item = item\r\n            //state.contextMenu.cursor[2] = 4\r\n        },\r\n        ContextMenu_commit ( state ) {\r\n            const cursor = state.contextMenu.cursor\r\n            , newData = state.contextMenu.item\r\n            var stateCursor = new objeto(state).get(cursor)\r\n            log(newData)\r\n            Object.assign ( stateCursor , newData )\r\n\r\n        },\r\n        checked_assign ( state, {indexVentana,ids} ) {\r\n            state.ventanas.data[indexVentana].list.checkedIds = ids\r\n            //if ( ! state.ventanas.data[indexVentana].list.checkedIds ) state.ventanas.data[indexVentana].list.checkedIds = []\r\n            //state.ventanas.data[indexVentana].list.checkedIds.push ( ids )\r\n        },\r\n        set_distinct ( state, {indexVentana,value} ) {\r\n            state.ventanas.data[indexVentana].queryeditor.distinct = value\r\n            //Object.assign ( state.ventanas.data[indexVentana].queryeditor , { distinct : value } )\r\n            console.log(state.ventanas.data[indexVentana].queryeditor)\r\n            //if ( ! state.ventanas.data[indexVentana].list.checkedIds ) state.ventanas.data[indexVentana].list.checkedIds = []\r\n            //state.ventanas.data[indexVentana].list.checkedIds.push ( ids )\r\n        },\r\n        log ( state, msg ) {\r\n            if ( ! state.log ) state.log = []\r\n            var event = new Date()\r\n            // British English uses day-month-year order and 24-hour time without AM/PM\r\n            , fecha = event.toLocaleString('en-GB', { timeZone: 'UTC' })\r\n            state.log.unshift ( fecha + '<br>' + msg ) \r\n        }\r\n    },\r\n    getters: {\r\n        ventanas: ( state ) => state.ventanas.data,\r\n        ventana: (state, getters) => (id) => {\r\n          return getters.ventanas[id]\r\n        },\r\n        qeParams: (state, getters) => (windowId) => {\r\n          return state.ventanas.data[windowId].queryeditor.parameters\r\n        }\r\n        \r\n    },\r\n    actions: {\r\n        setVentana: ({getters,commit},id) => {\r\n          \r\n            //commit( 'write' , { cursor: getters.ventana(id) , data: \"juan\" } )\r\n            commit( 'setVentana' , { index: id , data: \"juan\" } )\r\n        },\r\n        \"context-menu\": ( {commit,state}, {action,item,cursor,title,branchs,keysSettings} ) => {\r\n            switch ( action ) {\r\n                case 'open':\r\n                    //console.log(data)\r\n                    var campos = new objeto(item).toArray()\r\n                    const data = {item,cursor,title,branchs,keysSettings}\r\n                    //console.log(data)\r\n                    commit ( 'ContextMenu_open', data )\r\n                    break;\r\n                case 'formChange':\r\n                     //log(item)\r\n                     //var campos = data\r\n                     commit ( 'ContextMenu_formUpdate', item )\r\n                     break;\r\n                case 'save':\r\n                     commit ( 'ContextMenu_commit' )\r\n                     break;\r\n                case 'clear':\r\n                     commit ( 'ContextMenu_clear' )\r\n                     break;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default actions","import uuidV1 from 'uuid/v1'\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport actions from './actions.js'\r\nVue.use(Vuex) \r\nimport queryString from 'query-string';\r\nconst parsedSearch = queryString.parse(location.search)\r\n, apiURL = \tparsedSearch.api\r\n, connectionsModel = {};\r\nconsole.log(apiURL)\r\nvar storedVuexStore, vuexStore\r\nexport {vuexStore, parsedSearch}\r\n\r\nlet services = {connNameToDbName:{}}\r\n$.ajax({\r\n\turl: apiURL + 'services',\r\n  \tdata: '',\r\n  \tmethod: \"POST\",\r\n  \tasync: false,\r\n\tsuccess: (respuesta) => {\r\n\t\tconst jsonRespuesta = JSON.parse(JSON.parse(respuesta))\r\n\t\t, connNameToDbName = {}\r\n\t\tObject.keys ( jsonRespuesta ).forEach ( key => {\r\n\t\t\tconnNameToDbName[key.toLocaleLowerCase()] = jsonRespuesta[key]\r\n\t\t})\r\n\t\tObject.assign ( services.connNameToDbName, connNameToDbName )\r\n\t},\r\n\terror: (respuesta) => {\r\n\t\tconsole.log('error en services json')\r\n  \t}\r\n});\r\nlet circusConfig = \"puta\"\r\n$.ajax({\r\n\turl: apiURL + 'circusConfig',\r\n  \tdata: '',\r\n  \tmethod: \"POST\",\r\n  \tasync: false,\r\n\tsuccess: (respuesta) => {\r\n\t\tcircusConfig = JSON.parse(JSON.parse(respuesta))\r\n\t},\r\n\terror: (respuesta) => {\r\n\t\tconsole.log('error en circusConfig json')\r\n  \t}\r\n});\r\n\r\n\r\nif ( parsedSearch.reset ) {\r\n\tvar fileName\r\n\tif ( parsedSearch.reset == 1 ) \r\n\t\tfileName = 'circus.json'\r\n\telse\r\n\t\tfileName = parsedSearch.reset\r\n\tloadTree( treeModel=>{\r\n\t\t\tcreateStore(treeModel);\r\n\t\t\tconsole.log('Model loaded from ' + fileName );\r\n\t}, fileName )\r\n} else {\r\n\ttry {\r\n\t\tstoredVuexStore = JSON.parse(localStorage[\"vuexStore\"]);\r\n\t}\r\n\tcatch(err) {\r\n\t\talert('No se ha encontrado Cookie de configuracin local.\\n\\nCargando configuracin del servidor...');\r\n\t\tlocation = window.location.href + \"&reset=1\"\r\n\t}\t\r\n\tcreateStore(storedVuexStore)\r\n}\r\n//console.log ( JSON.parse ( localStorage[\"vuexStore\"] ) )\r\nexport \tfunction loadTree ( cb, fileName ) {\r\n\t//var fileName = fileName ? fileName : 'circus.json'\r\n\t$.ajax({\r\n\t\t  url: parsedSearch.api + 'readFile',\r\n\t\tdata: { fileName },\r\n\t\tmethod: \"POST\",\r\n\t\tasync: false,\r\n\t\t  success: (jsonString) => {\r\n\t\t\t  const obj = JSON.parse(jsonString)\r\n\t\t\t  //console.log(JSON.parse(jsonString))\r\n\t\t\tcb(obj)\r\n\t\t}\r\n\t});\r\n}\r\nexport function loadConfig ( fileName ) {\r\n\tlocation = './?api=' + apiURL + '&dev=1&admin=1&reset=' + fileName\r\n}\r\nexport function deleteConfig ( fileName, cb ) {\r\n\t$.ajax({\r\n\t\turl: parsedSearch.api + 'deleteFile',\r\n\t  data: { fileName },\r\n\t  method: \"POST\",\r\n\t  async: false,\r\n\t\tsuccess: (jsonString) => {\r\n\t\t\t\r\n\t\t\t//const obj = JSON.parse(jsonString)\r\n\t\t\t//console.log(JSON.parse(jsonString))\r\n\t\t  cb(jsonString)\r\n\t  }\r\n    });\r\n}\r\nfunction createStore (storedVuexStore) {\r\n\tconst vuexTree = {\r\n\t\tstate: {\r\n\t\t\t...storedVuexStore\r\n\t\t} ,\r\n\t\t...actions\r\n\t}\r\n\tvuexTree.state.database = circusConfig // Asigno la configuracin de la aplicacin al archivo de configuracin global.\r\n\t//Object.assign ( vuexTree.state.database , circusConfig )\r\n\tvuexStore = new Vuex.Store(vuexTree)\r\n\tlocalStorage[\"vuexStore\"] = JSON.stringify(vuexTree.state)\r\n\r\n\tconsole.log(circusConfig)\r\n\t//console.log(JSON.parse(JSON.stringify(vuexTree.state)))\r\n\tvuexStore.subscribe((mutation, state) => {\r\n\t\tconst estado = {...state}\r\n\t\tlocalStorage[\"vuexStore\"] = JSON.stringify(estado)\r\n\t\tconsole.log( JSON.cc ( estado ) )\r\n\t})\r\n}\r\n//alterTree()\r\nfunction alterTree () {\r\n\t//loadFieldsForTables  ( vuexStore )\r\n\tlet tree = JSON.stringify({...vuexStore.state})\r\n\t//vuexStore.state.database.listsModels = {}\r\n\t//vuexStore.state.database.listsModels.CLI_Estado = vuexStore.state.database.lists.CLI_Estado\r\n\t//vuexStore.state.ventanas.data[0].queryeditor.distinct=true\r\n\tlocalStorage[\"vuexStore\"] = JSON.stringify({...vuexStore.state})\r\n\tsaveTree(\"circus.json\")\r\n}\r\n\r\nconst store = JSON.parse(localStorage[\"vuexStore\"])//vuexStore.state\r\n\r\n\r\n\r\n//console.log(services.connNameToDbName)\r\n\r\n//----------------------------------------------------------------------------------------------------------\r\nexport function tablesFromConnection ( connection ) {\r\n\treturn [['clientes','clientes'],['polizas','polizas',],['recibos','recibos'],['colaboradores','colaboradores']]\r\n}\r\nexport function getListColumnSql ( key, options ) {\r\n\tconst listModel = getListModel(key)\r\n\tif ( !listModel ) return key\r\n    if ( listModel.length ) { // Es Array. Lista esttica\r\n\t\tif ( !options ) {\r\n        \tlet newKey = `(case ${key}`\r\n        \tlistModel.forEach ( item => {\r\n        \t    const val = item[0]\r\n        \t    , txt = item[1]\r\n        \t    newKey += ` when ${val} then '${txt}' `\r\n        \t})\r\n        \tnewKey += `end)`\r\n\t\t\treturn newKey\r\n\t\t} else {\r\n\t\t\treturn key\r\n\t\t}\r\n    } \r\n    if ( listModel && !listModel.length ) { // Es objeto. Lista dinmica\r\n        const sqlValueFromId = listModel.sqlValueFromId.replace ( \"{{id}}\", key )\r\n        const newKey = `(${sqlValueFromId})`\r\n\t\treturn newKey\r\n    }\r\n}\r\nexport function getListModel ( listKey ) {\r\n\tconst listsModels = store.database.listsModels\r\n    , lists = store.database.lists\r\n    , listModelName = lists[listKey]\r\n\t, listModel = JSON.cc(listsModels[listModelName])\r\n\treturn listModel\r\n}\r\nexport function getLiteral ( id ) {\r\n\tconst literales = store.database.literales\r\n\tif ( literales[id] ) return literales[id]\r\n\tconst computedFields = store.database.computedFields\r\n\t, computedField = computedFields.filter ( cf => cf.sql.indexOf(id) != -1 )\r\n\tif ( computedField.length ) return computedField[0].literal\r\n\tconst idArr = id.split(\".\")\r\n\treturn idArr[idArr.length-1]\r\n\t//return id\r\n}\r\n\r\nexport function getFieldsForTable ( table, cb ) {\r\n\t    $fieldsForTable (table,fields => {\r\n\t\t\tconst identities = fields.filter ( (field,index) => field.is_identity ).map ( field => field.column_name )\r\n\t\t\t//if ( table == \"v_dif_produccion\" ) console.log(fields)\r\n\t\t\tcb ( { fields,identities })\r\n\t\t})\r\n}\r\n\r\nexport function getIdentitiesForTableSet ( table, cb ) {\r\n\tconsole.log('getIdentitiesForTableSet')\r\n\t    $fieldsForTable (table,fields => {\r\n\t\t\tconst identities = fields.filter ( (field,index) => field.is_identity ).map ( field => ( { column_name: field.column_name, table_name: field.table_name } ) )\r\n\t\t\tcb ( identities )\r\n\t\t})\r\n}\r\nexport function $fieldsForTable ( tableName, cb ) {\r\n\tconst tables = getTablesRelation(tableName).names\r\n\t, finalCampos = []\r\n\t, promises = []\r\n\t//if ( tableName == \"v_dif_produccion\" ) console.log(tables)\r\n\ttables.forEach ( ( tableName ) => {\r\n\t\tconst tna = tableName.split ( \".\" )\r\n\t\t, db = tna.length > 1 ? `${tna[0]}.${tna[1]}.` : ''\r\n\t\t, tabla = tna.length > 1 ? tna[2] : tableName\r\n\t\t, dbID = getTableConnectionId(tableName)\r\n\t\t//console.log(db+'**'+dbID+'**'+tableName)\r\n\t\tconst promise = new Promise ( ( resolve, reject ) => {\r\n            $dbq ({\r\n                operation: 'sp'\r\n                //, sp_name: `${db}sp_circus_fields '${tabla}'`\r\n                , sp_name: `sp_circus_fields '${tabla}'`\r\n\t\t\t\t, dbID: dbID\r\n            }, campos => {\r\n\t\t\t\tconst newCampos = JSON.parse ( JSON.stringify ( campos ) )\r\n\t\t\t\t, custom_pkname = store.database.tables[tableName].pkname ? store.database.tables[tableName].pkname : ''\r\n\t\t\t\tconst computedFields = store.database.computedFields\r\n\t\t\t\tcomputedFields.forEach ( cf => {\r\n\t\t\t\t\tconst cfTable = cf.table\r\n\t\t\t\t\tif ( cfTable.toLowerCase() == tabla.toLowerCase() ) {\r\n\t\t\t\t\t\tnewCampos.push({\r\n\t\t\t\t\t\t\tCHARACTER_MAXIMUM_LENGTH:10\r\n\t\t\t\t\t\t\t, column_name: cf.sql\r\n\t\t\t\t\t\t\t, data_type: cf.type\r\n\t\t\t\t\t\t\t, is_identity: false\r\n\t\t\t\t\t\t\t, table_name: tableName //tabla\r\n\t\t\t\t\t\t\t, literal: cf.literal\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tnewCampos.forEach ( ( campo ) => {\r\n\t\t\t\t\tconst fieldSettings = getFieldSettings ( campo.column_name, campo.table_name )\r\n\t\t\t\t\tObject.assign ( campo, { dbsettings: fieldSettings , form: { group: 'grupo2'}, list: { order: \"\", position: \"1\" } } )\r\n\t\t\t\t\tif ( campo.column_name.toLowerCase() == custom_pkname.toLowerCase() ) campo.is_identity = true\r\n\t\t\t\t\tif ( campo.is_identity ) campo.list.position = \"0\" \r\n\t\t\t\t});\r\n\t\t\t\tresolve ( newCampos )\r\n            })\r\n\t\t})\r\n\t\tpromises.push ( promise )\r\n\t})\r\n\tfunction execPromises ( promiseNumber ) {\r\n\t\tconst promise = promises [promiseNumber]\r\n\t\tpromise.then( (newCampos) => {\r\n\t\t\tfinalCampos.push ( ...newCampos )\r\n\t\t\t//console.log(JSON.cc(newCampos))\r\n\r\n\t\t\tif ( promiseNumber < promises.length - 1 ) {\r\n\t\t\t\texecPromises ( promiseNumber+1 )\r\n\t\t\t} else {\r\n\t\t\t\tcb ( finalCampos )\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\texecPromises( 0 )\r\n}\r\nfunction getFieldSettings ( fieldName, tableName ) {\r\n\tconst table = store.database.tables[tableName.toLowerCase()]\r\n\t, lists = store.database.lists\r\n\t//, dbsettings = table.fields ? table.fields[fieldName] : false\r\n\t, treatedSettings = {} // Object.assign ( {} , dbsettings )\r\n\t, listName = lists[tableName+'.'+fieldName]\r\n\ttreatedSettings.list = store.database.listsModels[listName]\r\n\treturn treatedSettings\r\n}\r\nexport function getTableConnectionId ( tableName, databasename ) {\r\n\tlet dbID = false\r\n\tObject.keys ( store.database.tables ).forEach ( key => {\r\n\t\tif ( key.toLocaleLowerCase() == tableName.toLocaleLowerCase() ) {\r\n\t\t\t//dbID = store.database.tables[key].connection\r\n\t\t\tconst connID = store.database.tables[key].connection//.toLowerCase()\r\n\t\t\t//console.log(services.connNameToDbName+connID)\r\n\t\t\t//console.log(services.connNameToDbName[connID.toLowerCase()])\r\n\t\t\tdbID = databasename ? services.connNameToDbName[connID.toLowerCase()] : connID\r\n\t\t\t//dbID = connID\r\n\t\t}\r\n\t})\r\n\t//const dbID = store.database.tables[tableName].connection\r\n\treturn dbID\r\n}\r\nexport function getTablesRelation ( tableName ) {\r\n\tconst dbID = getTableConnectionId(tableName,1)\r\n\tconst relatedGroup = { names: [tableName], joinSyntax: cleanTableName(dbID)+'.dbo.'+cleanTableName(tableName) }\r\n\t//let relatedNames = [tableName]\r\n\tconst relatedTables = getRelatedTables ( tableName )\r\n\trelatedGroup.joinSyntax +=  relatedTables.joinSyntax\r\n\tlet nextRelatedNames = relatedTables.names\r\n\t//console.log('tablename'+tableName)\r\n\tdo {\r\n\t\tlet relatedNames = nextRelatedNames\r\n\t\t//_.pullAll(relatedNames, relatedGroup.names)\r\n\t\tnextRelatedNames = []\r\n\t\tfor ( tableName of relatedNames ) {\r\n\t\t\tconst relatedTables = getRelatedTables ( tableName, relatedGroup.names.concat(relatedNames) )\r\n\t\t\tnextRelatedNames = nextRelatedNames.concat(relatedTables.names)\r\n\t\t\trelatedGroup.names.push ( tableName )\r\n\t\t\trelatedGroup.joinSyntax +=  relatedTables.joinSyntax\r\n\t\t}\r\n\t} while ( nextRelatedNames.length )\r\n\t//relatedGroup.names = [tableName].concat ( relatedGroup.names )\r\n\taliasIndex = -1\r\n\tinvolvedTablesNames = []\r\n\treturn relatedGroup\r\n}\r\nconst aliases = ['a','b','c','d','e','f','g','h','i']\r\nvar involvedTablesNames = []\r\nvar aliasIndex = -1\r\nfunction getNextAlias ( ) {\r\n\taliasIndex++\r\n\treturn aliases[aliasIndex]\r\n}\r\nfunction getRelatedTables ( tableName, excludeNames=[] ) {\r\n\tconst res = { names: [], joinSyntax: \"\" }\r\n\tconst tables = store.database.tables\r\n\t, table = tables[tableName]\r\n\t, relatedTablesNames = []\r\n\t//res.joinSyntax += tableName\r\n\tif ( !table ) return res\r\n\tlet joinTables = \"\"\r\n\tconst relatedTables = table.relatedTables ? table.relatedTables : {}\r\n\tObject.keys(relatedTables).filter(tableName=>excludeNames.indexOf(tableName)==-1).forEach ( ( key, aliasIndex ) => {\r\n\t\t//if ( relatedTables[key].relation == \"* => 1\" ) {\r\n\t\tconst relatedTable = relatedTables[key]\r\n\t\t, remoteField = relatedTable.remoteField\r\n\t\t, localField = relatedTable.localField\r\n\t\t, dbID = cleanTableName ( getTableConnectionId ( key, 1 ) )\r\n\t\t, dbID2 = cleanTableName ( getTableConnectionId ( tableName, 1 ) )\r\n\t\t, joinType = relatedTables[key].join ? relatedTables[key].join : \"INNER JOIN\"\r\n\t\t//joinTables += ` ${joinType} ${dbID}.dbo.${cleanTableName(key)} ON ${dbID2}.dbo.${cleanTableName(tableName)}.${localField} = ${dbID}.dbo.${cleanTableName(key)}.${remoteField}`\r\n\t\t, t1fullname = `${dbID}.dbo.${cleanTableName(key)}`\r\n\t\t, alias = isTableRepeated (key) ? getNextAlias() : ''\r\n\t\t, alias2 = alias != '' ? alias : t1fullname\r\n\t\t// AL FINAL HE DECIDIDO EXCLUIR CUALQUIER REPETICIN DE UNA TABLA EN LA SELECT. LA QUE LLEGUE PRIMERO SE LO QUEDA.\r\n\t\tif ( ! isTableRepeated (key)  ) \r\n\t\t\tjoinTables += ` ${joinType} ${t1fullname} ${alias} ON ${dbID2}.dbo.${cleanTableName(tableName)}.${localField} =  ${alias2}.${remoteField}`\r\n\t\trelatedTablesNames.push ( key )\r\n\t\tinvolvedTablesNames.push ( key )\r\n\t\tfunction isTableRepeated (tn) {\r\n\t\t\treturn involvedTablesNames.indexOf (tn) != -1\r\n\t\t}\r\n\t})\r\n\tres.names = relatedTablesNames\r\n\tres.joinSyntax = joinTables\r\n\treturn res\r\n}\r\nfunction cleanTableName ( tn ) {\r\n\tconst tnArr = tn.split(\".\")\r\n\t, cleanedName = tnArr.length > 1 ? tnArr[tnArr.length - 1] : tn\r\n\treturn cleanedName\r\n}\r\n\r\nexport function getDirectParents ( tableName ) {\r\n\tconst relatedTables = store.database.tables[tableName].relatedTables\r\n\t, parentTables = relatedTables ? relatedTables : {}\r\n\treturn parentTables\r\n}\r\nexport function getDirectSuns ( tableName ) {\r\n\tconst tables = store.database.tables\r\n\t, childTablesNames = Object.keys(tables).filter(tName => {\r\n\t\tconst tab = tables[tName]\r\n\t\tif ( !tab.relatedTables ) return false\r\n\t\tconst relatedTables = Object.keys(tab.relatedTables).map(tName=>tName.toLowerCase())\r\n\t\tif ( relatedTables.indexOf(tableName.toLowerCase())==-1 ) return false\r\n\t\treturn true\r\n\t})\r\n\t, childTablesRes = {}\r\n\tchildTablesNames.forEach ( tName => {\r\n\t\t//tables[tName].relatedTables[tableName]\r\n\t\tchildTablesRes[tName]=tables[tName].relatedTables[tableName]\r\n\t})\r\n\treturn childTablesRes\r\n}\r\n//const api = 'http://82.223.111.21:8000/'\r\n//const api = 'http://localhost:8000/'\r\nexport function saveTree ( fileName, doPrompt ) {\r\n\tif ( doPrompt ) {\r\n\t\tconst givenName = window.prompt ( \"Introduzca el nombre que quiere dar al archivo de configuracin\" , fileName )\r\n\t\tif ( !givenName ) return false\r\n\t\tfileName = givenName + ( givenName.indexOf ( '.json' ) == - 1 ? '.json' : '' )\r\n\t}\r\n\tif ( !fileName ) fileName = uuidV1()+'.json'\r\n\t//saveTree.fileName = fileName\r\n\t$.ajax({\r\n  \t\turl: apiURL + 'writeFile',\r\n\t\tdata: { json: localStorage[\"vuexStore\"], fileName },\r\n\t\tmethod: \"POST\",\r\n\t\t//async: false,\r\n  \t\tsuccess: (storedVuexStore) => {\r\n\t\t\tconsole.log('Model saved to ' + fileName )\r\n\t\t}\r\n\t});\r\n\treturn fileName\r\n}\r\nexport function saveCircusConfig ( ) {\r\n\tcircusConfig =  JSON.parse(localStorage[\"vuexStore\"]).database \r\n\t$.ajax({\r\n  \t\turl: apiURL + 'writeConfig',\r\n\t\tdata: { json: JSON.stringify(circusConfig,null,2) },\r\n\t\tmethod: \"POST\",\r\n\t\t//async: false,\r\n  \t\tsuccess: (storedVuexStore) => {\r\n\t\t\tconsole.log('Circus config saved.' )\r\n\t\t}\r\n\t});\r\n\treturn fileName\r\n}\r\nexport function listFiles (folder,cb) {\r\n\t$.ajax({\r\n\t\turl: apiURL + 'listFiles',\r\n\t  \tdata: { folder },\r\n\t  \tmethod: \"POST\",\r\n\t  \t//async: false,\r\n\t\tsuccess: ( list ) => {\r\n\t\t  \tcb ( JSON.parse ( list ) )\r\n\t  \t}\r\n  \t});\r\n}\r\nexport function getTablesList (cb) {\r\n\tconst list = []\r\n\t, promises = []\r\n\t, connections = services.connNameToDbName\r\n\t//return list\r\n\tvar promiseIndex = 0\r\n\tObject.keys ( connections  ).forEach ( key => {\r\n\t\tconst connName = key\r\n\t\t, dbName = connections[connName]\r\n\t\tpromises.push ( new Promise (\r\n\t\t\tfunction ( resolve, reject ) {\r\n\t\t\t\t$dbq (\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcolumns: ['name']\r\n\t\t\t\t\t\t, schemaSyntax: \"sys.tables\"\r\n\t\t\t\t\t\t, dbID: connName\r\n\t\t\t\t\t\t, whereSyntax: \"name is not null\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction ( tablas ) {\r\n\t\t\t\t\t\tlist.push ( {label:connName, content:tablas.map ( ele => {return ele.name} ) } )\r\n\t\t\t\t\t\tresolve ('all cool')\r\n\t\t\t\t\t\t//cb(tablas)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t) )\r\n\t})\r\n\texecutePromise()\r\n\tfunction executePromise () {\r\n\t\tpromises[promiseIndex].then ( \r\n\t\t\tfunction ( result ) { \r\n\t\t\t\tpromiseIndex++; \r\n\t\t\t\tif ( promiseIndex<promises.length ) {\r\n\t\t\t\t\t executePromise () \r\n\t\t\t\t} else {\r\n\t\t\t\t\tcb ( list )\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t, function ( err ) {}\r\n\t\t)\r\n\t}\r\n}\r\nexport function $dbq (\r\n\tparams\r\n\t, cb\r\n\t, async\r\n\t, request\r\n) {\r\n\t//if ( ! params.dbID ) params.dbID = 'visual'\r\n\tparams.language = 'spanish'\r\n\tif ( ! async ) async = true\r\n\tconst operation = request ? 'request' :  'dbq'\r\n\t//const operation = 'dbq'\r\n\t$.ajax({\r\n  \t\turl: apiURL + operation,\r\n\t\tdata: `params=${encodeURIComponent(JSON.stringify(params))}`,\r\n\t\tmethod: \"POST\",\r\n\t\tasync: async,\r\n  \t\tsuccess: (respuesta) => {\r\n\t\t\t  const jsonRespuesta = JSON.parse(respuesta)\r\n\t\t\t  if ( jsonRespuesta.length && jsonRespuesta[0].Error ){\r\n\t\t\t  \tconsole.log(JSON.stringify(jsonRespuesta[0]))\r\n\t\t\t  \talert(JSON.stringify(jsonRespuesta[0]))\r\n\t\t\t  }\r\n\t\t\tif ( cb ) cb(jsonRespuesta)\r\n\t\t},\r\n  \t\terror: (respuesta) => {\r\n\t\t\t  console.log(respuesta)\r\n\t\t}\r\n\t});\r\n\t\r\n}\r\nexport function keepDBConnAlive () {\r\n\t$.ajax({\r\n\t\turl: apiURL + 'ping',\r\n\t    data: `dbID=visual`,\r\n\t    method: \"POST\",\r\n\t    //async: true,\r\n\t\tsuccess: (respuesta) => {\r\n\t\t\tconsole.log('ping')\r\n\t  \t},\r\n\t\terror: (respuesta) => {\r\n\t\t\tconsole.log('error ajax ping')\r\n\t  \t}\r\n  });\r\n}\r\nexport function downloadExcel ( sqlParams, types ) {\r\n\t\r\n\twindow.open ( apiURL + 'downloadExcel?' + `params=${encodeURIComponent(JSON.stringify(sqlParams))}&types=${encodeURIComponent(JSON.stringify(types))}` )\r\n\treturn\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"contextList\",style:({\n        'max-height':'300px',\n        border:'0px solid #ddd',\n        'border-width':'1px',\n        position:'absolute',\n        //width: 0,\n        //height:'100%',\n        //overflow:'visible',\n        'z-index':50000,\n        left:_vm.left+'px',\n        top:_vm.top+'px',\n        display:'none',\n        background: '#f2f2f2',\n        'box-sizing':'border-box',\n        background:'#f2f2f2',\n        height:'auto'\n        //float:'left'\n    }),attrs:{\"id\":\"circusContextList\"}},[_c('div',{staticStyle:{\"clear\":\"both\",\"float\":\"none\",\"width\":\"100%\",\"border\":\"0px solid red\",\"height\":\"21px\",\"padding-top\":\"1px\"}},[_c('button',{staticStyle:{\"float\":\"left\"},attrs:{\"data-help-code\":\"context-list-button-empty\"},on:{\"click\":function($event){return _vm.contextListButton(\"empty\")}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 50.613 50.613\",\"zoom\":\"0.6\",\"margin-left\":\"-4px\",\"margin-top\":\"3px\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"50.613px\",\"height\":\"50.613px\",\"viewBox\":\"0 0 50.613 50.613\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('circle',{attrs:{\"cx\":\"22.724\",\"cy\":\"43.575\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"41.406\",\"cy\":\"43.63\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\\t\\t\\t\\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{staticStyle:{\"float\":\"left\"},attrs:{\"data-help-code\":\"context-list-button-filled\"},on:{\"click\":function($event){return _vm.contextListButton(\"filled\")}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 50.613 50.613\",\"zoom\":\"0.6\",\"margin-left\":\"-4px\",\"margin-top\":\"3px\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"50.613px\",\"height\":\"50.613px\",\"viewBox\":\"0 0 50.613 50.613\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M49.569,11.145H20.055c-0.961,0-1.508,0.743-1.223,1.661l4.669,13.677c0.23,0.738,1.044,1.336,1.817,1.336h19.35\\t\\t\\t\\tc0.773,0,1.586-0.598,1.814-1.336l4.069-14C50.783,11.744,50.344,11.145,49.569,11.145z\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"22.724\",\"cy\":\"43.575\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"41.406\",\"cy\":\"43.63\",\"r\":\"4.415\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\\t\\t\\t\\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])]),(_vm.type=='list')?_c('SimpleTable',{attrs:{\"rows\":_vm.rows,\"hiddenKeys\":_vm.hiddenKeys,\"checkable\":true,\"searchable\":true,\"selectable\":false,\"showHeaders\":false,\"checkedRows\":_vm.checkedRows,\"singlecheck\":_vm.singlecheck,\"searchString\":_vm.searchString},on:{\"rowClick\":_vm.contextListRowClick,\"checkClick\":_vm.contextListCheckClick}}):(_vm.type=='date'||_vm.type=='number')?_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"background\":\"white\",\"padding\":\"5px\",\"border\":\"1px solid #ddd\"}},[_c('div',{ref:\"contextList_rango\",staticStyle:{\"min-width\":\"100px\"}},[_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(\"Desde\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.leftVal),expression:\"leftVal\"}],ref:\"desde\",staticClass:\"form-control\",attrs:{\"data-help-code\":\"search-parameter-value\"},domProps:{\"value\":(_vm.leftVal)},on:{\"blur\":function($event){return _vm.contextListKeyUp()},\"input\":function($event){if($event.target.composing){ return; }_vm.leftVal=$event.target.value}}}),_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(\"Hasta\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.rightVal),expression:\"rightVal\"}],ref:\"hasta\",staticClass:\"form-control\",attrs:{\"data-help-code\":\"search-parameter-value\"},domProps:{\"value\":(_vm.rightVal)},on:{\"blur\":function($event){return _vm.contextListKeyUp()},\"input\":function($event){if($event.target.composing){ return; }_vm.rightVal=$event.target.value}}})])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"simple_table_vue\",staticClass:\"simple-table-vue\",style:({width:'100%',height:'100%','max-height':'inherit',overflow:'hidden','box-sizing':'border-box',position:'relative'})},[_c('div',{ref:\"scrollableDiv\",style:({height:'100%','overflow-x':_vm.overflow,'overflow-y':'scroll','max-height':'inherit'}),attrs:{\"id\":\"scrollableDiv\"},on:{\"scroll\":_vm.scrollHeaders}},[_c('table',{staticClass:\"table table-condensed header\"},[_c('tbody',{ref:\"header\",style:({position:'absolute'})},[(_vm.showHeaders)?_c('tr',[(_vm.checkable && _vm.editedRows.length)?_c('td',{staticStyle:{\"text-align\":\"center\"}},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){return _vm.allChecksClick($event)}}})]):_vm._e(),_vm._l((_vm.keys),function(key,i){return _c('td',{attrs:{\"data-order\":_vm.getOrder(key)},on:{\"click\":function($event){return _vm.headerClick(key,$event.target,i)}}},[_vm._v(_vm._s(key))])})],2):_vm._e(),(_vm.searchable)?_c('tr',[(_vm.checkable)?_c('td'):_vm._e(),_vm._l((_vm.keys),function(key,i){return _c('td',[_c('div',{staticStyle:{\"width\":\"100%\",\"cursor\":\"text\"},attrs:{\"contenteditable\":\"true\",\"id\":key},on:{\"keyup\":function($event){return _vm.filterTable()}}},[_vm._v(_vm._s(_vm.searchString))])])})],2):_vm._e()])]),_c('table',{ref:\"tabla\",staticClass:\"table table-condensed\",attrs:{\"data-component\":\"Tabla\"}},[_c('tbody',{ref:\"tbody\"},_vm._l((_vm.editedRows),function(row,rowIndex){return (row._filterPassed)?_c('tr',{class:{rowSelected:_vm.selectedRowIndex==row._rowIndex},on:{\"click\":function($event){return _vm.onRowClick(row,rowIndex,$event)}}},[(_vm.checkable)?_c('td',{class:_vm.tdClass,staticStyle:{\"text-align\":\"center\",\"width\":\"1px\"}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":row._checked},on:{\"click\":function($event){return _vm.onCheckClick(row,rowIndex,$event);}}})]):_vm._e(),_vm._l((_vm.keys),function(key){return [(_vm.editablekeys.length && _vm.editablekeys.indexOf(key)!=-1)?_c('td',{class:_vm.tdClass,attrs:{\"contenteditable\":_vm.editablekeys.indexOf(key)!=-1,\"data-help-code\":_vm.editablekeys.indexOf(key)!=-1?'general-cell-canedit':''},on:{\"blur\":function($event){return _vm.editTable($event,key,row._rowIndex)},\"keyup\":function($event){return _vm.resizeHeaders()}}},[_vm._v(_vm._s(row[key]))]):_c('td',{class:_vm.tdClass},[_c('div',{style:(_vm.wrapperStyle),attrs:{\"title\":row[key]}},[_vm._v(_vm._s(row[key]))])])]}),(_vm.actions.length)?_c('td',{class:_vm.tdClass,staticStyle:{\"white-space\":\"nowrap\"}},_vm._l((_vm.actions),function(action){return _c('button',{attrs:{\"data-help-code\":\"general-record-delete\"},domProps:{\"innerHTML\":_vm._s(action.button)},on:{\"click\":function($event){return action.func($event,row._rowIndex)}}})}),0):_vm._e()],2):_vm._e()}),0),_c('tfoot',{staticStyle:{\"visibility\":\"hidden\"}},[_c('tr',[(_vm.checkable)?_c('td',{staticStyle:{\"text-align\":\"center\",\"padding-top\":\"0\",\"padding-bottom\":\"0\"}},[_c('div',{staticStyle:{\"height\":\"0\",\"overflow\":\"hidden\"}})]):_vm._e(),_vm._l((_vm.keys),function(key){return _c('td',{staticStyle:{\"padding-top\":\"0\",\"padding-bottom\":\"0\"}},[_c('div',{staticStyle:{\"height\":\"0\",\"overflow\":\"hidden\"}},[_vm._v(_vm._s(key))])])})],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"simple-table-vue\" ref=\"simple_table_vue\" :style=\"{width:'100%',height:'100%','max-height':'inherit',overflow:'hidden','box-sizing':'border-box',position:'relative'}\">\r\n    <div :style=\"{height:'100%','overflow-x':overflow,'overflow-y':'scroll','max-height':'inherit'}\" v-on:scroll=\"scrollHeaders\" id=\"scrollableDiv\" ref=\"scrollableDiv\">\r\n        <table class=\"table table-condensed header\">\r\n            <tbody :style=\"{position:'absolute'} \" ref=\"header\">\r\n                <tr v-if=\"showHeaders\"><td style=\"text-align:center;\" v-if=\"checkable && editedRows.length\"><input type=\"checkbox\" @click=\"allChecksClick($event)\"></td><td v-for=\"(key,i) in keys\" @click=\"headerClick(key,$event.target,i)\" :data-order=\"getOrder(key)\">{{key}}</td></tr>\r\n                <tr v-if=\"searchable\"><td v-if=\"checkable\">&nbsp;</td><td v-for=\"(key,i) in keys\" ><div contenteditable=\"true\" style=\"width:100%;cursor:text\" @keyup=\"filterTable()\" :id=\"key\">{{searchString}}</div></td></tr>\r\n            </tbody>\r\n        </table>\r\n        <table data-component=\"Tabla\" ref=\"tabla\" class=\"table table-condensed\" >\r\n            <tbody ref=\"tbody\">\r\n                <tr v-for=\"(row,rowIndex) in editedRows\" @click=\"onRowClick(row,rowIndex,$event)\" v-if=\"row._filterPassed\" :class=\"{rowSelected:selectedRowIndex==row._rowIndex}\">\r\n                    <td v-if=\"checkable\" :class=\"tdClass\" style=\"text-align:center;width:1px\">\r\n                        <input type=\"checkbox\" :checked=\"row._checked\" @click=\"onCheckClick(row,rowIndex,$event);\"/>\r\n                    </td>\r\n                    <template v-for=\"key in keys\">\r\n                        <td v-if=\"editablekeys.length && editablekeys.indexOf(key)!=-1\" :contenteditable=\"editablekeys.indexOf(key)!=-1\" :class=\"tdClass\" @blur=\"editTable($event,key,row._rowIndex)\" @keyup=\"resizeHeaders()\"  :data-help-code=\"editablekeys.indexOf(key)!=-1?'general-cell-canedit':''\">{{row[key]}}</td>\r\n                        <td v-else :class=\"tdClass\">\r\n                            <div :style=\"wrapperStyle\" :title=\"row[key]\">{{row[key]}}</div>\r\n                        </td>\r\n                    </template>\r\n                    <td :class=\"tdClass\" v-if=\"actions.length\" style=\"white-space:nowrap\">\r\n                        <button v-for=\"action in actions\" @click=\"action.func($event,row._rowIndex)\" data-help-code=\"general-record-delete\" v-html=\"action.button\">\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            <tfoot style=\"visibility:hidden\">\r\n                <tr><td style=\"text-align:center;padding-top:0;padding-bottom:0\" v-if=\"checkable\"><div style=\"height:0;overflow:hidden\"></div></td><td v-for=\"key in keys\" style=\"padding-top:0;padding-bottom:0\"><div style=\"height:0;overflow:hidden\">{{key}}</div></td></tr>\r\n            </tfoot>\r\n        </table>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  props: {\r\n    rows: {\r\n        type: Array\r\n        , required: true\r\n    }\r\n    , nowrap: Boolean\r\n    , selectable: {\r\n        Type: Boolean\r\n        , default: true\r\n    }\r\n    , searchable: Boolean\r\n    , searchString: String\r\n    , deleteable: Boolean\r\n    , orderable: Boolean\r\n    , checkable: Boolean\r\n    , singlecheck: Boolean\r\n    , showHeaders: {\r\n        type: Boolean\r\n        , default: true\r\n    }\r\n    , cellMaxHeight: String\r\n    , overflow: String\r\n    , checkedRows: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , hiddenKeys: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , editablekeys: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n    , actions: {\r\n        type: Array\r\n        , default: function (){return []}\r\n    }\r\n  },\r\n  data: function () {\r\n    return {\r\n        orderby: {}\r\n        , editedRows: this.generateEditedRows()\r\n        , selectedRowIndex: {}\r\n        , wrapperStyle: (function() {\r\n            const style = {}\r\n            if ( !this.cellMaxHeight ) return style\r\n            Object.assign( style, {'max-height':this.cellMaxHeight,overflow:'hidden','text-overflow':'ellipsis'} )\r\n            return style\r\n        }.bind(this))()\r\n        //, checkable: false\r\n    }\r\n  },\r\n  watch: {\r\n    rows(){\r\n        this.editedRows = this.generateEditedRows()\r\n        this.selectedRowIndex = -1\r\n        //this.$emit('rowClick',{})\r\n    },\r\n    checkedRows(){\r\n        this.editedRows = this.generateEditedRows()\r\n        //this.selectedRowIndex = -1\r\n        //this.$emit('rowClick',{})\r\n    }\r\n  },\r\n  computed: {\r\n      keys: function  () {\r\n          //console.log(this.editedRows)\r\n          if ( ! this.rows.length ) return []\r\n          //console.log(this.rows.length)\r\n          const llaves = Object.keys(this.rows[0]).filter ( key => {\r\n              return this.hiddenKeys.indexOf(key)==-1\r\n          })\r\n          return llaves \r\n      },\r\n      tdClass() {\r\n          const classes = {nowrap:false}\r\n          if ( this.nowrap ) classes.nowrap = 1\r\n          return classes\r\n      }\r\n  },\r\n  methods: {\r\n      generateEditedRows() {\r\n        if ( ! this.rows.length ) return []\r\n        const editedRows = this.rows.map ( (row,i) => {\r\n            return Object.assign ( {}, row, { _rowIndex: i, _filterPassed: true, _checked: this.checkedRows.indexOf(i) != -1 ? true : false } )\r\n        } )\r\n        //console.log ( editedRows)\r\n        return editedRows\r\n      },\r\n      reIndexRows(rows) {\r\n        if ( ! this.rows.length ) return rows\r\n        this.rows.forEach ( (row,i) => {\r\n            row._rowIndex = i\r\n        } )\r\n        return rows\r\n      },\r\n      editTable ( event, key, rowIndex ) {\r\n            const value =  $(event.target).text()\r\n            $(event.target).text(value)\r\n            this.editedRows[rowIndex][key] = value\r\n            const row = Object.assign({},this.editedRows[rowIndex])\r\n            delete row._rowIndex\r\n            delete row._filterPassed\r\n            this.$emit('rowEdit',{rowIndex,key,value})\r\n            //filterTable()\r\n      },\r\n      /*\r\n      onRowDelete ( event, rowIndex ) {\r\n          event.stopPropagation();\r\n            if ( ! confirm ( 'Eliminar este registro?' ) ) return false\r\n            this.$emit('rowDelete',rowIndex)\r\n            //filterTable()\r\n      },\r\n      */\r\n      filterTable () {\r\n          const searchFields = $(this.$refs.simple_table_vue).find('.header [contenteditable=\"true\"]')\r\n          //console.log(searchFields.length)\r\n          this.editedRows.forEach ( (row,i) => {\r\n              let filterPassed = true\r\n              searchFields.each ( function() {\r\n                  if ( filterPassed ) {\r\n                    const val = $(this).text()\r\n                    , key = this.id\r\n                    , rowVal = row[key]\r\n                    , re = new RegExp ( val , \"gi\" )\r\n                    , matches = ( rowVal && rowVal != null && typeof rowVal != \"undefined\" ) ? rowVal.toString().match(re) : false\r\n                    filterPassed = ( val == \"\" || matches ) ? true : false\r\n                  }\r\n              })\r\n              this.editedRows[i]._filterPassed = filterPassed\r\n          })\r\n          this.resizeHeaders()\r\n      },\r\n      onRowClick (row,rowIndex,event) {\r\n          if ( ! this.selectable ) {\r\n              this.onCheckClick (row,rowIndex,event)\r\n              return false\r\n          }\r\n        this.selectedRowIndex = row._rowIndex\r\n          this.$emit('rowClick',row)\r\n      },\r\n      onCheckClick (row,rowIndex,event) {\r\n          event.stopPropagation()\r\n          const newRows = JSON.parse ( JSON.stringify ( this.editedRows ) )\r\n          if ( this.singlecheck ) {\r\n            newRows.forEach ( (row,i) => { \r\n                row._checked = false; \r\n            } )\r\n          }\r\n          const newRow = JSON.parse(JSON.stringify(row))\r\n          newRow._checked = event.target.checked ? event.target.checked : ! newRow._checked\r\n          newRows[rowIndex]=newRow;\r\n          const checklist = newRows.filter ( row => row._checked ).map ( row => row._rowIndex )\r\n          this.editedRows=newRows \r\n          this.$emit('checkClick',checklist)\r\n      },\r\n      allChecksClick (event) {\r\n          event.stopPropagation()\r\n          this.editedRows.forEach(row=>{row._checked=event.target.checked});\r\n          const checklist = this.editedRows.filter ( row => row._checked ).map ( row => row._rowIndex )//\r\n          this.$emit('checkClick',checklist)\r\n      },\r\n      headerClick ( key, target, i ) {\r\n          this.$emit ( 'headerClick', {key, target, index: i})\r\n      },\r\n      orderBy ( key, target ) {\r\n          if ( !this.orderable ) return false\r\n          const order = this.orderby[key] \r\n          let newOrder\r\n          switch ( order ) {\r\n              case 'asc':\r\n                newOrder = 'desc'\r\n                break\r\n              case 'desc':\r\n                newOrder = false\r\n                break\r\n              default:\r\n                newOrder = 'asc'\r\n          }\r\n          delete this.orderby[key]\r\n          $(target).removeAttr('data-order')\r\n          if ( newOrder ) {\r\n            this.orderby[key] = newOrder\r\n            $(target).attr('data-order',newOrder)\r\n          }\r\n          this.$emit('orderBy',this.orderby)\r\n        //log(this.orderby)\r\n      },\r\n      getOrder ( key ) {\r\n          const order = this.orderby[key]\r\n          return order\r\n      },\r\n      resizeHeaders() {\r\n        const $header = $(this.$refs.header)\r\n        , $tbody = $(this.$refs.tbody)\r\n        , $columns = $tbody.find('tr:visible').eq(0).find('td')\r\n        , $headerColumns = $header.find('tr').eq(0).find('td')\r\n        , $scrollableDiv = $(this.$refs.scrollableDiv)\r\n        , widths = []\r\n        $scrollableDiv.height('100%')\r\n        $header.closest('tbody').width($tbody.closest('table').width())\r\n        $columns.each ( function (i) {\r\n            const $col = $(this)\r\n            , $headerCol = $headerColumns.eq(i)\r\n            , width = $col.width()\r\n            //console.log(i+'*'+width)\r\n            $headerCol.width ( width )\r\n            widths.push ( width )\r\n        })\r\n        const headerHeight = $header.height()\r\n        $header.css({\"margin-top\":\"-\"+headerHeight+\"px\"})\r\n        $(this.$refs.simple_table_vue).css({\"padding-top\":headerHeight+\"px\"})\r\n        this.scrollHeaders()\r\n        const height = $(this.$refs.simple_table_vue).height()\r\n        $scrollableDiv.height(height)\r\n        this.$emit('resizeHeaders',widths)\r\n      },\r\n      scrollHeaders() {\r\n          //this.resizeHeaders()\r\n          const div = this.$refs.scrollableDiv //$('#scrollableDiv')[0]\r\n          , $header = $(this.$refs.header)\r\n          , scrollLeft = ( ( div.scrollLeft * -1 ) )\r\n          , width = $('.simple-table-vue').width()\r\n          $header.css({'margin-left':scrollLeft+ 'px'})//.width (width-scrollLeft-20)\r\n          this.$emit('scrollHeaders',scrollLeft*-1)\r\n          //$(this.$refs.header).css({clip:`rect(0px,${width-scrollLeft-16}px,100px,0px)`})\r\n          //console.log(width\r\n      },\r\n    reset () { \r\n        \r\n        this.$nextTick(function(){\r\n          const newRows = JSON.cc ( this.generateEditedRows() ) \r\n          this.editedRows=newRows \r\n        })\r\n        \r\n    }\r\n\r\n  },\r\n  updated(){\r\n    //if ( this.editedRows.length ) this.onRowClick(this.editedRows[0],0)\r\n      this.resizeHeaders()\r\n      this.filterTable()\r\n  },\r\n    mounted () {\r\n      window.addEventListener('resize', this.resizeHeaders )\r\n      this.resizeHeaders()\r\n    },\r\n    beforeDestroy () {\r\n      window.removeEventListener('resize', this.resizeHeaders)\r\n    }    \r\n}\r\n</script>\r\n","import mod from \"-!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../CIRCUS/node_modules/thread-loader/dist/cjs.js!../../../CIRCUS/node_modules/babel-loader/lib/index.js!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../CIRCUS/node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../CIRCUS/node_modules/thread-loader/dist/cjs.js!../../../CIRCUS/node_modules/babel-loader/lib/index.js!../../../CIRCUS/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../CIRCUS/node_modules/vue-loader/lib/index.js??vue-loader-options!./simple-table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./simple-table.vue?vue&type=template&id=04590f64&\"\nimport script from \"./simple-table.vue?vue&type=script&lang=js&\"\nexport * from \"./simple-table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../CIRCUS/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default class queryEditor {\r\n    constructor (paramArray,queries) {\r\n        /*\r\n        const params = Object.keys(paramObject).map ( key => ({\r\n            key\r\n            , value: paramObject[key].value\r\n            , text: paramObject[key].text\r\n            , data_type: paramObject[key].data_type\r\n            , operator: \"AND\"\r\n        }))\r\n        */\r\n       // if ( !paramArray.length ) paramArray = this.getParamArray(paramArray)\r\n        /*\r\n       const params = paramObject.map ( para => {\r\n            const key = para.key\r\n            , value = para.value\r\n            , text = para.text\r\n            , data_type = para.data_type\r\n            , operator = para.operator ? para.operator : \"AND\"\r\n            , vista = para.vista\r\n            , campo = para.campo\r\n            , list = para.list\r\n            , leftText = para.leftText\r\n            , rightText = para.rightText\r\n            return { key, value, text, data_type, operator, vista, campo, list }\r\n        })\r\n        */\r\n        this.params = paramArray\r\n        this.queries = queries\r\n    }\r\n    getParams ( paramObject ) {\r\n        return this.params\r\n    }\r\n    getColumns ( ) {\r\n        const columns = _.uniq(this.params.filter(param=>param._inlist).map(param=>{\r\n            let key = param.key\r\n            //, dbID = this.api.getTableConnectionId ( key )\r\n            //key = dbID + '.dbo.' + key\r\n            if(param.data_type==\"date\"){\r\n                key = `(convert(char(10),${key},103))`\r\n            }\r\n            return (`${key} as [${param.alias}]`)\r\n        }))\r\n        //console.log(columns)\r\n        return columns\r\n    }\r\n    getSqlSyntax () {\r\n        let sqlSyntax = \"\"\r\n        , val\r\n        //console.log(\"qe\")\r\n        //console.log(JSON.cc(this.params))\r\n        this.params.filter ( param => param._active ).forEach ( param => {\r\n            const vista = param.vista\r\n            let isInlineSelect = false // param.value.match ( /^{.*}$/g )\r\n            try {\r\n                const json = JSON.parse ( param.value )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    const sql = json.sql\r\n                    , descripcion = json.descripcion\r\n                    isInlineSelect = {sql,descripcion}\r\n                }\r\n            } catch ( err ) {}\r\n            if ( vista != \"\" ) {\r\n                console.log('motito'+vista+'--')\r\n                const campo = param.campo\r\n                , query = this.getQueryByName ( vista )\r\n                const joinSyntax = query.joinSyntax\r\n                , whereSql = query.whereSql\r\n                val = ` ${param.key} on( SELECT ${campo} FROM ${joinSyntax} ${whereSql} )`\r\n                //sqlSyntax += ` ${param.operator} ${param.leftText} ${val} ${param.rightText}`\r\n            } else if (isInlineSelect) {\r\n                val = ` ${param.key} IN ( ${isInlineSelect.sql} )`\r\n            } else {\r\n                if ( param.list ) {\r\n                    const listElements = this.matchListElements(param.list,param.text) // Ej: [[1,'alta'],[2,'baja']]\r\n                    let valor = \"\"\r\n                    listElements.forEach ( ele => {\r\n                        const value = ele[0]\r\n                        valor += `\"${value}\" OR `\r\n                    })\r\n                    if ( valor != \"\" ) {\r\n                        valor = valor.substring ( 0, valor.length - 4 )\r\n                        console.log(\"valor\"+valor)\r\n                        param.value = valor\r\n                    }\r\n                } else {\r\n                    \r\n                }\r\n                val = stringMatch ( param.key, param.text, param.data_type, param )\r\n            }\r\n            if ( param.value != \"%\" && param.value != \"[]\" && param.value != \"\" ) sqlSyntax += ` ${param.operator} ${param.leftText} ${val} ${param.rightText}`\r\n        })\r\n        if ( sqlSyntax.length > 0 ) {\r\n            sqlSyntax = sqlSyntax.substring ( 4 )\r\n            //sqlSyntax += this.getOrderBy()\r\n        }\r\n        //console.log(sqlSyntax)\r\n        return sqlSyntax\r\n    }\r\n    getOrderBy () {\r\n        let orderBy = []\r\n        this.params.forEach ( param => {\r\n            const order = param._orderby\r\n            , valid = ( order == 'asc' || order == 'desc' )\r\n            if ( valid ) {\r\n                let key = param.key\r\n                /*\r\n                if(param.data_type==\"date\"){\r\n                    key = `(convert(char(10),${key},103))`\r\n                }\r\n                */\r\n                /*\r\n                if(key.toLowerCase().indexOf('select ')!=-1&&key.toLowerCase().indexOf('from ')!=-1) {\r\n                    key = param.reference\r\n                }\r\n                */\r\n                orderBy.push ( key + ' ' + order )\r\n                //return (`${key} as [${param.alias}]`)\r\n            }\r\n        })\r\n        //if ( orderBy != \"\" ) orderBy = orderBy.substring(0,orderBy.length-1)\r\n        return orderBy\r\n    }\r\n    getQueryByName (name) {\r\n        let resQuery\r\n        this.api.$dbq ({\r\n            schemaSyntax: \"views\"\r\n            , columns: [\"v_json\"]\r\n            , whereSyntax: \"name = \"+name\r\n            , language: \"spanish\"\r\n            , dbID: \"circus\"\r\n        },(recordset)=>{\r\n            const v_json = recordset[0].v_json\r\n            console.log(v_json)\r\n        },false)\r\n        return\r\n        this.queries.forEach ( query => {\r\n            console.log(query.name+'*'+name)\r\n            if ( query.name == name ) {\r\n                resQuery = query\r\n            }\r\n        })\r\n        //console.log(resQuery)\r\n        return resQuery\r\n    }\r\n    getWhereText () {\r\n        let whereText = \"\"\r\n        this.params.filter ( param => param._active ).forEach ( param => {\r\n            whereText += param.operator + ' ' + param.leftText + ' ' + param.alias + ' = ' + param.text + ' ' + param.rightText\r\n        })\r\n        return whereText\r\n    }\r\n    matchListElements (keyList, searchedValue ) {\r\n        //log(this.keysSettings)\r\n        let matchedEles = []\r\n        if ( keyList ) {\r\n            const values = keyList.values\r\n            matchedEles = values.filter ( val => {\r\n                if ( val[1].indexOf(searchedValue) != -1 ) return true\r\n            })\r\n        }\r\n        return matchedEles\r\n    }\r\n}\r\nexport function parseHandy (txt) {\r\n    if ( txt.indexOf('\"') != -1 ) return txt // si lleva doble comillas es expresin de la vieja complicada. No proceso.\r\n    //txt = txt.replace ( /  /g , \" \" ) //quito dobles espacios\r\n    const spliters = ['> ','< ','>= ','<= ','<> ','= ']\r\n    , txtSplit = txt.split(\" - \")\r\n    , parsedHandy = {}\r\n    let parseAble = false\r\n    if ( txtSplit.length == 2 ) { // Es Rango.\r\n        const leftVal = txtSplit[0]\r\n        , rightVal = txtSplit[1]\r\n        parsedHandy.val1 = leftVal\r\n        parsedHandy.val2 = rightVal\r\n        parseAble = true\r\n    }\r\n    if ( ! parseAble ) {\r\n        spliters.forEach ( spliter => {\r\n            const txtSplit = txt.split(spliter)\r\n            if ( txtSplit.length == 2 && ! parseAble ) {\r\n                const rightVal = txtSplit[1]\r\n                parsedHandy.val1 = rightVal\r\n                parsedHandy.operator = spliter\r\n                parseAble = true\r\n                //handSyntax = `\"${spliter}${rightVal}\"`\r\n                //console.log(spliter)\r\n            }\r\n        })\r\n    }\r\n    if ( parseAble ) {\r\n        return parsedHandy\r\n    } else {\r\n        return txt\r\n    }\r\n}\r\nfunction handyToClassic ( handy ) {\r\n    if ( typeof handy == 'object' ) {\r\n        const val1 = handy.val1\r\n        , val2 = handy.val2\r\n        , operator = handy.operator\r\n        if ( typeof val2 != \"undefined\" ) {\r\n            return `\">=${val1}\" AND \"<=${val2}\"`\r\n        } else {\r\n            return `\"${operator}${val1}\"`\r\n        }\r\n    } else {\r\n        return handy\r\n    }\r\n\r\n}\r\n//console.log(hoyToGetdate('\">hoy(+1a)\"'))\r\nfunction hoyToGetdate(exp) {\r\n    const re = / *hoy *\\( *([\\+,\\-] *\\d+ *[d,m,a,D,M,A]){0,1} *\\) */gi\r\n    , matches = exp.match(re)\r\n    if ( ! matches ) return exp\r\n    matches.forEach ( match => {\r\n        exp = exp.replace ( match, gde(match) )\r\n    })\r\n    return exp\r\n    function gde ( match ) {\r\n        let handy = match.replace ( / */gi , \"\" ).replace(\"hoy(\",\"\").replace(\")\",\"\")\r\n        if ( ! handy.length ) return `getdate()`\r\n        const operator = handy[0]\r\n        , increment = handy.substr(1,handy.length-2)\r\n        let interval = handy[handy.length-1]\r\n        switch ( interval ) {\r\n            case 'a': interval = 'year'; break;\r\n            case 'm': interval = 'month'; break;\r\n            case 'd': interval = 'day'; break;\r\n        }\r\n        const dateExp = `dateadd(${interval},${operator}${increment},getdate())`\r\n        //console.log(interval)\r\n        return dateExp\r\n    }\r\n}\r\nfunction stringMatch ( n, v, data_type, param ) {\r\n    const type = data_type//dataType ( data_type )\r\n    , isnumeric = type == 'number'\r\n    , isdate = type == 'date'\r\n    , sqlparaloquesea = '\"%\" or \"\"'\r\n    let vJson = false\r\n    if ( isnumeric || isdate ) v = handyToClassic ( parseHandy ( v ) )\r\n    if ( v == '%' ) v=sqlparaloquesea\r\n    try {\r\n        vJson = JSON.parse ( v )\r\n        if ( typeof vJson == \"string\" || typeof vJson == \"number\"  ) vJson = undefined\r\n    } catch ( err ) {\r\n    }\r\n\tvar re=/\"([^\"]*)\"/gi\r\n    var matches=v.match(re)\r\n    if ( vJson ) {\r\n        const literals = vJson.map ( literal => {\r\n            return `'${literal.replace(/\\'/gi,\"''\")}'` \r\n        })\r\n        \r\n        var sqltxt = \"\"\r\n        literals.forEach ( function ( val ) {\r\n            sqltxt = sqltxt + n + \" LIKE \" + val + \" OR \"\r\n        } )\r\n        if (sqltxt.length ) sqltxt = \"(\" + sqltxt.substring(0, sqltxt.length-3) + \")\";\r\n        //if ( param.like ) return sqltxt\r\n        if ( ! isnumeric && ! isdate ) return sqltxt\r\n    \r\n        return \"(\"+n+\" IN (\" + literals + \"))\"\r\n    } else {\r\n        if ( !matches ){\r\n            if ( isdate ) {\r\n                var r=\"convert(char(10),\"+n+\",103) like '%\"+v+\"%'\"\r\n                return \"(\"+r+\")\"\r\n            /*\r\n            } else if ( isnumeric ) {\r\n                return \"(\"+n+\" = \" + v + \")\"\r\n            */\r\n            } else {\r\n                return \"(\"+n+\" like '%\" + v + \"%')\"\r\n            }\r\n        } else {\r\n            var espacioraro=new RegExp(String.fromCharCode(160),\"g\")\r\n            , saltodelinea=new RegExp(String.fromCharCode(10),\"g\")\r\n            , sqlparanulo = '(\" is null\" or \"=' + \"''\" + '\")'\r\n            , r=\"\"\r\n            , l=\"\"\r\n            v=v.replace(espacioraro,\"\").replace(saltodelinea,\"\")\r\n            if(isnumeric||isdate){v=v.replace('\"\"',sqlparanulo)}\r\n            if(isnumeric||isdate){\r\n                r=hoyToGetdate(v.replace(re,n+\"$1\"))\r\n                //if(tipo==135 && v.toLowerCase().indexOf('getdate')==-1 && v.toLowerCase().indexOf(sqlparanulo)==-1){\r\n                if(isdate){\r\n                    var red=new RegExp(\"[0-9]{1,2}/[0-9]{1,2}/[0-9]{4}\",\"g\")\r\n                    var matchesf = r.match(red)\r\n                    //if (matchesf == null){alerta('Sintaxis de filtrado no vlida');return false}\r\n                    //for(var i=0;i<matchesf.length;i++)r=r.replace(matchesf[i],\"'\"+matchesf[i]+\"'\")\r\n                    if (matchesf != null){\r\n                        for(var i=0;i<matchesf.length;i++){\r\n                            //if(tipo==135 && v.toLowerCase().indexOf('getdate')==-1 && v.toLowerCase().indexOf(sqlparanulo)==-1)\r\n                                r=r.replace(matchesf[i],\"'\"+matchesf[i]+\"'\")\r\n                        }\r\n                    }\r\n                }\r\n            }else{\r\n                for(var i=0;i<matches.length;i++)v=v.replace(matches[i],matches[i])\r\n                r=v.replace(re,n+\" like '$1'\")\r\n                r=r.replace(n+\" like ''\",\"(\"+n+\" is null OR \"+n+\"='')\")\r\n            }\r\n            return \"(\"+r+\")\"\r\n        }\r\n    }\r\n}\r\nfunction eliminarAcentos(txt){\r\n\ttxt=txt.replace(/a/gi,\"[a,\\u00e1]\")\r\n\ttxt=txt.replace(/e/gi,\"[e,\\u00e9]\")\r\n\ttxt=txt.replace(/i/gi,\"[i,\\u00ed]\")\r\n\ttxt=txt.replace(/o/gi,\"[o,\\u00f3]\")\r\n\ttxt=txt.replace(/u/gi,\"[u,\\u00fa]\")\r\n\ttxt=txt.replace(/n/gi,\"[n,\\u00f1]\")\r\n\treturn txt\r\n}\r\n","<template>\r\n    <div ref=\"contextList\"\r\n        id=\"circusContextList\"\r\n        :style=\"{\r\n            'max-height':'300px',\r\n            border:'0px solid #ddd',\r\n            'border-width':'1px',\r\n            position:'absolute',\r\n            //width: 0,\r\n            //height:'100%',\r\n            //overflow:'visible',\r\n            'z-index':50000,\r\n            left:left+'px',\r\n            top:top+'px',\r\n            display:'none',\r\n            background: '#f2f2f2',\r\n            'box-sizing':'border-box',\r\n            background:'#f2f2f2',\r\n            height:'auto'\r\n            //float:'left'\r\n        }\"\r\n    >\r\n        <!--<div style=\"position:absolute;border:1px solid red;min-width:50px;background:#f2f2f2;max-height:300px;\">-->\r\n        <div style=\"clear:both;float:none;width:100%;border:0px solid red;height:21px;padding-top:1px\">\r\n            <button @click='contextListButton(\"empty\")' data-help-code=\"context-list-button-empty\" style=\"float:left\">\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"50.613px\" height=\"50.613px\" viewBox=\"0 0 50.613 50.613\" style=\"enable-background:new 0 0 50.613 50.613;;zoom:0.6;margin-left:-4px;margin-top:3px\"\t xml:space=\"preserve\"><g>\t<g>\t\t<g><circle cx=\"22.724\" cy=\"43.575\" r=\"4.415\"/>\t\t\t<circle cx=\"41.406\" cy=\"43.63\" r=\"4.415\"/>\t\t\t<path d=\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\t\t\t\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                <!--\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"  viewBox=\"0 0 142.916 142.916\" style=\"enable-background:new 0 0 142.916 142.916;zoom:0.6;margin-left:-4px;margin-top:3px\"\t xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M32.901,114.799l-12.015,16.507c-2.375,3.265-1.656,7.835,1.608,10.21c1.301,0.945,2.807,1.4,4.295,1.4\t\t\tc2.261,0,4.487-1.043,5.917-3.006l12.11-16.638c7.951,4.239,17.019,6.651,26.644,6.651c31.342,0,56.84-25.499,56.84-56.842\t\t\tc0-15.979-6.636-30.427-17.283-40.764l15.074-20.709c2.375-3.265,1.655-7.834-1.607-10.21c-3.273-2.377-7.84-1.651-10.209,1.608\t\t\tL99.313,23.562c-8.241-4.655-17.739-7.323-27.856-7.323c-31.343,0-56.842,25.499-56.842,56.841\t\t\tC14.615,89.557,21.665,104.409,32.901,114.799z M113.682,73.08c0,23.284-18.94,42.226-42.226,42.226\t\t\tc-6.407,0-12.461-1.477-17.905-4.039l48.729-66.951C109.331,51.864,113.682,61.964,113.682,73.08z M71.457,30.856\t\t\tc6.901,0,13.403,1.698,19.159,4.646l-49.043,67.381c-7.623-7.643-12.344-18.181-12.344-29.801\t\t\tC29.232,49.798,48.173,30.856,71.457,30.856z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                -->\r\n            </button>\r\n            <button @click='contextListButton(\"filled\")' style=\"float:left\" data-help-code=\"context-list-button-filled\">\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"50.613px\" height=\"50.613px\" viewBox=\"0 0 50.613 50.613\" style=\"enable-background:new 0 0 50.613 50.613;;zoom:0.6;margin-left:-4px;margin-top:3px\"\t xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M49.569,11.145H20.055c-0.961,0-1.508,0.743-1.223,1.661l4.669,13.677c0.23,0.738,1.044,1.336,1.817,1.336h19.35\t\t\t\tc0.773,0,1.586-0.598,1.814-1.336l4.069-14C50.783,11.744,50.344,11.145,49.569,11.145z\"/>\t\t\t<circle cx=\"22.724\" cy=\"43.575\" r=\"4.415\"/>\t\t\t<circle cx=\"41.406\" cy=\"43.63\" r=\"4.415\"/>\t\t\t<path d=\"M46.707,32.312H20.886L10.549,2.568H2.5c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h4.493L17.33,37.312h29.377\t\t\t\tc1.381,0,2.5-1.119,2.5-2.5S48.088,32.312,46.707,32.312z\"/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                <!--\r\n                <svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 300 300\" style=\"enable-background:new 0 0 300 300;;zoom:0.5;margin-left:-4px;margin-top:4px\" xml:space=\"preserve\"><path d=\"M150,0C67.29,0,0,67.29,0,150s67.29,150,150,150s150-67.29,150-150S232.71,0,150,0z M150,270c-66.169,0-120-53.832-120-120\tS83.831,30,150,30s120,53.832,120,120S216.168,270,150,270z\"/><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                -->\r\n            </button>\r\n            <!--\r\n            <select\r\n                ref=\"comparation\"\r\n                v-if=\"type=='date'||type=='number'\"\r\n                style=\"margin-top:1px;margin-left:4px;;border-color:#ccc;float:left;\"\r\n                @change=\"contextListSwitchComparation\"\r\n            >\r\n                <option value=\"0\">Rango</option>\r\n                <option value=\"1\">Igual a</option>\r\n            </select>\r\n            -->\r\n            &nbsp;\r\n        </div>\r\n        <SimpleTable\r\n            v-if=\"type=='list'\"\r\n            :rows=\"rows\"\r\n            :hiddenKeys=\"hiddenKeys\"\r\n            :checkable=\"true\"\r\n            :searchable=\"true\"\r\n            :selectable=\"false\"\r\n            :showHeaders=\"false\"\r\n            :checkedRows=\"checkedRows\"\r\n            :singlecheck=\"singlecheck\"\r\n            v-on:rowClick=\"contextListRowClick\"\r\n            v-on:checkClick=\"contextListCheckClick\"\r\n            :searchString=\"searchString\"\r\n        />\r\n        <div\r\n            v-else-if=\"type=='date'||type=='number'\"\r\n            style=\"width:100%;height:100%;background:white;padding:5px; border:1px solid #ddd\"\r\n        >\r\n            <div ref=\"contextList_rango\" style=\"min-width:100px\">\r\n            <label style=\"font-weight:normal\">Desde</label>\r\n            <input class=\"form-control\" @blur=\"contextListKeyUp()\" ref=\"desde\" v-model=\"leftVal\" data-help-code=\"search-parameter-value\">\r\n            <label style=\"font-weight:normal\">Hasta</label>\r\n            <input class=\"form-control\" @blur=\"contextListKeyUp()\" ref=\"hasta\" v-model=\"rightVal\" data-help-code=\"search-parameter-value\">\r\n            </div>\r\n        <!--</div>-->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport * as qe from './query-editor.js';\r\n\r\n\r\n/*\r\nwindow.bus.$on('contextListBlur',function(){\r\n    window.contextListFocused = false\r\n})\r\n*/\r\nexport default {\r\n    components: { SimpleTable }\r\n    , props: {\r\n    }\r\n    , data() {\r\n        return {\r\n            rows: []\r\n            , hiddenKeys: []\r\n            , top: 400\r\n            , left: 100\r\n            , height: 300\r\n            , checkedRows: []\r\n            , type: \"text\"\r\n            , comparation: 0\r\n            , leftVal: \"\"\r\n            , rightVal: \"\"\r\n            , searchString: \"\"\r\n        }\r\n    }\r\n    , mounted () {\r\n        window.contextList = this\r\n    }\r\n    , methods: {\r\n        contextListKeyUp(){\r\n            const desde = this.$refs.desde.value\r\n            , hasta = this.$refs.hasta.value\r\n            //, iguala = this.$refs.iguala.value\r\n            //, comparation = this.$refs.comparation.selectedIndex\r\n            let val = \"\"\r\n            if ( desde != \"\" && hasta == \"\" ) val = \">= \" + desde\r\n            if ( desde == \"\" && hasta != \"\" ) val = \"<= \" + hasta\r\n            if ( desde != \"\" && hasta != \"\" ) {\r\n                if ( desde == hasta )\r\n                    val = \"= \" + desde\r\n                else\r\n                    val = desde + \" - \" + hasta\r\n            }\r\n            this.onChange(val)\r\n        },\r\n        contextListButton(option){\r\n            if(option==\"empty\")this.onChange(`\"\"`)\r\n            if(option==\"filled\")this.onChange(`_`)\r\n        },\r\n        contextListRowClick(row){\r\n            \r\n        },\r\n        contextListCheckClick(checkedIndexes){\r\n            const checkedRows = JSON.cc(this.rows).filter ( (ele,i) => {\r\n                if ( checkedIndexes.indexOf(i) != -1 ) return true\r\n                return false\r\n            })\r\n            const checkedIds = JSON.stringify(checkedRows.map ( row => row[Object.keys(row)[1]] ))\r\n            this.onChange(checkedRows)\r\n            //this.onChange(checkedRows)\r\n        },      \r\n        updateContext ({searchString}) {\r\n            this.searchString = searchString\r\n        },\r\n        openContext (keyName,$field,val,type,onChange,cb, singlecheck, {dbname,ownername,tablename,fieldname,dbID, searchString} ) {\r\n            this.singlecheck = singlecheck\r\n        \tthis.contextListFocused = true\r\n            this.searchString = searchString\r\n            this.onChange = (val) => {\r\n                onChange(val)\r\n                setTimeout(this.positionContext,0)\r\n            }\r\n            this.$field = $field\r\n        \tconst contextList = this\r\n            contextList.rows = []\r\n        \tconst listModel = this.api.getListModel(keyName)\r\n        \tif ( listModel ) { \r\n        \t\tlet contextListData, contextListHiddenKeys\r\n        \t\tif ( !listModel.length ) { //Es lista dinmica\r\n                    //console.log(dbqParams)\r\n        \t\t\tconst {sqlListGrid,connection} = listModel\r\n        \t\t\t, sql = sqlListGrid.toLowerCase()\r\n        \t\t\t, columns = sql.substring ( sql.indexOf('select') + 6, sql.indexOf('from') ).trim().split(\",\")\r\n        \t\t\t, schemaSyntax = sql.substring ( sql.indexOf('from') + 4, sql.indexOf('where') ).trim()\r\n        \t\t\t, whereSyntax = sql.substring ( sql.indexOf('where') + 5, sql.indexOf('order by') ).trim()\r\n        \t\t\t, orderbyColumns = sql.substring ( sql.indexOf('order by') + 8 ).trim()\r\n        \t\t\t, dbqParams = {\r\n        \t\t\t\toperation: 'select'\r\n        \t\t\t\t, columns\r\n        \t\t\t\t, schemaSyntax\r\n        \t\t\t\t, whereSyntax\r\n        \t\t\t\t, orderbyColumns\r\n                        , dbID: connection\r\n        \t\t\t}\r\n                    console.log(dbqParams)\r\n        \t\t\tthis.api.$dbq ( dbqParams, data => {\r\n        \t\t\t\tcontextListData = data\r\n        \t\t\t\tcontextListHiddenKeys = [columns[0]]\r\n        \t\t\t\tfeedList()\r\n        \t\t\t})\r\n        \t\t} else { //Es lista esttica\r\n        \t\t\tconst data = listModel.map ( ele => ({\r\n        \t\t\t\tid: ele[0]\r\n        \t\t\t\t, Literal: ele[1]\r\n        \t\t\t}))\r\n        \t\t\tcontextListData = data\r\n        \t\t\tcontextListHiddenKeys = ['id']\r\n        \t\t\tfeedList()\r\n        \t\t}\r\n        \t\tfunction feedList() {\r\n        \t\t\tconst top = $field.offset().top + $field.outerHeight()\r\n        \t\t\t, left = $field.offset().left\r\n                    , checkedRows = getCheckedRowsFromInput(val,contextListData)\r\n                    /*\r\n        \t\t\t, checkedRows = []\r\n        \t\t\tlet json = false\r\n        \t\t\ttry {\r\n        \t\t\t\tconst checkedLiterals = JSON.parse ( val )\r\n        \t\t\t\tcontextListData.forEach ( (row,i) => {\r\n        \t\t\t\t\tif ( checkedLiterals.indexOf(row[Object.keys(row)[1]]) != -1 ) checkedRows.push ( i ) \r\n        \t\t\t\t})\r\n        \t\t\t} catch (err){ }\r\n                    */\r\n        \t\t\tcontextList.rows = contextListData\r\n        \t\t\tcontextList.hiddenKeys = contextListHiddenKeys\r\n        \t\t\tcontextList.checkedRows = checkedRows\r\n        \t\t\topen('list')\r\n        \t\t}\r\n        \t} else {\r\n        \t\tconst parsedHandy = qe.parseHandy ( val )\r\n        \t\t, leftVal = parsedHandy.leftVal\r\n        \t\t, operator = parsedHandy.operator\r\n        \t\t//console.log(parsedHandy)\r\n        \t\tif ( ! operator ) {\r\n        \t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\tcontextList.rightVal = parsedHandy.val2\r\n        \t\t} else {\r\n        \t\t\tif ( operator.indexOf ( \">\" ) != -1 ) {\r\n        \t\t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\t\tcontextList.rightVal = \"\"\r\n        \t\t\t} else if ( operator.indexOf ( \"<\" ) != -1 ) {\r\n        \t\t\t\tcontextList.leftVal = \"\"\r\n        \t\t\t\tcontextList.rightVal = parsedHandy.val1\r\n        \t\t\t} else {\r\n        \t\t\t\tcontextList.leftVal = parsedHandy.val1\r\n        \t\t\t\tcontextList.rightVal = parsedHandy.val1\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\t//console.log(type)\r\n        \t\t//contextList.rows = []\r\n\r\n                // SELECTOR DE COINCIDENCIAS EN CAMPO DE TEXTO\r\n                if ( type == \"text\" ) {\r\n                     const dbqParams = {\r\n        \t\t\t\toperation: 'request'\r\n        \t\t\t\t, sqlSyntax: `SELECT distinct top 20  1 AS _ROW_NUMBER,${fieldname} FROM ${tablename} WHERE ${fieldname} IS NOT NULL AND ${fieldname} <> '' AND ${fieldname} LIKE '%${val}%' ORDER BY ${fieldname}`\r\n                        , dbID\r\n        \t\t\t}\r\n                    //console.log(dbqParams)\r\n        \t\t\tthis.api.$dbq ( dbqParams, data => {\r\n                    //console.log(data)\r\n        \t\t\t\tcontextList.rows = data\r\n                        contextList.checkedRows = getCheckedRowsFromInput ( val, data )\r\n        \t\t\t\tcontextList.hiddenKeys = ['_ROW_NUMBER']\r\n        \t\t\t\t//feedList()\r\n        \t\t\t}, true, true)\r\n                    type=\"list\"\r\n                }\r\n                \r\n        \t\topen(type)\r\n        \t}\r\n            function getCheckedRowsFromInput ( val, contextListData ) {\r\n        \t\t\tconst checkedRows = []\r\n        \t\t\tlet json = false\r\n        \t\t\ttry {\r\n        \t\t\t\tconst checkedLiterals = JSON.parse ( val )\r\n        \t\t\t\tcontextListData.forEach ( (row,i) => {\r\n        \t\t\t\t\tif ( checkedLiterals.indexOf(row[Object.keys(row)[1]]) != -1 ) checkedRows.push ( i ) \r\n        \t\t\t\t})\r\n        \t\t\t} catch (err){ }\r\n                    return checkedRows\r\n            }\r\n        \tfunction open(type) {\r\n        \t\tconst top = $field.offset().top + $field.outerHeight()\r\n        \t\t, left = $field.offset().left\r\n                , $list = $(contextList.$refs.contextList).show()\r\n                //, $detach = $list.detach()\r\n        \t\tcontextList.type = type\r\n                //$field.css({'background-color':'red'}).before($list)\r\n                contextList.opened = true\r\n                contextList.positionContext()\r\n                $('body').click(showContext)\r\n        \t\tif ( cb ) cb ( )\r\n        \t}\r\n            const that = this\r\n            function showContext (event){\r\n                //return\r\n                const ae = document.activeElement\r\n                , isContextList = $(ae).closest('#circusContextList').length || $(event.target).closest('#circusContextList').length\r\n                if(!isContextList && !that.contextListFocused) {\r\n                    const menu = $(that.$refs.contextList)\r\n                    menu.hide()\r\n                    //$(window).off('click',showContext)\r\n                    contextList.opened = false\r\n                    $('body').off()\r\n                }\r\n            }\r\n        },\r\n        positionContext(event) {\r\n            if ( !contextList.opened || !this.$field ) return\r\n       \t\tconst top = this.$field.offset().top + this.$field.outerHeight()\r\n       \t\t, left = this.$field.offset().left\r\n       \t\tcontextList.top = top\r\n       \t\tcontextList.left = left\r\n            if (!event || !$.contains (event.target,this.$field[0]))return\r\n            const inView= isScrolledIntoView(this.$field,$(event.target))\r\n            if ( !inView )\r\n                $(this.$refs.contextList).hide()\r\n            else \r\n                $(this.$refs.contextList).show()\r\n            //console.log(inView)\r\n            function isScrolledIntoView($elem,$container) {\r\n                var docViewTop = $container.offset().top //$container.scrollTop();\r\n                var docViewBottom = docViewTop + $container.height();\r\n\r\n                var elemTop = $elem.offset().top;\r\n                var elemBottom = elemTop + $elem.height();\r\n//console.log({docViewTop,docViewBottom,elemTop,elemBottom})\r\n                return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\r\n            }\r\n            \r\n        },\r\n        closeContext() {\r\n            this.contextListFocused = false\r\n            //console.log('aa')\r\n            return\r\n            const $aux = $('#contextList_auxiliar')\r\n            const $list = $(contextList.$refs.contextList).hide().detach()\r\n            $('body').append($list)\r\n            //$aux.remove()\r\n\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-list.vue?vue&type=template&id=5b043e6d&\"\nimport script from \"./context-list.vue?vue&type=script&lang=js&\"\nexport * from \"./context-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ly',{attrs:{\"flexbox\":\"1\"}},_vm._l((_vm.buttons),function(button){return _c('ly',[_c('button',{staticClass:\"btn btn-primary btn-xs\",staticStyle:{\"border\":\"none\",\"outline\":\"none\"},attrs:{\"disabled\":button.disabled,\"title\":button.title,\"data-help-code\":button.helpCode,\"value\":button.label},domProps:{\"innerHTML\":_vm._s(button.label)},on:{\"click\":function($event){return _vm.onClick(button)}}})])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.itemClasses},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"itemClasses\">\r\n    <slot>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:['grow','overflow','breakHeight','flexbox','column','height','shrink','wrap'],\r\n  computed: {\r\n    isContainer () {\r\n      return this.flexbox\r\n    },\r\n    baseClassName () {\r\n      return this.isContainer ? 'LyBox' : 'LyItem'\r\n    },\r\n    itemClasses: function () {\r\n      const baseClassName = this.baseClassName\r\n      , clases = {\r\n        [baseClassName]: 1, \r\n        [baseClassName+'-grow']: this.grow, \r\n        [baseClassName+'-overflow']: this.overflow, \r\n        [baseClassName+'-breakHeight']: this.breakHeight,\r\n        [baseClassName+'-column']: this.column,\r\n        [baseClassName+'-height']: this.height,\r\n        [baseClassName+'-shrink']: this.shrink,\r\n        [baseClassName+'-wrap']: this.wrap\r\n      }\r\n      return clases\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layout.vue?vue&type=template&id=db7441a6&\"\nimport script from \"./layout.vue?vue&type=script&lang=js&\"\nexport * from \"./layout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <ly flexbox=1>\r\n        <ly v-for=\"button of buttons\" ><button :disabled=\"button.disabled\" @click=\"onClick(button)\" class=\"btn btn-primary btn-xs\" :title=\"button.title\" :data-help-code=\"button.helpCode\" :value=\"button.label\" v-html=\"button.label\" style=\"border:none;outline:none\"></button></ly>\r\n    </ly>\r\n</template>\r\n\r\n<script>\r\nimport Ly from './layout.vue'\r\n\r\nexport default {\r\n  props: {\r\n      buttons: {\r\n          type: Array,\r\n          required: true\r\n      }\r\n  },\r\n  methods: {\r\n      onClick (button) {\r\n        button.onClick(button.label)\r\n      }\r\n  },\r\n  components: { Ly }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .btn-primary {\r\n        background: #e9e9e9;\r\n        background: transparent;\r\n        border: 0px solid #ddd;\r\n        //border-width: 0 0 0 1px;\r\n        color: #333;\r\n        border-radius: 0;\r\n        min-width:20px;\r\n        min-height:20px;\r\n        height: 24px;\r\n        //box-shadow: 0 -0px 1px #ddd ;\r\n        margin: 0 2px;\r\n        cursor:default;\r\n    }\r\n    .btn-primary:last-child {\r\n        //border-right-width: 1px;\r\n    }\r\n    .btn-primary[disabled] {\r\n        cursor:no-drop;\r\n        background: transparent;\r\n        border: 0px solid #ddd;\r\n    }\r\n    .btn-primary:active {\r\n        background: transparent;\r\n        box-shadow:none;\r\n        //zoom:0.9;\r\n        border: 0px solid transparent;\r\n    }\r\n \r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tool-bar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tool-bar.vue?vue&type=template&id=4919e585&scoped=true&\"\nimport script from \"./tool-bar.vue?vue&type=script&lang=js&\"\nexport * from \"./tool-bar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tool-bar.vue?vue&type=style&index=0&id=4919e585&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4919e585\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{attrs:{\"data-component\":\"Containers\",\"height\":\"1\",\"flexbox\":\"1\"}},_vm._l((_vm.containers),function(container){return _c('Ly',{style:(_vm.containerWidth),attrs:{\"grow\":\"1\",\"height\":\"1\",\"data-overflow\":_vm.containerType(container)}},[_c('Ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\"}},[_c('Ly',{staticStyle:{\"padding\":\"0 0 0px 0px\",\"border-bottom\":\"1px solid #999\"},attrs:{\"flexbox\":\"1\"}},_vm._l((_vm.toolbarButtons(container)),function(boton,index){return _c('div',{class:{pestanaVentana:true,pestanaVentanaSelected:(_vm.visibleVentanas ( container ).indexOf(index)!=-1)},on:{\"click\":boton.onClick}},[_c('div',{staticClass:\"botonLabel\",attrs:{\"contenteditable\":\"false\"},on:{\"dblclick\":function($event){return _vm.editWindowName($event.target,index)},\"blur\":function($event){return _vm.saveWindowName($event.target,index)}}},[_vm._v(_vm._s(boton.label))]),(boton.label!='+')?_c('div',{staticClass:\"close closeButton\",staticStyle:{\"cursor\":\"default\"},on:{\"click\":function($event){$event.stopPropagation();return boton.onClose($event)}}}):_vm._e()])}),0),_c('Ly',{staticStyle:{\"position\":\"relative\"},attrs:{\"grow\":\"1\",\"height\":\"1\",\"overflow\":_vm.containerType(container)}},_vm._l(((_vm.ventanasDelContainer(container))),function(ventana){return _c('Ventana',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleVentanas ( container ).indexOf(ventana.index)!=-2),expression:\"visibleVentanas ( container ).indexOf(ventana.index)!=-2\"}],key:ventana.index,staticClass:\"window-container\",style:(_vm.styleVentana(container,_vm.visibleVentanas ( container ).indexOf(ventana.index)!=-1)),attrs:{\"ventana\":ventana,\"isInline\":_vm.isInlineContainer(container),\"index\":ventana.index,\"switchVentana\":_vm.onButtonClick,\"panels\":_vm.panels},on:{\"panelSwitch\":_vm.panelSwitch}})}),1)],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{ref:\"Ventana\",staticStyle:{},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\",\"height\":\"1\",\"data-component\":\"Ventana\",\"data-layout\":_vm.isInline?'inline':'default'}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticStyle:{\"width\":\"100%\",\"padding\":\"5px 5px\"}},[_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Navegacin\")]),(_vm.parentTablesWindows.length)?_c('select',{ref:\"parentTable\",staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-top\":\"2px\"},attrs:{\"data-help-code\":\"ventana-toolbar-parents\"},on:{\"change\":function($event){return _vm.injectParent()}}},[_c('option',[_vm._v(\"Padres...\")]),_vm._l((_vm.parentTablesWindows),function(tab){return _c('option',{domProps:{\"value\":tab.index}},[_vm._v(_vm._s(tab.name))])})],2):_vm._e(),(_vm.childTablesWindows.length)?_c('select',{ref:\"childTable\",staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\"},attrs:{\"data-help-code\":\"ventana-toolbar-childs\"},on:{\"change\":function($event){return _vm.injectChild()}}},[_c('option',[_vm._v(\"Hijos...\")]),_vm._l((_vm.childTablesWindows),function(tab){return _c('option',{domProps:{\"value\":tab.index}},[_vm._v(_vm._s(tab.name))])})],2):_vm._e()]),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Tabla Principal\")]),_c('select',{staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-bottom\":\"-2px\",\"margin-top\":\"1px\"},attrs:{\"data-help-code\":_vm.getRelations(_vm.tabs.names,_vm.ventana.data.identities)},on:{\"change\":function($event){return _vm.tableChange($event)}}},_vm._l((_vm.availableTables),function(table){return _c('option',{domProps:{\"value\":table,\"selected\":table==_vm.ventana.data.table?'selected':''}},[_vm._v(_vm._s(table))])}),0)]),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Paneles\")]),_c('Toolbar',{staticStyle:{\"width\":\"auto\",\"float\":\"left\",\"margin\":\"0px 0 -2px 3px\"},attrs:{\"buttons\":_vm.buttons2}})],1),_c('div',{staticClass:\"toolbar-box\"},[_c('div',{staticClass:\"toolbar-box-title\"},[_vm._v(\"Configuracin\")]),_c('select',{staticClass:\"form-control\",staticStyle:{\"display\":\"inline\",\"width\":\"auto\",\"font-size\":\"11px\",\"margin-bottom\":\"-2px\",\"margin-top\":\"1px\",\"float\":\"left\"},attrs:{\"id\":\"configFileSelect\"}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Importar Config...\")]),_vm._l((_vm.configFilesList),function(fn){return _c('option',{domProps:{\"value\":fn,\"selected\":fn==_vm.api.parsedSearch.reset}},[_vm._v(_vm._s(fn))])})],2),_c('Toolbar',{staticStyle:{\"width\":\"auto\",\"float\":\"left\",\"margin\":\"0px 0 -2px 3px\"},attrs:{\"buttons\":_vm.buttons}})],1)]),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-grow\":\"1\",\"height\":\"calc(100% - 0px)\",\"max-height\":\"calc(100% - 50px)\",\"position\":\"relative\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panels.form&&_vm.admin),expression:\"panels.form&&admin\"}],ref:\"Formulario\",staticClass:\"panel-envelope\",staticStyle:{\"height\":\"100%\",\"border\":\"0px solid red\"}},[_c('Formulario',{staticStyle:{\"min-width\":\"150px\",\"background\":\"#f4f4f4\",\"padding\":\"0px\"},attrs:{\"item\":_vm.form.data,\"onFilter\":_vm.formFilter,\"overflow\":_vm.overflow,\"keysSettings\":_vm.keysSettings,\"ventana\":_vm.ventana}})],1),_c('Ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list),expression:\"list\"}],staticClass:\"slots panel-envelope\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"grow\":\"1\",\"breakHeight\":\"1\",\"shrink\":\"1\"}},[_c('Listado',{ref:\"listado\",staticStyle:{\"background\":\"#f4f4f4\",\"padding\":\"5px\",\"box-sizing\":\"border-box\"},attrs:{\"rows\":_vm.ventana.data.list.data,\"ventana\":_vm.ventana,\"filter\":_vm.formFilterState.data,\"overflow\":_vm.overflow,\"formSetValues\":_vm.formSetValues,\"keysSettings\":_vm.keysSettings},on:{\"rowClick\":_vm.rowClick}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{staticStyle:{\"border\":\"0 solid #ddd\",\"border-width\":\"0 0px 0 0\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"height\":\"1\",\"data-component\":\"Formulario\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"nowrap\"}},[_c('div',{staticStyle:{\"width\":\"12px\",\"margin-top\":\"4px\"}},[_c('input',{attrs:{\"type\":\"checkbox\",\"data-help-code\":\"campos-ruta-mostrar\"},domProps:{\"checked\":_vm.showPath},on:{\"click\":function($event){_vm.showPath=$event.target.checked}}})]),_c('div',{staticStyle:{\"padding\":\"3px\",\"margin-left\":\"0px\",\"width\":\"calc(100% - 15px)\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Buscar...\"},domProps:{\"value\":(_vm.filter)},on:{\"focus\":function($event){return $event.target.select()},\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_c('div',{staticStyle:{\"position\":\"relative\",\"left\":\"calc(100% - 50px)\",\"top\":\"-20px\",\"height\":\"0\",\"overflow\":\"visible\",\"font-size\":\"9px\",\"color\":\"gray\"}},[_vm._v(_vm._s(_vm.shownNumber)+\" / \"+_vm._s(Object.keys(_vm.formState.editorData).length))]),_c('div',{staticClass:\"LyItem LyItem-grow LyItem-overflow\",staticStyle:{\"padding\":\"0\"},on:{\"scroll\":function($event){return _vm.positionContext($event)}}},[_c('GridFields',{ref:\"gridfields\",attrs:{\"item\":_vm.formState.editorData,\"data-component\":\"Formulario\",\"filter\":_vm.filter,\"keysSettings\":_vm.keysSettings,\"showFields\":_vm.showFields,\"showPath\":_vm.showPath},on:{\"change\":_vm.formChange,\"clickLabel\":_vm.clickLabel,\"focusField\":_vm.focusField,\"filter\":_vm.updateShownNumber,\"addField\":_vm.addField}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"tabs\"},[_c('Tabs',{attrs:{\"tabs\":_vm.tabs}},_vm._l((_vm.tabs),function(tab){return _c('Ly',{attrs:{\"slot\":tab,\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\"},slot:tab},_vm._l((_vm.shallowFields(tab)),function(campo){return _c('Ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inFilter(campo)),expression:\"inFilter(campo)\"}],style:(_vm.elementStyle(campo))},[_c('table',{staticStyle:{\"white-space\":\"nowrap\"}},[_c('tr',{staticStyle:{\"display\":\"block\",\"margin\":\"1px 0\"},on:{\"click\":function($event){return _vm.addField($event,campo,tab)}}},[_vm._l((campo.name.split('.').slice(0, 3)),function(ele){return ((ele!='dbo')&&_vm.showPath)?_c('td',{staticClass:\"highlight-text\",on:{\"dblclick\":function($event){return _vm.editFieldName($event.target)},\"blur\":function($event){return _vm.saveFieldName($event.target,campo.name)}}},[_vm._v(_vm._s(ele))]):_vm._e()}),_c('td',{staticClass:\"highlight-text highlight-text-strong\",domProps:{\"innerHTML\":_vm._s(_vm.api.getLiteral(campo.name))},on:{\"dblclick\":function($event){return _vm.editFieldName($event.target)},\"blur\":function($event){return _vm.saveFieldName($event.target,campo.name)}}})],2)]),(campo.type=='multiple')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"id\":campo.name,\"multiple\":\"\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event,campo,tab)}]}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"id\":campo.name},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event,campo,tab)}]}},[_c('option'),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"id\":campo.name,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(campo.value)?_vm._i(campo.value,null)>-1:(campo.value)},on:{\"change\":[function($event){var $$a=campo.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(campo, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(campo, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(campo, \"value\", $$c)}},function($event){return _vm.assignModel($event,campo,tab)}]}}):_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"},{name:\"show\",rawName:\"v-show\",value:(_vm.showFields),expression:\"showFields\"}],staticClass:\"form-control\",staticStyle:{\"height\":\"24px\",\"resize\":\"none\",\"border-radius\":\"5px\",\"background\":\"#eee\"},attrs:{\"title\":campo.value,\"id\":campo.name,\"data-help-code\":\"search-parameter-value\"},domProps:{\"value\":(campo.value)},on:{\"blur\":function($event){return _vm.assignModel($event,campo,tab)},\"focus\":function($event){return _vm.focusTextField($event,campo)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(campo, \"value\", $event.target.value)}}})])}),1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-component\":\"tabs\"}},[_vm._l((_vm.tabsArr),function(tab){return (_vm.tabsArr.length>1)?_c('button',{on:{\"click\":function($event){return _vm.buttonClick(tab)}}},[_vm._v(_vm._s(tab.name))]):_vm._e()}),_vm._l((_vm.tabsArr),function(tab){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.name == _vm.selectedTab),expression:\"tab.name == selectedTab\"}],staticClass:\"slot\"},[_vm._t(tab.name)],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\n    export default {\r\n        props: {\r\n            tabs: {\r\n                type: Array,\r\n                required: true\r\n            }\r\n        },\r\n        data: () => ({\r\n            selectedTab: false\r\n            , beforeTabsArr: []\r\n            \r\n        }),\r\n        computed: {\r\n            tabsArr(){ \r\n                const tabs = this.tabs.map ( ( name, index ) => ({ name, index }) ) \r\n            //console.log('selectedTab')\r\n                if ( this.beforeTabsArr != tabs ) this.selectedTab = this.tabs[0]\r\n                this.beforeTabsArr = tabs\r\n                return tabs\r\n            }\r\n        },\r\n        methods: {\r\n            buttonClick(tab) {\r\n                console.log(tab.index)\r\n                this.selectedTab = tab.name\r\n            }\r\n        },\r\n        beforeMount() {\r\n            this.selectedTab = this.tabs[0]\r\n        }\r\n    }\r\n</script>\r\n\r\n<template>\r\n    <div data-component=\"tabs\">\r\n        <button v-for=\"tab in tabsArr\" @click=\"buttonClick(tab)\" v-if=\"tabsArr.length>1\">{{tab.name}}</button>\r\n        <div v-for=\"tab in tabsArr\" v-show=\"tab.name == selectedTab\" class=\"slot\">\r\n            <slot :name=\"tab.name\"/>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style>\r\n    .slot {\r\n        display:block;\r\n        clear:both;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tabs.vue?vue&type=template&id=643075f4&\"\nimport script from \"./tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tabs.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template v-if=\"false\">\r\n<div  ref=\"tabs\">\r\n    <Tabs :tabs=\"tabs\">\r\n        <Ly v-for=\"tab in tabs\" flexbox=1 column=1 grow=1 :slot=\"tab\">\r\n            <Ly v-for=\"campo in shallowFields(tab)\" v-show=\"inFilter(campo)\" :style=\"elementStyle(campo)\">\r\n                <table style=\"white-space:nowrap\">\r\n                    <tr @click=\"addField($event,campo,tab)\" style=\"display:block; margin: 1px 0\">\r\n                    <td v-for=\"ele in campo.name.split('.').slice(0, 3)\" v-if=\"(ele!='dbo')&&showPath\" @dblclick=\"editFieldName($event.target)\" @blur=\"saveFieldName($event.target,campo.name)\"  class=\"highlight-text\">{{ele}}</td>\r\n                    <td @dblclick=\"editFieldName($event.target)\" @blur=\"saveFieldName($event.target,campo.name)\" v-html=\"api.getLiteral(campo.name)\"  class=\"highlight-text highlight-text-strong\" style=\"\"></td>\r\n                    </tr>\r\n                </table>\r\n                <!--\r\n                <label @click=\"labelClick($event)\" v-html=\"api.getLiteral(campo.name)\" @dblclick=\"editFieldName($event.target)\" @blur=\"saveFieldName($event.target,campo.name)\" style=\"white-space:nowrap\"></label>\r\n                -->\r\n                <select v-if=\"campo.type=='multiple'\" :id=\"campo.name\" multiple v-model=\"campo.value\" v-on:change=\"assignModel($event,campo,tab)\" class=\"form-control\">\r\n                    <option value=\"\">&nbsp;</option>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <select v-else-if=\"campo.type=='select'\" :id=\"campo.name\" v-model=\"campo.value\" v-on:change=\"assignModel($event,campo,tab)\" class=\"form-control\">\r\n                    <option/>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <input v-else-if=\"campo.type=='boolean'\" :id=\"campo.name\" type=\"checkbox\" v-model=\"campo.value\" v-on:change=\"assignModel($event,campo,tab)\" class=\"form-control\">\r\n               <textarea v-else v-model=\"campo.value\" v-show=\"showFields\" :title=\"campo.value\" :id=\"campo.name\" v-on:blur=\"assignModel($event,campo,tab)\" class=\"form-control\" @focus=\"focusTextField($event,campo)\" data-help-code=\"search-parameter-value\" style=\"height:24px;resize:none;border-radius: 5px; background: #eee\"/>\r\n                 \r\n            </Ly>\r\n        </Ly>\r\n    </Tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n//import $ from 'jquery'\r\n//import {objeto,JSON.cc,select} from '../helpers.js'\r\nimport Ly from './layout.vue';\r\n//import autosizeTextarea  from './autosize-textarea.vue'\r\nimport Tabs  from './tabs.vue'\r\n//Vue.use(VueAutosize)\r\nexport default {\r\n    components: { Ly, Tabs },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        }, \r\n        branchs: Array,\r\n        lists: Array,\r\n        filter: String,\r\n        keysSettings: Object,\r\n        showFields: Boolean,\r\n        showPath: Boolean\r\n    },\r\n    data: function () {\r\n        /*\r\n                const obj = JSON.cc(this.item)\r\n                Object.keys( obj ).forEach ( key => {\r\n                    const val = obj[key]\r\n                    console.log(typeof val+val)\r\n                    if ( typeof val==\"object\" ) obj[key] = \"\"\r\n                })\r\n                */\r\n        return {\r\n            validations: {\r\n                label: ( val ) => {\r\n                    return true\r\n                }\r\n            },\r\n            objeto: JSON.cc(this.item)\r\n        }\r\n    },\r\n    watch:{\r\n        item: function (val, oldVal ) { \r\n            this.objeto = val \r\n            //console.log('aa')\r\n            //return\r\n            $(this.$refs.tabs).find('textarea').css ({ height:'24px' })\r\n        }\r\n        , filter: function (val, oldVal ) { \r\n            const fields = this.shallowFields('main').filter ( field => {\r\n                return this.inFilter(field)\r\n            })\r\n            this.$emit('filter',fields.length)\r\n         }\r\n    },\r\n    computed : {\r\n       branchKeys () {\r\n           let branchs = this.branchs\r\n           if ( !branchs ) return []\r\n           branchs = branchs.map ( branch => branch.key )\r\n           return {}\r\n            const branchKeys = Object.keys(this.objeto).filter ( key => ( branchs.indexOf(key) !=-1 && this.objeto[key] && typeof this.objeto[key] == 'object' && typeof this.objeto[key].length == 'undefined' ) )\r\n            return branchKeys//.filter ( key => branchs.indexOf(key) != -1 )\r\n         },\r\n        tabs () {\r\n            return ['main'].concat(this.branchKeys)\r\n        }\r\n    },\r\n    methods: {\r\n        addField (event,campo,tab) {\r\n//            const campoKey = campo.name\r\n            const formState = this.objeto//JSON.cc(this.objeto)\r\n            Object.keys(formState).forEach ( key => {\r\n                formState[key] = ''\r\n            })\r\n            //this.$emit('change',JSON.cc(formState))\r\n            this.assignModel({target:{value:\"%\"}},campo,tab)\r\n            //console.log(campo)\r\n            //console.log(campoKey)\r\n            \r\n            this.$emit('addField',campo)\r\n        },\r\n        saveFieldName(target,key){\r\n            this.$store.commit ( 'database_setLiteral' , {key,literal:$(target).text()} )\r\n            $(target).attr('contenteditable',false)\r\n        },\r\n        editFieldName(target){\r\n            $(target).attr('contenteditable',true).focus()\r\n        },\r\n        focusTextField(event,campo){\r\n           if ( event.target.value=='' ) this.objeto[campo.name]='%'\r\n           event.target.select()\r\n           this.utils.setTextareaHeight(event.target)\r\n            this.$emit('focusField',$(event.currentTarget))\r\n        },\r\n        labelClick (event) {\r\n            return false // desactivo esta funcionalidad de momento para no confundir (es la de anidar vistas)\r\n            const $field = $(event.currentTarget).parent()\r\n            this.$emit('clickLabel',$field)\r\n            //console.log($field[0])\r\n        },\r\n        inFilter(campo) {\r\n            if ( !this.filter || this.filter == \"\" ) return true\r\n            const re = new RegExp ( this.filter.toLowerCase(), 'gi' )\r\n            , matches = this.api.getLiteral(campo.name).toLowerCase().match (re)\r\n            , matches2 = campo.name.toLowerCase().match (re)\r\n            , inFilter = ( matches != null || matches2 != null )\r\n            //const inFilter = campo.name.toLowerCase().indexOf(this.filter.toLowerCase()) != -1\r\n            return inFilter\r\n        },\r\n        elementStyle(campo) {\r\n            if ( !this.keysSettings ) return {}\r\n            const keySetting = this.keysSettings[campo.name]\r\n            const readOnly = keySetting ? keySetting.readOnly : false\r\n            , zindex = readOnly ? {\"z-index\" : -1} : {}\r\n            return zindex\r\n        },\r\n        assignModel ( event, campo, tab ) {\r\n            const val = event.target.value\r\n            if ( ! this.isContentValid ( val, campo, tab ) ) {\r\n                alert ('El contenido del campo no es valido.')\r\n                return false;\r\n            }\r\n            const value = campo.type == 'multiple' ? new select(val).getValues() : val\r\n            const key = campo.name\r\n            , model = { [key]: value }\r\n            , branch = this.branch(tab) \r\n            Object.assign ( branch , model )\r\n            \r\n            const formState = JSON.cc(this.objeto)\r\n            Object.keys(formState).forEach ( key => {\r\n                const val = formState[key]\r\n                formState[key] = { value: val, text: this.listTextForValue(val,key)}\r\n            })\r\n            //log(formState)\r\n            this.utils.setTextareaHeight(event.target)\r\n            this.$emit('change',formState)\r\n            window.contextList.positionContext()\r\n        },\r\n        isContentValid ( val, campo, tab ) {\r\n            //return true\r\n            const fieldValidation = this.fieldValidation ( campo, tab )\r\n            , isValid = fieldValidation ? fieldValidation ( val ) : true\r\n            return isValid\r\n        },\r\n        branch ( tab ) {\r\n            if ( tab == 'main' ) {\r\n                return this.objeto\r\n            } else {\r\n                return this.objeto[tab]\r\n            }\r\n        },\r\n        shallowFields (tab) {\r\n            const obj = this.branch(tab)\r\n            const shallowKeys = Object.keys(obj).filter ( key => ( obj[key] == null || typeof obj[key] != 'object' || this.listFor(key) ) )\r\n            const shallowFields = shallowKeys.map ( key => {\r\n                const value = JSON.cc(obj[key])\r\n                , name = key\r\n                , type = this.fieldType (key)\r\n                , text = this.listTextForValue ( value , key )\r\n                return ({ name, value, type, text })\r\n            } )//Object.keys(this.objeto).filter ( campo => ( typeof campo[this.valueKeyName] != 'object' || this.isList(campo) ) )\r\n            return shallowFields\r\n        },\r\n        fieldType ( key ) {\r\n            const list = this.listFor ( key )\r\n            if ( list ) { return list.multiple ? 'multiple' : 'textarea' } // Me salto mi mecanismo de listas convencionales para trabajar con las nuevas multiselec. if ( list ) { return list.multiple ? 'multiple' : 'select' }\r\n            if ( typeof this.objeto[key] == 'boolean' ) return 'boolean'\r\n            return 'textarea'\r\n        },\r\n        listTextForValue ( val, key ) {\r\n            const list = this.listFor ( key )\r\n            if ( ! list || ! list.values || ! list.values.filter ) return val\r\n            const textArr = list.values.filter ( pair => pair[0] == val )[0]\r\n            const text = textArr ? textArr[1] : false\r\n            //val = typeof val == 'string' ? val : val[1]\r\n            //log(text)\r\n            return text\r\n        },\r\n        listFor ( key ) {\r\n            if ( ! this.keysSettings ) return false\r\n            const keySettings =  this.keysSettings[key]//.filter ( list => list.key == key )[0]\r\n            , keyList = keySettings ? keySettings.list : false\r\n             //console.log( JSON.cc(keyList))\r\n           if ( ! keyList || ! keyList.values.length ) return false\r\n            return keyList\r\n        },\r\n        listOptions ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.keysSettings[keyName].list.values\r\n            return options\r\n        },\r\n        listFor_old ( key ) {\r\n            if ( ! this.lists ) return false\r\n            const list =  this.lists.filter ( list => list.key == key )[0]\r\n           if ( ! list ) return false\r\n            return list\r\n        },\r\n        listOptions_old ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.lists.filter ( list => list.key == keyName )[0].values\r\n            return options\r\n        },\r\n        fieldValidation ( campo, tabName ) {\r\n            let validation = false\r\n            if ( tabName == 'main' ) tabName = undefined\r\n            if ( ! tabName ) {\r\n                try {\r\n                    validation = this.validations[campo.name]\r\n                } catch(err) {}\r\n            } else {\r\n                try {\r\n                    validation = this.validations[tabName][campo.name]\r\n                } catch(err) {}\r\n            }\r\n            return validation\r\n        }\r\n    }\r\n    , beforeUpdate(){\r\n        //console.log(shownNumber)\r\n    }\r\n    , updated() {\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .LyItem {\r\n        padding: 2px;\r\n    }\r\n    label {\r\n        font-weight: normal;\r\n        margin:0;\r\n        padding:0 0 1px 0;\r\n        color: #666;\r\n    }\r\n    input,select,textarea {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        //background: #f8f8f8;\r\n    }\r\n    tr:hover td {\r\n        background: red;\r\n        margin: 5px 0;\r\n    }\r\n    tr:active td {\r\n        box-shadow: 0 0 2px 1px gray;\r\n    }\r\n</style>    ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./grid-fields.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./grid-fields.vue?vue&type=template&id=17873f82&scoped=true&v-if=false&\"\nimport script from \"./grid-fields.vue?vue&type=script&lang=js&\"\nexport * from \"./grid-fields.vue?vue&type=script&lang=js&\"\nimport style0 from \"./grid-fields.vue?vue&type=style&index=0&id=17873f82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17873f82\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    \r\n    <Ly flexbox=1 column=1 height=1 data-component=\"Formulario\" style=\"border:0 solid #ddd;border-width:0 0px 0 0;\" >\r\n\r\n        <!-- CAPA EMERGENTE X ARRIBA. INUTILIZADA PERGO GUARDA POR SI ACASO.\r\n        <div style=\"width:250px;height:30px;min-height:32px;padding:4px 4px 0 4px;border:0 solid #ddd;border-width: 0 0 0px 0\" ref=\"Formulario\">\r\n            <Toolbar :buttons=\"buttons\" style=\"float:left\"/>\r\n            <input type=\"checkbox\" style=\"float:left\" :checked=\"showFields\" @click=\"showFields=$event.target.checked\">\r\n            <div style=\"float:left;margin-top:2px\">&nbsp;Campos&nbsp;&nbsp;</div>\r\n        </div>\r\n        <div style=\"width:100%; text-align:center;cursor:pointer\" @click=\"showToolbar=!showToolbar\" class=\"\"><svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"292.362px\" height=\"292.362px\" viewBox=\"0 0 292.362 292.362\" style=\"enable-background:new 0 0 292.362 292.362;zoom:0.7\"\t xml:space=\"preserve\"><g>\t<path style=\"cursor:pointer\" d=\"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\t\tC1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\t\ts9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></div>\r\n        -->\r\n        <div style=\"display:flex; flex-wrap: nowrap;\">\r\n            <div style=\"width:12px;margin-top:4px\">\r\n                <input type=\"checkbox\" style=\"\" :checked=\"showPath\" @click=\"showPath=$event.target.checked\" data-help-code=\"campos-ruta-mostrar\">\r\n                <!--<div style=\"float:left;margin-top:2px\">&nbsp;Rutas&nbsp;</div>-->\r\n            </div>\r\n            <div style=\"padding:3px;background:;margin-left: 0px; width: calc(100% - 15px)\"><input v-model=\"filter\" class=\"form-control\" placeholder=\"Buscar...\" @focus=\"$event.target.select()\"></div>\r\n        </div>\r\n        <div style=\"position:relative;left:calc(100% - 50px);top:-20px;height:0;overflow:visible;font-size:9px;color:gray\">{{shownNumber}} / {{Object.keys(formState.editorData).length}}</div>\r\n        <div class=\"LyItem LyItem-grow LyItem-overflow\" @scroll=\"positionContext($event)\" style=\"background:; padding:0\">\r\n            <GridFields \r\n                :item=\"formState.editorData\" \r\n                data-component=\"Formulario\" \r\n                v-on:change=\"formChange\" \r\n                v-on:clickLabel=\"clickLabel\"\r\n                v-on:focusField=\"focusField\"\r\n                v-on:filter=\"updateShownNumber\"\r\n                v-on:addField=\"addField\"\r\n                :filter=\"filter\" \r\n                :keysSettings=\"keysSettings\"\r\n                :showFields=\"showFields\"\r\n                :showPath=\"showPath\"\r\n                ref=\"gridfields\"\r\n            />\r\n        </div>\r\n    </Ly>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport Ly from './layout.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nimport GridFields from './grid-fields.vue'\r\nexport default {\r\n    components: { GridFields, Toolbar, Ly },\r\n    data: function () {\r\n        return {\r\n            showToolbar: false,\r\n            buttons: [\r\n                /*\r\n                {\r\n                    label: \"Load\",\r\n                    onClick: this.loadFields\r\n                },\r\n                */\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 44 44\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 44 44\"><g><circle cx=\"20\" cy=\"20\" r=\"7\"></circle><path d=\"m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm12.7,33.3l-1.4,1.4c-0.4,0.4-1,0.4-1.4,0l-5.4-5.4c-0.2-0.2-0.4-0.2-0.6-0.1-1.7,1.1-3.7,1.7-5.9,1.7-6.1,0-11-4.9-11-11s4.9-11 11-11 11,4.9 11,11c0,2.2-0.6,4.2-1.7,5.9-0.1,0.2-0.1,0.5 0.1,0.6l5.4,5.4c0.3,0.5 0.3,1.1-0.1,1.5z\"></path></g></svg>`,\r\n                    onClick: this.filter,\r\n                    //title: \"Generar parmetros de filtrado con los valores introducidos\"\r\n                     helpCode: \"form-toolbar-filter\"\r\n                },\r\n                {\r\n                    label: `<svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 330.5 330.5\" style=\"enable-background:new 0 0 330.5 330.5;\" xml:space=\"preserve\"><path d=\"M178.3,136.6l16.4,16.4l69.7-69.7c2.3-2.3,3.4-5.2,3.4-8.2c0-3-1.1-5.9-3.4-8.2c-4.5-4.5-11.8-4.5-16.4,0L178.3,136.6z\t M172.3,140.2l-0.7-0.7l-12.4,12.4l-7.7,7.7l20.4,20.4l8.3-8.3l11.8-11.8l-0.9-0.9l-1.2-1.2l-16.4-16.4L172.3,140.2z M66.8,197.2\tc-0.1,0-0.2,0.1-0.3,0.1c-0.5,0.1-0.9,0.3-1.3,0.6l-0.2,0.1L65,198c-0.5,0.3-0.8,0.7-1.2,1.2c-0.3,0.5-0.6,1-0.8,1.6\tc-0.5,1.7-0.3,3.7,1.3,4.9c3.8,3,7.7,6,11.6,8.9l0.7-0.3l1.7-0.7L80,213l14.1-5.4l20.6-7.9l-14.3,16.6l-8,9.2l-1.1,1.3l-1.1,1.3\tl-1.1,1.3c0.8,0.3,1.6,0.4,2.5,0.2c0.5-0.1,1-0.3,1.6-0.5c0.1,0,0.1-0.1,0.2-0.1c0.6-0.3,1.1-0.5,1.7-0.7l3.3,3.3\tc0,0.8-0.1,1.5-0.1,2.3c-0.1,0.7-0.1,1.5-0.2,2.2c-0.1,1.1-0.3,2.2-0.6,3.3c-0.6,2.5,0.8,5.7,3.5,6.2c4.4,0.9,8,2.4,11.1,4.5\tc3.5,2.4,6.4,5.4,9.1,9.1c1.3,1.8,2.6,3.6,3.9,5.6c1,1.6,2.6,2.3,4.1,2.3c0.7,0,1.4-0.1,2-0.4c2.4-0.9,4.2-3.4,3.1-6.2l32.3-75.5\tl-20.2-20.2L66.8,197.2z M165.2,330.5L165.2,330.5C74,330.5,0,256.5,0,165.2v0C0,74,74,0,165.2,0h0c91.3,0,165.2,74,165.2,165.2v0\tC330.5,256.5,256.5,330.5,165.2,330.5z\"></path></svg>`,\r\n                    onClick: this.clean\r\n                    //,title: \"Vaciar formulario\"\r\n                    , helpCode: \"form-toolbar-clear\"\r\n                },\r\n                /*\r\n                ,{\r\n                    label: \"Set\",\r\n                    onClick: this.setQuery\r\n                }\r\n                */\r\n            ],\r\n            formState: {\r\n                data: (function(){\r\n                    return this.formStateData ( JSON.cc ( this.item ) )\r\n                }.bind(this))() \r\n                , editorData: this.item \r\n            },\r\n            filter: \"\"\r\n            , shownNumber: 0\r\n            , focusedKeyName: \"\"\r\n            , showFields: false\r\n            , showPath: false\r\n        }\r\n    },\r\n    props: ['item','onFilter','overflow','keysSettings','ventana'],\r\n    watch: {\r\n        item: function ( val, oldVal ) {\r\n            this.formState.editorData = val\r\n            this.formState.data = this.formStateData ( val )\r\n            //console.log('new item')\r\n        }\r\n    },\r\n    computed : {\r\n      },\r\n    mounted: function () {\r\n        const $form = $(this.$refs.Formulario)\r\n        $form.width($form.width())\r\n        /*\r\n        window.bus.$on('contextListChecked',function(checkedIds){\r\n            this.contextListCheckClick(checkedIds)\r\n        }.bind(this))\r\n        window.bus.$on('contextListClosed',function(){\r\n            this.focusedKeyName=\"\"\r\n        }.bind(this))\r\n        window.bus.$on('contextList:keyup',function(val){\r\n            this.contextListCheckClick(val)\r\n        }.bind(this))\r\n        */\r\n    },\r\n    updated: function() {\r\n        //console.log('updated')\r\n    },\r\n    methods: {\r\n        positionContext(event) {\r\n            window.contextList.positionContext(event)\r\n        },\r\n        contextListKeyUp ( val ) {\r\n            const formState = JSON.cc ( this.formState )\r\n            , key = this.focusedKeyName\r\n            formState.editorData[key] = val\r\n            formState.data[key] = { value: val, text: val }\r\n            this.formState = formState\r\n        },\r\n        contextListRowClick(row){\r\n            \r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            const formState = JSON.cc ( this.formState )\r\n            , key = this.focusedKeyName\r\n            , checkedLiterals = JSON.stringify ( checkedRows.map ( row => row[Object.keys(row)[1]] ) )\r\n            formState.editorData[key] = checkedLiterals\r\n            formState.data[key] = { value: checkedLiterals, text: checkedLiterals }\r\n            this.formState = formState\r\n        },\r\n        updateShownNumber(n){\r\n            this.shownNumber=n\r\n        },\r\n        shownNumber_old() {\r\n            let shownNumber = 0\r\n            //console.log(this.$refs)\r\n            if ( this.$refs.gridfields )\r\n                shownNumber = this.$refs.gridfields.shownNumber\r\n            return shownNumber\r\n        },\r\n        clickLabel($field) {\r\n            const selectedQuery = this.$store.state.selectedQuery\r\n            , queryName = selectedQuery.name\r\n            , $input = $field.find('input').add($field.find('select'))\r\n            , fieldName = $field.find('label').text()\r\n            , value = \"{{\" + queryName + \"|\" + fieldName + \"}}\"\r\n            $input.val(value)\r\n            this.formState.editorData[fieldName] = value\r\n            this.formState.data[fieldName].text = value\r\n            this.formState.data[fieldName].value = value\r\n            /*\r\n            console.log(JSON.cc(this.formState.editorData))\r\n            */\r\n        },\r\n        focusField($field) {\r\n            const keyName = $field.attr('id')\r\n            , val = $field.val()\r\n            , type = this.utils.getBasicDataType (this.keysSettings[keyName].data_type)\r\n            this.focusedKeyName = keyName\r\n            window.contextList.openContext(keyName,$field,val,type,this.contextListCheckClick)\r\n        },\r\n        filterState () {\r\n            const formState = this.formState.data\r\n            , filterState = {}\r\n            //, dynamicListModels = {}\r\n            /*\r\n            Object.keys(listsModels).forEach ( key => {\r\n                const model = listsModels[key]\r\n                if ( ! model.length ) //No es un Array (modelo esttico).\r\n                    dynamicListModels[key] = model\r\n            })\r\n            */\r\n            Object.keys(formState).forEach ( key => {\r\n                let value = ( typeof formState[key].value == 'string' || typeof formState[key].value == 'number' ) ? formState[key].value.toString() : ''\r\n                , data_type = ( this.keysSettings && this.keysSettings[key] ) ? this.keysSettings[key].data_type : null\r\n                , list = ( this.keysSettings && this.keysSettings[key] ) ? this.keysSettings[key].list : null\r\n                //, listModelName = lists[key]\r\n                , lm = this.api.getListModel(key)\r\n                , listModel = ( lm && lm.length )  ? ({values:lm}) : false\r\n                , text = formState[key].text\r\n                , regexp = new RegExp ( \"{{.*|.*}}\", \"gi\")\r\n                , matches = value.match ( regexp )\r\n                let vista = \"\"\r\n                , campo = \"\"\r\n                if ( matches != null ) {\r\n                    const codigo = matches[0].replace ( \"{{\" , \"\" ).replace ( \"}}\" , \"\" ).split ( \"|\" )\r\n                    vista = codigo[0]\r\n                    campo = codigo[1]\r\n                }\r\n                if ( listModel ) { // Me salto mi mecanismo de listas convencionales para trabajar con las nuevas multiselec.\r\n                    data_type = \"varchar\"\r\n                    text = value\r\n                }\r\n                if ( value && value != \"\" ) filterState[key] = { value, data_type, text, vista, campo, list:listModel }\r\n\r\n            })\r\n            //console.log(formState)\r\n            //console.log(JSON.cc(filterState))\r\n            return (filterState)\r\n        },\r\n        formStateData ( editorData ) {\r\n            let formData = {}\r\n            , item = JSON.cc ( editorData )\r\n            //console.log('item')\r\n            Object.keys(item).forEach ( key => {\r\n                const val = item[key]\r\n                formData[key] = { value: val, text: val }\r\n            })\r\n            //console.log(JSON.cc (formData))\r\n            return JSON.cc (formData)\r\n        },\r\n        setQuery () {\r\n            this.clean()\r\n            const actualFormState = this.formState.editorData\r\n            , query = this.$store.state.selectedQuery\r\n            , params = query.queryEditor.params\r\n            Object.keys(params).forEach ( key => {\r\n                const value = params[key].value\r\n                actualFormState[key] = value\r\n            } )\r\n            this.formState.data = this.formStateData (actualFormState)\r\n            //this.formState.editorData = actualFormState\r\n            //console.log(JSON.cc(actualFormState))\r\n        },\r\n        filter_old () {\r\n            //console.log(this.keysSettings)\r\n            this.onFilter(this.filterState())\r\n            this.clean()\r\n            //console.log(JSON.cc(this.filterState()))\r\n        },\r\n        clean () {\r\n            //console.log(this.keysSettings)\r\n            const item = this.formState.data\r\n            , blankedItem = {}\r\n            , blankedEditorItem = {}\r\n            //log(item)\r\n            Object.keys(item).forEach ( key => {\r\n                blankedItem[key] = { value: \"\", text: \"\" }\r\n                blankedEditorItem[key] = \"\"\r\n            })\r\n            const formState = JSON.cc ( this.formState )\r\n            formState.data = blankedItem\r\n            formState.editorData = blankedEditorItem\r\n            this.formState = formState\r\n        },\r\n        addField(campo){\r\n            const fs = JSON.cc(this.filterState())\r\n            this.onFilter(fs)\r\n            this.clean()\r\n        },\r\n        formChange(item) {\r\n            //console.log(item)\r\n            this.formState.data = item\r\n            window.contextList.closeContext()\r\n            //window.bus.$emit('contextListBlur')\r\n        },\r\n        loadFields () {\r\n            //log(this.items)\r\n            //console.log(fields)\r\n            getFieldsForTable ( this.ventana.data.table, ( { fields, identities } ) => {\r\n                //console.log(JSON.cc(fields))\r\n                this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventana.index, fields, identities})\r\n            } )\r\n        }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    input {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        background: white;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./formulario.vue?vue&type=template&id=0bde978a&scoped=true&\"\nimport script from \"./formulario.vue?vue&type=script&lang=js&\"\nexport * from \"./formulario.vue?vue&type=script&lang=js&\"\nimport style0 from \"./formulario.vue?vue&type=style&index=0&id=0bde978a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bde978a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{ref:\"listado\",staticClass:\"qe\",staticStyle:{\"padding\":\"0\"},attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\",\"height\":\"1\",\"data-component\":\"Listado\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"5px\",\"height\":\"100vh\",\"background\":\"transparent\",\"z-index\":\"1000\"},attrs:{\"onmouseover\":\"window.showForm()\"}}),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"2px\",\"left\":\"0\",\"width\":\"100vw\",\"height\":\"4px\",\"background\":\"transparent\",\"z-index\":\"1000\"},attrs:{\"onmouseover\":\"window.showQueries()\"}}),_c('Series',{ref:\"popup\",attrs:{\"operation\":_vm.series.operation,\"fields\":_vm.series_parameters},on:{\"operate\":_vm.operate_serie}}),_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"block\",\"min-height\":\"31px\",\"padding\":\"1px 0\",\"background\":\"#f4f4f4\",\"margin\":\"0\"}},[_c('div',{ref:\"toolbar\",staticStyle:{\"float\":\"left\",\"display\":\"block\",\"padding\":\"3px\",\"width\":\"450px\"}},[_c('Toolbar',{staticStyle:{\"float\":\"left\"},attrs:{\"buttons\":_vm.admin?_vm.buttons:_vm.buttonsUser}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticStyle:{\"border\":\"0px solid lightgray\",\"border-width\":\"0px 1px\",\"float\":\"left\",\"margin-top\":\"-8px\",\"width\":\"150px\"}},[_c('span',{staticStyle:{\"font-size\":\"9px\",\"width\":\"100%\",\"float\":\"left\",\"text-align\":\"center\"}},[_vm._v(\"Series\")]),_c('select',{staticClass:\"form-control\",staticStyle:{\"width\":\"auto\",\"margin-top\":\"-0px\",\"font-size\":\"11px\",\"float\":\"left\",\"margin-left\":\"10px\"},attrs:{\"data-help-code\":\"list-toolbar-series-operation\"},on:{\"change\":function($event){_vm.series.operation=$event.target.value}}},[_c('option',{attrs:{\"value\":\"Sobreescribir\"}},[_vm._v(\"Sobreescribir\")]),_c('option',{attrs:{\"value\":\"Vaciar\"}},[_vm._v(\"Vaciar\")])]),_c('button',{staticClass:\"btn btn-primary btn-xs\",staticStyle:{\"background\":\"transparent\",\"border\":\"0\",\"float\":\"left\",\"outline\":\"none\",\"box-shadow\":\"none\"},attrs:{\"data-help-code\":\"list-toolbar-series-run\"},on:{\"click\":function($event){return _vm.open_serie($event)}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 256 256\"},attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 256 256\",\"xml:space\":\"preserve\"}},[_c('path',{attrs:{\"d\":\"M0,128C0,57.3,57.3,0,128,0s128,57.3,128,128s-57.3,128-128,128S0,198.7,0,128z M172.8,68.3c1.2-10.2-6.8-19.1-17.1-19.1\\n\\t\\t\\t\\tc-8.7,0-16.1,6.6-17.1,15.2c-0.5,4.6,0.8,9.1,3.6,12.7C151.6,88.9,171,83.6,172.8,68.3z M78.3,207.2c3.3-2.5,3.5-3.7,12.2-18.6\\n\\t\\t\\t\\tc0,0,0-0.1,0.1-0.1c0,0,0,0-0.1,0c4.5-7.7,10.5-18.2,19.1-32.7c0.7,0.4,14.2,6,19.9,9.7c-6.5,4-15.1,9.6-21.3,13.4\\n\\t\\t\\t\\tc-10,6-4.4,18.7,4.1,18c4.1-0.3,4.9-1.2,20.4-8.9c7.3-3.6,14.8-7.3,20.7-10.9c4.9-2.9,10.9-12.3,3.3-18.9L133.1,142\\n\\t\\t\\t\\tc5.9-11.3,11.6-21.7,17.4-31.8c19.8,5.7,40.1-0.7,55.2-21.7c5.7-7.9,1.2-15.2-5.1-15.2c-10.4,0-10.2,17.3-32.7,17.3\\n\\t\\t\\t\\tc-10.7,0-18.5-4.3-28.1-10C118,67.5,90,76.3,75.9,96.1c-8.5,11.8,4.5,22.6,12.8,11c7.8-10.9,17.6-15,29.1-12\\n\\t\\t\\t\\tc-5.2,9.1-52.1,97.7-52.8,99.3C59.9,204.8,71.5,212.3,78.3,207.2z\"}})])])])],1),_c('div',{staticStyle:{\"float\":\"right\",\"display\":\"block\"}},[_vm._v(_vm._s(_vm.grid.loadedRecsNumber)+\"/\"+_vm._s(_vm.grid.rowCount))])]),_c('div',{ref:\"qeContainer\",staticClass:\"bgqe\",staticStyle:{\"position\":\"relative\",\"border\":\"0 solid #ddd\",\"max-height\":\"80%\",\"border-width\":\"0px 0 1px 0\",\"margin-top\":\"5px\",\"margin-left\":\"-5px\",\"width\":\"calc(100% + 10px)\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.queryEditor),expression:\"show.queryEditor\"}],staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\",\"padding\":\"5px 0\",\"min-height\":\"47px\"}},[_c('Queryeditor',{ref:\"qe\",attrs:{\"params\":_vm.qeParams,\"dbID\":_vm.api.getTableConnectionId(_vm.ventana.data.table)},on:{\"paramUpdate\":_vm.qeParamUpdate}})],1)]),_c('div',{style:({'width':'100%','min-height':'50px','overflow':'hidden','border':'0px solid red','position':'relative'})},[_c('div',{ref:\"computer\",staticStyle:{\"width\":\"10000px\",\"height\":\"40px\",\"padding\":\"0 0 0 22px\",\"position\":\"absolute\",\"white-space\":\"nowrap\"}},_vm._l((_vm.grid.columns.names),function(col,i){return _c('div',{key:'cont_'+col.label,ref:'computed_'+col.label,refInFor:true,staticClass:\"header-cell\",attrs:{\"type\":_vm.grid.columns.types[i]}},[_c('select',{staticStyle:{\"display\":\"none\"}},[_c('option',{attrs:{\"value\":\"SUM\"}},[_vm._v(\"SUMA\")]),_c('option',{attrs:{\"value\":\"AVG\"}},[_vm._v(\"MEDIA\")]),_c('option',{attrs:{\"value\":\"DISTINCT\",\"selected\":\"\"}},[_vm._v(\"MEDIA\")])]),_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"border\":\"0px solid red\",\"position\":\"relative\",\"width\":\"40px\",\"float\":\"left\"}},[_c('button',{staticStyle:{\"padding\":\"0\",\"border\":\"0\",\"width\":\"20px\",\"height\":\"15px\"},attrs:{\"data-help-code\":\"search-parameter-active\"},on:{\"click\":function($event){return _vm.activateParam(i,$event);}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._active),expression:\"qeParams[i]._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(_vm.qeParams[i]._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\\t\\tS132.5,45.981,132.5,102.5V160h30V102.5z\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"77.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.qeParams[i]._active),expression:\"!qeParams[i]._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(_vm.qeParams[i]._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('rect',{attrs:{\"x\":\"137.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\\t\\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{staticStyle:{\"padding\":\"0\",\"border-left-color\":\"transparent\",\"box-shadow\":\"none\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-order\"},on:{\"click\":function($event){return _vm.setNewOrder(i)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby!='asc'&&_vm.qeParams[i]._orderby!='desc'),expression:\"qeParams[i]._orderby!='asc'&&qeParams[i]._orderby!='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 427.484 427.484\"},style:({height:'10px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"427.484px\",\"height\":\"427.484px\",\"viewBox\":\"0 0 427.484 427.484\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\\t\\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\\t\\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\\t\\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\\t\\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\\t\\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\\t\\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\\t\\tC233.886,146.62,236.51,145.88,238.012,143.913z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby=='asc'),expression:\"qeParams[i]._orderby=='asc'\"}],staticStyle:{\"enable-background\":\"new 0 0 442.91 442.91\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 442.91 442.91\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\\t\\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\\t\\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\\t\\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\\t\\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\\t\\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\\t\\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\\t\\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\\t\\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\\t\\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\\t\\tC299.249,391.625,294.586,385.215,294.586,377.639z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.qeParams[i]._orderby=='desc'),expression:\"qeParams[i]._orderby=='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 440.87 440.87\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 440.87 440.87\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\\t\\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\\t\\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\\t\\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\\t\\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\\t\\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\\t\\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\\t\\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\\t\\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\\t\\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\\t\\tz\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])]),_c('div',{staticStyle:{\"position\":\"relative\",\"border\":\"1px solid #ddd\",\"padding\":\"1px 4px 0 4px\",\"white-space\":\"nowrap\",\"margin-top\":\"-1px\"}},[_c('div',{staticClass:\"button-operation\",staticStyle:{\"position\":\"absolute\",\"cursor\":\"pointer\",\"border\":\"0px solid blue\",\"top\":\"2px\",\"z-index\":\"1000\"}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.grid.columns.types[i]=='number'),expression:\"grid.columns.types[i]=='number'\"}],staticClass:\"hide\",staticStyle:{\"color\":\"red\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"SUMA\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"viewBox\":\"0 0 512.002 512.002\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('SUM',$event)}}},[_c('g',[_c('g',[_c('path',{staticStyle:{\"background\":\"blue\"},attrs:{\"d\":\"M437.108,74.898c-99.869-99.858-262.345-99.858-362.214,0c-99.858,99.858-99.858,262.34,0,362.203\\t\\t\\tc49.934,49.929,115.521,74.896,181.107,74.896s131.173-24.967,181.107-74.896C536.966,337.243,536.966,174.762,437.108,74.898z\\t\\t\\t M373.067,166.895c0,9.229-7.484,16.707-16.707,16.707s-16.707-7.478-16.707-16.707v-16.826H191.01l77.923,95.294\\t\\t\\tc5.036,6.15,5.036,14.975,0,21.126l-77.923,95.204h148.643v-16.588c0-9.229,7.484-16.707,16.707-16.707\\t\\t\\tc9.223,0,16.707,7.478,16.707,16.707v33.414c0,9.229-7.601,16.588-16.824,16.588H155.758c-6.45,0-12.334-3.66-15.098-9.491\\t\\t\\tc-2.762-5.835-1.926-12.713,2.164-17.705l91.585-111.926L142.825,144.06c-4.09-4.992-4.927-11.959-2.164-17.795\\t\\t\\tc2.762-5.83,8.648-9.61,15.098-9.61h200.485c9.223,0,16.824,7.597,16.824,16.826V166.895z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.grid.columns.types[i]=='number'),expression:\"grid.columns.types[i]=='number'\"}],staticClass:\"hide\",staticStyle:{\"enable-background\":\"new 0 0 512 512\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"MEDIA\",\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('AVG',$event)}}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M155.804,205.902c-27.625,0-50.098,22.473-50.098,50.098s22.473,50.098,50.098,50.098\\t\\t\\tc28.788,0,52.979-23.076,77.68-50.098C208.782,228.978,184.593,205.902,155.804,205.902z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M356.196,205.902c-28.788,0-52.979,23.076-77.68,50.098c24.7,27.022,48.891,50.098,77.68,50.098\\t\\t\\tc27.625,0,50.098-22.473,50.098-50.098S383.821,205.902,356.196,205.902z\"}})])]),_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M356.196,339.496\\t\\t\\tc-41.465,0-71.896-27.919-100.196-58.632c-28.3,30.713-58.73,58.632-100.196,58.632c-46.042,0-83.496-37.454-83.496-83.496\\t\\t\\tc0-46.042,37.454-83.496,83.496-83.496c41.465,0,71.896,27.919,100.196,58.632c28.3-30.713,58.73-58.632,100.196-58.632\\t\\t\\tc46.042,0,83.496,37.454,83.496,83.496C439.692,302.042,402.238,339.496,356.196,339.496z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 512 512\",\"zoom\":\"0.6\",\"float\":\"left\",\"margin-top\":\"-2px\"},attrs:{\"title\":\"Nmero de valores distintos\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\"},on:{\"click\":function($event){return _vm.clickFunc('DISTINCT',$event)}}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M389.594,317.231H244.592\\n\\t\\t\\tl-40.125,90.281c-2.772,6.219-8.872,9.92-15.275,9.92c-2.261,0-4.567-0.468-6.773-1.446c-8.425-3.745-12.221-13.612-8.48-22.043\\n\\t\\t\\tl34.094-76.712h-85.627c-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h100.471l29.688-66.797H122.406v0\\n\\t\\t\\tc-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h145.002l40.125-90.281\\n\\t\\t\\tc3.751-8.42,13.579-12.236,22.049-8.474c8.425,3.745,12.221,13.612,8.48,22.043l-34.094,76.712h85.627\\n\\t\\t\\tc9.219,0,16.699,7.475,16.699,16.699s-7.48,16.699-16.699,16.699H289.124l-29.688,66.797h130.159\\n\\t\\t\\tc9.219,0,16.699,7.475,16.699,16.699C406.294,309.756,398.813,317.231,389.594,317.231z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})]),_c('span',{staticStyle:{\"top\":\"-1px\",\"float\":\"left\",\"padding-left\":\"17px\",\"position\":\"relative\"}}),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})])]),_c('div',{class:{'search-field':true,'search-field-inactive':_vm.qeParams[i]?!_vm.qeParams[i]._active:false},attrs:{\"contentEditable\":\"true\"},on:{\"keydown\":function($event){return _vm.keyDownSearchField($event,i)},\"focus\":function($event){return _vm.focusSearchField($event,i)},\"blur\":function($event){return _vm.focusSearchField($event,i,true)}}},[_vm._v(_vm._s(_vm.getParamSearchString(i)))])])}),0)]),_c('Ly',{staticStyle:{\"position\":\"relative\",\"padding-top\":\"0px\"},attrs:{\"grow\":\"1\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticStyle:{\"position\":\"absolute\",\"width\":\"18px\",\"top\":\"2px\",\"right\":\"0px\",\"padding\":\"3px\",\"z-index\":\"1\"},on:{\"click\":function($event){_vm.show.queryEditor=!_vm.show.queryEditor}}},[_c('div',{class:{'arrow-up':_vm.show.queryEditor,'arrow-down':!_vm.show.queryEditor}})]),_c('SimpleTable',{ref:\"Tabla\",staticStyle:{\"background\":\"white\"},attrs:{\"height\":\"100%\",\"hiddenKeys\":['PK_ID'],\"rows\":_vm.grid.rows,\"overflow\":\"scroll\",\"checkable\":true,\"checkedRows\":_vm.checkedIndexes,\"selectable\":false},on:{\"orderBy\":_vm.orderBy,\"rowClick\":_vm.rowClick,\"checkClick\":_vm.checkClick,\"scrollHeaders\":_vm.scrollHeaders,\"resizeHeaders\":_vm.resizeHeaders,\"headerClick\":_vm.headerClick}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tabs',{attrs:{\"tabs\":_vm.tabs}},_vm._l((_vm.tabs),function(tab){return _c('Ly',{attrs:{\"slot\":tab,\"flexbox\":\"1\",\"column\":\"1\",\"grow\":\"1\"},slot:tab},_vm._l((_vm.shallowFields(tab)),function(campo){return _c('Ly',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inFilter(campo)),expression:\"inFilter(campo)\"}],style:(_vm.elementStyle(campo))},[_c('div',_vm._l((campo.name.split('.')),function(ele){return _c('div',{staticStyle:{\"float\":\"left\"}},[_vm._v(_vm._s(ele))])}),0),_c('label',{on:{\"click\":function($event){return _vm.labelClick($event)}}},[_vm._v(_vm._s(campo.name))]),(campo.type=='multiple')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"multiple\":\"\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event.target,campo,tab)}]}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(campo, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.assignModel($event.target.value,campo,tab)}]}},[_c('option'),_vm._l((_vm.listOptions( campo )),function(option){return _c('option',{domProps:{\"value\":option[0]}},[_vm._v(_vm._s(option[1]))])})],2):(campo.type=='boolean')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(campo.value)?_vm._i(campo.value,null)>-1:(campo.value)},on:{\"change\":[function($event){var $$a=campo.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(campo, \"value\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(campo, \"value\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(campo, \"value\", $$c)}},function($event){return _vm.assignModel($event.target.checked,campo,tab)}]}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(campo.value),expression:\"campo.value\"}],staticClass:\"form-control\",domProps:{\"value\":(campo.value)},on:{\"blur\":function($event){return _vm.assignModel($event.target.value,campo,tab)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(campo, \"value\", $event.target.value)}}})])}),1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{directives:[{name:\"resize\",rawName:\"v-resize\"}]},[_vm._v(_vm._s(_vm.valor))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <textarea v-resize>{{valor}}</textarea>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  props: ['valor'],\r\n  directives: {\r\n      resize: {\r\n          inserted: function (ele) {\r\n             //ele.style.height = \"0px\"\r\n             const scrollHeight = ele.scrollHeight\r\n             if ( scrollHeight > 0) {\r\n                 const scrollSize = $(ele).height() + scrollHeight\r\n                 ele.style.height = scrollSize + 'px'\r\n                 console.log(scrollSize)\r\n             }\r\n                //ele.style.height = ele.scrollHeight + 'px'\r\n            // console.log(ele.scrollHeight)\r\n          }\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autosize-textarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./autosize-textarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./autosize-textarea.vue?vue&type=template&id=687d89a6&\"\nimport script from \"./autosize-textarea.vue?vue&type=script&lang=js&\"\nexport * from \"./autosize-textarea.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template v-if=\"false\">\r\n    <Tabs :tabs=\"tabs\">\r\n        <Ly v-for=\"tab in tabs\" flexbox=1 column=1 grow=1 :slot=\"tab\">\r\n            <Ly v-for=\"campo in shallowFields(tab)\" v-show=\"inFilter(campo)\" :style=\"elementStyle(campo)\">\r\n                <div>\r\n                    <div v-for=\"ele in campo.name.split('.')\" style=\"float:left\">{{ele}}</div>\r\n                </div>\r\n                <label @click=\"labelClick($event)\">{{campo.name}}</label>\r\n                <select v-if=\"campo.type=='multiple'\" multiple v-model=\"campo.value\" v-on:change=\"assignModel($event.target,campo,tab)\" class=\"form-control\">\r\n                    <option value=\"\">&nbsp;</option>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <select v-else-if=\"campo.type=='select'\" v-model=\"campo.value\" v-on:change=\"assignModel($event.target.value,campo,tab)\" class=\"form-control\">\r\n                    <option/>\r\n                    <option v-for=\"option in listOptions( campo )\" :value=\"option[0]\">{{option[1]}}</option>\r\n                </select>\r\n                <input v-else-if=\"campo.type=='boolean'\" type=\"checkbox\" v-model=\"campo.value\" v-on:change=\"assignModel($event.target.checked,campo,tab)\" class=\"form-control\">\r\n               <input v-else v-model=\"campo.value\" v-on:blur=\"assignModel($event.target.value,campo,tab)\" class=\"form-control\">\r\n                 \r\n            </Ly>\r\n        </Ly>\r\n    </Tabs>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport $ from 'jquery'\r\n//import {objeto,JSON.cc,select,log} from '../helpers.js'\r\nimport Ly from './layout.vue';\r\nimport autosizeTextarea  from './autosize-textarea.vue'\r\nimport Tabs  from './tabs.vue'\r\n//Vue.use(VueAutosize)\r\nexport default {\r\n    components: { Ly, autosizeTextarea, Tabs },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        }, \r\n        branchs: Array,\r\n        lists: Array,\r\n        filter: String,\r\n        keysSettings: Object\r\n    },\r\n    data: function () {\r\n        /*\r\n                const obj = JSON.cc(this.item)\r\n                Object.keys( obj ).forEach ( key => {\r\n                    const val = obj[key]\r\n                    console.log(typeof val+val)\r\n                    if ( typeof val==\"object\" ) obj[key] = \"\"\r\n                })\r\n                */\r\n        return {\r\n            validations: {\r\n                label: ( val ) => {\r\n                    return true\r\n                }\r\n            },\r\n            objeto: JSON.cc(this.item)\r\n        }\r\n    },\r\n    watch:{\r\n        item: function (val, oldVal ) { this.objeto = val }\r\n    },\r\n    computed : {\r\n       branchKeys () {\r\n           let branchs = this.branchs\r\n           if ( !branchs ) return []\r\n           branchs = branchs.map ( branch => branch.key )\r\n           return {}\r\n            const branchKeys = Object.keys(this.objeto).filter ( key => ( branchs.indexOf(key) !=-1 && this.objeto[key] && typeof this.objeto[key] == 'object' && typeof this.objeto[key].length == 'undefined' ) )\r\n            return branchKeys//.filter ( key => branchs.indexOf(key) != -1 )\r\n         },\r\n        tabs () {\r\n            return ['main'].concat(this.branchKeys)\r\n        }\r\n    },\r\n    methods: {\r\n        labelClick (event) {\r\n            const $field = $(event.currentTarget).parent()\r\n            this.$emit('clickLabel',$field)\r\n            //console.log($field[0])\r\n        },\r\n        inFilter(campo) {\r\n            if ( !this.filter || this.filter == \"\" ) return true\r\n            const inFilter = campo.name.toLowerCase().indexOf(this.filter.toLowerCase()) != -1\r\n            return inFilter\r\n        },\r\n        elementStyle(campo) {\r\n            if ( !this.keysSettings ) return {}\r\n            const keySetting = this.keysSettings[campo.name]\r\n            const readOnly = keySetting ? keySetting.readOnly : false\r\n            , zindex = readOnly ? {\"z-index\" : -1} : {}\r\n            return zindex\r\n        },\r\n        assignModel ( val, campo, tab ) {\r\n            //console.log(val)\r\n            if ( ! this.isContentValid ( val, campo, tab ) ) {\r\n                alert ('El contenido del campo no es valido.')\r\n                return false;\r\n            }\r\n            const value = campo.type == 'multiple' ? new select(val).getValues() : val\r\n            const key = campo.name\r\n            , model = { [key]: value }\r\n            , branch = this.branch(tab) \r\n            Object.assign ( branch , model )\r\n            \r\n            const formState = JSON.cc(this.objeto)\r\n            Object.keys(formState).forEach ( key => {\r\n                const val = formState[key]\r\n                formState[key] = { value: val, text: this.listTextForValue(val,key)}\r\n            })\r\n            //log(formState)\r\n            this.$emit('change',formState)\r\n            return\r\n\r\n            this.$emit('change',JSON.cc(this.objeto))\r\n        },\r\n        isContentValid ( val, campo, tab ) {\r\n            //return true\r\n            const fieldValidation = this.fieldValidation ( campo, tab )\r\n            , isValid = fieldValidation ? fieldValidation ( val ) : true\r\n            return isValid\r\n        },\r\n        branch ( tab ) {\r\n            if ( tab == 'main' ) {\r\n                return this.objeto\r\n            } else {\r\n                return this.objeto[tab]\r\n            }\r\n        },\r\n        shallowFields (tab) {\r\n            const obj = this.branch(tab)\r\n            const shallowKeys = Object.keys(obj).filter ( key => ( obj[key] == null || typeof obj[key] != 'object' || this.listFor(key) ) )\r\n            const shallowFields = shallowKeys.map ( key => {\r\n                const value = JSON.cc(obj[key])\r\n                , name = key\r\n                , type = this.fieldType (key)\r\n                , text = this.listTextForValue ( value , key )\r\n                return ({ name, value, type, text })\r\n            } )//Object.keys(this.objeto).filter ( campo => ( typeof campo[this.valueKeyName] != 'object' || this.isList(campo) ) )\r\n            return shallowFields\r\n        },\r\n        fieldType ( key ) {\r\n            const list = this.listFor ( key )\r\n            if ( list ) { return list.multiple ? 'multiple' : 'select' }\r\n            if ( typeof this.objeto[key] == 'boolean' ) return 'boolean'\r\n            return 'textarea'\r\n        },\r\n        listTextForValue ( val, key ) {\r\n            const list = this.listFor ( key )\r\n            if ( ! list || ! list.values || ! list.values.filter ) return val\r\n            const textArr = list.values.filter ( pair => pair[0] == val )[0]\r\n            const text = textArr ? textArr[1] : false\r\n            //val = typeof val == 'string' ? val : val[1]\r\n            //log(text)\r\n            return text\r\n        },\r\n        listFor ( key ) {\r\n            if ( ! this.keysSettings ) return false\r\n            const keySettings =  this.keysSettings[key]//.filter ( list => list.key == key )[0]\r\n            , keyList = keySettings ? keySettings.list : false\r\n             //console.log( JSON.cc(keyList))\r\n           if ( ! keyList || ! keyList.values.length ) return false\r\n            return keyList\r\n        },\r\n        listOptions ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.keysSettings[keyName].list.values\r\n            return options\r\n        },\r\n        listFor_old ( key ) {\r\n            if ( ! this.lists ) return false\r\n            const list =  this.lists.filter ( list => list.key == key )[0]\r\n           if ( ! list ) return false\r\n            return list\r\n        },\r\n        listOptions_old ( campo ) {\r\n            const keyName = campo.name\r\n            , options = this.lists.filter ( list => list.key == keyName )[0].values\r\n            return options\r\n        },\r\n        fieldValidation ( campo, tabName ) {\r\n            let validation = false\r\n            if ( tabName == 'main' ) tabName = undefined\r\n            if ( ! tabName ) {\r\n                try {\r\n                    validation = this.validations[campo.name]\r\n                } catch(err) {}\r\n            } else {\r\n                try {\r\n                    validation = this.validations[tabName][campo.name]\r\n                } catch(err) {}\r\n            }\r\n            return validation\r\n        }\r\n    }\r\n    , beforeUpdate(){\r\n        return\r\n        const divs = this.$refs.divinput//$('div.form-control')\r\n        divs.forEach ( div => {\r\n            //div.innerHTML = \"\"\r\n        })\r\n        //console.log(divs)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .LyItem {\r\n        padding: 2px;\r\n    }\r\n    label {\r\n        font-weight: normal;\r\n    }\r\n    input {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./item-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./item-editor.vue?vue&type=template&id=18981f6d&scoped=true&v-if=false&\"\nimport script from \"./item-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./item-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./item-editor.vue?vue&type=style&index=0&id=18981f6d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18981f6d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"data-component\":\"query-editor\"}},[_c('ol',{ref:\"lista\",staticStyle:{\"width\":\"100%\"}},_vm._l((_vm.parameters.data),function(param,i){return _c('li',{staticClass:\"param\",attrs:{\"param\":JSON.stringify(param),\"data-active\":param._active}},[_c('span',{staticClass:\"grippy\"}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.admin),expression:\"admin\"}],staticClass:\"close closeButton\",attrs:{\"data-help-code\":\"search-parameter-close\"},on:{\"click\":function($event){return _vm.deleteParam(i)}}}),_c('div',{staticClass:\"parameter-toolbar\",staticStyle:{\"white-space\":\"nowrap\",\"border\":\"1px solid #ddd\",\"margin\":\"0px 0 0px 0\",\"padding\":\"3px 1px\"}},[_c('button',{staticStyle:{\"padding\":\"0\",\"border-left-color\":\"transparent\"},attrs:{\"data-help-code\":\"search-parameter-order\"},on:{\"click\":function($event){return _vm.setNewOrder(i)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby!='asc'&&param._orderby!='desc'),expression:\"param._orderby!='asc'&&param._orderby!='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 427.484 427.484\"},style:({height:'10px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"427.484px\",\"height\":\"427.484px\",\"viewBox\":\"0 0 427.484 427.484\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\\t\\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\\t\\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\\t\\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\\t\\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\\t\\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\\t\\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\\t\\tC233.886,146.62,236.51,145.88,238.012,143.913z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby=='asc'),expression:\"param._orderby=='asc'\"}],staticStyle:{\"enable-background\":\"new 0 0 442.91 442.91\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 442.91 442.91\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\\t\\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\\t\\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\\t\\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\\t\\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\\t\\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\\t\\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\\t\\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\\t\\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\\t\\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\\t\\tC299.249,391.625,294.586,385.215,294.586,377.639z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._orderby=='desc'),expression:\"param._orderby=='desc'\"}],staticStyle:{\"enable-background\":\"new 0 0 440.87 440.87\"},style:({fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 440.87 440.87\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\\t\\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\\t\\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\\t\\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\\t\\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\\t\\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\\t\\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\\t\\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\\t\\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\\t\\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\\t\\tz\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{attrs:{\"data-help-code\":\"search-parameter-list\"},on:{\"click\":function($event){_vm.parameters.data[i]._inlist=!param._inlist;_vm.emitParameters()}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._inlist),expression:\"param._inlist\"}],staticStyle:{\"enable-background\":\"new 0 0 932.15 932.15\"},style:({height:'13px','margin-bottom':'-2px','margin-left':'-2px',fill:'blue'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"932.15px\",\"height\":\"932.15px\",\"viewBox\":\"0 0 932.15 932.15\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M466.075,161.525c-205.6,0-382.8,121.2-464.2,296.1c-2.5,5.3-2.5,11.5,0,16.9c81.4,174.899,258.601,296.1,464.2,296.1\\t\\ts382.8-121.2,464.2-296.1c2.5-5.3,2.5-11.5,0-16.9C848.875,282.725,671.675,161.525,466.075,161.525z M466.075,676.226\\t\\tc-116.1,0-210.1-94.101-210.1-210.101c0-116.1,94.1-210.1,210.1-210.1c116.1,0,210.1,94.1,210.1,210.1\\t\\tS582.075,676.226,466.075,676.226z\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"466.075\",\"cy\":\"466.025\",\"r\":\"134.5\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!param._inlist),expression:\"!param._inlist\"}],staticStyle:{\"enable-background\":\"new 0 0 469.44 469.44\"},style:({height:'13px','margin-bottom':'-2px','margin-left':'-2px'}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 469.44 469.44\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M231.147,160.373l67.2,67.2l0.32-3.52c0-35.307-28.693-64-64-64L231.147,160.373z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M234.667,117.387c58.88,0,106.667,47.787,106.667,106.667c0,13.76-2.773,26.88-7.573,38.933l62.4,62.4\\t\\t\\t\\tc32.213-26.88,57.6-61.653,73.28-101.333c-37.013-93.653-128-160-234.773-160c-29.867,0-58.453,5.333-85.013,14.933l46.08,45.973\\t\\t\\t\\tC207.787,120.267,220.907,117.387,234.667,117.387z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M21.333,59.253l48.64,48.64l9.707,9.707C44.48,145.12,16.64,181.707,0,224.053c36.907,93.653,128,160,234.667,160\\t\\t\\t\\tc33.067,0,64.64-6.4,93.547-18.027l9.067,9.067l62.187,62.293l27.2-27.093L48.533,32.053L21.333,59.253z M139.307,177.12\\t\\t\\t\\tl32.96,32.96c-0.96,4.587-1.6,9.173-1.6,13.973c0,35.307,28.693,64,64,64c4.8,0,9.387-0.64,13.867-1.6l32.96,32.96\\t\\t\\t\\tc-14.187,7.04-29.973,11.307-46.827,11.307C175.787,330.72,128,282.933,128,224.053C128,207.2,132.267,191.413,139.307,177.12z\"}})])])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extended&&param._active),expression:\"param._extended&&param._active\"}],staticStyle:{\"width\":\"auto\",\"padding\":\"0 3px\"},attrs:{\"data-help-code\":\"search-parameter-operator\"},domProps:{\"innerHTML\":_vm._s(param.operator=='AND'?'Y':'O')},on:{\"click\":function($event){return _vm.changeOperator(i)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticStyle:{\"padding\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-negated\"},on:{\"click\":function($event){return _vm.negateParam(_vm.parameters.data[i])}}},[_c('svg',{staticStyle:{\"enable-background\":\"new 0 0 46 46\"},style:({height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.leftText.toLowerCase().indexOf('not')!=-1?'red':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Capa_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"width\":\"46px\",\"height\":\"46px\",\"viewBox\":\"0 0 46 46\",\"xml:space\":\"preserve\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\\t\\t\\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"}})])]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && param._extended),expression:\"param._active && param._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-left\"},domProps:{\"innerHTML\":_vm._s(param.leftText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'leftText')},\"keyup\":function($event){return _vm.textKeyPress($event,'leftText',i)}}}),_c('div',{staticClass:\"highlight-text highlight-text-strong\",attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-alias\"},on:{\"blur\":function($event){return _vm.editAliasName(i,$event)}}},[_vm._v(_vm._s(param.alias))]),_c('button',{staticStyle:{\"padding\":\"0\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-active\"},on:{\"click\":function($event){return _vm.activateParam(_vm.parameters.data[i],$event);}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\\t\\tS132.5,45.981,132.5,102.5V160h30V102.5z\"}}),_vm._v(\" \"),_c('rect',{attrs:{\"x\":\"77.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!param._active),expression:\"!param._active\"}],staticStyle:{\"enable-background\":\"new 0 0 470 470\"},style:({height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}),attrs:{\"version\":\"1.1\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 470 470\",\"xml:space\":\"preserve\"}},[_c('g',[_c('rect',{attrs:{\"x\":\"137.5\",\"y\":\"190\",\"width\":\"315\",\"height\":\"280\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\\t\\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"}})]),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g'),_c('g')])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active),expression:\"param._active\"}],staticClass:\"highlight-text\",attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-value\"},domProps:{\"innerHTML\":_vm._s(_vm.valueParam(param))},on:{\"blur\":function($event){return _vm.editParameter(i,$event)},\"focus\":function($event){return _vm.openContext(i,$event,param)},\"keyup\":function($event){return _vm.positionContext(i,$event,param);}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && param._extended),expression:\"param._active && param._extended\"}],staticClass:\"side-text\",staticStyle:{\"font-weight\":\"bold\"},attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-parentesis-right\"},domProps:{\"innerHTML\":_vm._s(param.rightText)},on:{\"blur\":function($event){return _vm.changeText(i,$event,'rightText')},\"keyup\":function($event){return _vm.textKeyPress($event,'rightText')}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._active && _vm.admin),expression:\"param._active && admin\"}],staticStyle:{\"width\":\"16px\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-extend\"},on:{\"click\":function($event){_vm.parameters.data[i]._extended=!param._extended;_vm.emitParameters()}}},[_c('div',{class:{'arrow-left':param._extended,'arrow-right':!param._extended},staticStyle:{\"display\":\"block\",\"float\":\"left\",\"zoom\":\"0.42\",\"margin-top\":\"10px\",\"margin-left\":\"8px\",\"opacity\":\"0.5\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extendKey),expression:\"param._extendKey\"}],attrs:{\"contenteditable\":\"true\",\"data-help-code\":\"search-parameter-key\"},domProps:{\"innerHTML\":_vm._s(param.key)},on:{\"blur\":function($event){return _vm.editKeyName(i,$event)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(param._extended),expression:\"param._extended\"}],staticStyle:{\"width\":\"16px\",\"border\":\"0\"},attrs:{\"data-help-code\":\"search-parameter-extend-key\"},on:{\"click\":function($event){_vm.parameters.data[i]._extendKey=!param._extendKey;_vm.emitParameters()}}},[_c('div',{class:{'arrow-left':param._extendKey,'arrow-right':!param._extendKey},staticStyle:{\"display\":\"block\",\"float\":\"left\",\"zoom\":\"0.42\",\"margin-top\":\"10px\",\"margin-left\":\"8px\",\"opacity\":\"0.5\"}})])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    \r\n    <div data-component=\"query-editor\" style=\"\">\r\n        <ol style=\"width:100%\" ref=\"lista\">\r\n            <li class=\"param\" v-for=\"(param,i) in parameters.data\" :param=\"JSON.stringify(param)\" :data-active=\"param._active\">\r\n                <span class=\"grippy\"></span>\r\n                <button v-show=\"admin\" @click=\"deleteParam(i)\" class=\"close closeButton\" data-help-code=\"search-parameter-close\"></button>\r\n                <div style=\"white-space: nowrap;border: 1px solid #ddd;margin:0px 0 0px 0;padding:3px 1px\" class=\"parameter-toolbar\">\r\n                <button @click=\"setNewOrder(i)\" data-help-code=\"search-parameter-order\" style=\"text-transform:;;padding:0;border-left-color:transparent\">\r\n                    <!--<svg :style=\"{transform:`rotate(${param._orderby=='desc'?'90deg':(param._orderby=='asc'?'-90deg':'0deg')})`,height:'8px','margin-bottom':'0px','margin-left':'-2px'}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\"><path :style=\"{fill:`${param._orderby=='desc'?'blue':(param._orderby=='asc'?'green':'')}`}\" d=\"M36.1 20.2l-29-20C6.8 0 6.4-0.1 6 0.1 5.7 0.3 5.5 0.6 5.5 1v40c0 0.4 0.2 0.7 0.5 0.9 0.1 0.1 0.3 0.1 0.5 0.1 0.2 0 0.4-0.1 0.6-0.2l29-20c0.3-0.2 0.4-0.5 0.4-0.8S36.3 20.4 36.1 20.2z\"/></svg>-->\r\n                    <svg v-show=\"param._orderby!='asc'&&param._orderby!='desc'\" :style=\"{height:'10px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"427.484px\" height=\"427.484px\" viewBox=\"0 0 427.484 427.484\" style=\"enable-background:new 0 0 427.484 427.484;\"\t xml:space=\"preserve\"><g>\t<path d=\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\t\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\t\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\t\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\t\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\t\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\t\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\t\tC233.886,146.62,236.51,145.88,238.012,143.913z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg> \r\n\r\n                    <svg v-show=\"param._orderby=='asc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 442.91 442.91\" style=\"enable-background:new 0 0 442.91 442.91;\" xml:space=\"preserve\"><g>\t<path d=\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\t\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\t\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\t\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\t\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\t\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\t\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\t\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\t\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\t\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\t\tC299.249,391.625,294.586,385.215,294.586,377.639z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"param._orderby=='desc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 440.87 440.87\" style=\"enable-background:new 0 0 440.87 440.87;\" xml:space=\"preserve\"><g>\t<path d=\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\t\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\t\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\t\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\t\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\t\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\t\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\t\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\t\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\t\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\t\tz\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>               \r\n                </button>\r\n                <button @click=\"parameters.data[i]._inlist=!param._inlist;emitParameters()\" data-help-code=\"search-parameter-list\" style=\"\">\r\n                    <svg v-show=\"param._inlist\" :style=\"{height:'13px','margin-bottom':'-2px','margin-left':'-2px',fill:'blue'}\"  version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"932.15px\" height=\"932.15px\" viewBox=\"0 0 932.15 932.15\" style=\"enable-background:new 0 0 932.15 932.15;\"\t xml:space=\"preserve\"><g>\t<path d=\"M466.075,161.525c-205.6,0-382.8,121.2-464.2,296.1c-2.5,5.3-2.5,11.5,0,16.9c81.4,174.899,258.601,296.1,464.2,296.1\t\ts382.8-121.2,464.2-296.1c2.5-5.3,2.5-11.5,0-16.9C848.875,282.725,671.675,161.525,466.075,161.525z M466.075,676.226\t\tc-116.1,0-210.1-94.101-210.1-210.101c0-116.1,94.1-210.1,210.1-210.1c116.1,0,210.1,94.1,210.1,210.1\t\tS582.075,676.226,466.075,676.226z\"/>\t<circle cx=\"466.075\" cy=\"466.025\" r=\"134.5\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"!param._inlist\" :style=\"{height:'13px','margin-bottom':'-2px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 469.44 469.44\" style=\"enable-background:new 0 0 469.44 469.44;\" xml:space=\"preserve\"><g>\t<g>\t\t<g>\t\t\t<path d=\"M231.147,160.373l67.2,67.2l0.32-3.52c0-35.307-28.693-64-64-64L231.147,160.373z\"/>\t\t\t<path d=\"M234.667,117.387c58.88,0,106.667,47.787,106.667,106.667c0,13.76-2.773,26.88-7.573,38.933l62.4,62.4\t\t\t\tc32.213-26.88,57.6-61.653,73.28-101.333c-37.013-93.653-128-160-234.773-160c-29.867,0-58.453,5.333-85.013,14.933l46.08,45.973\t\t\t\tC207.787,120.267,220.907,117.387,234.667,117.387z\"/>\t\t\t<path d=\"M21.333,59.253l48.64,48.64l9.707,9.707C44.48,145.12,16.64,181.707,0,224.053c36.907,93.653,128,160,234.667,160\t\t\t\tc33.067,0,64.64-6.4,93.547-18.027l9.067,9.067l62.187,62.293l27.2-27.093L48.533,32.053L21.333,59.253z M139.307,177.12\t\t\t\tl32.96,32.96c-0.96,4.587-1.6,9.173-1.6,13.973c0,35.307,28.693,64,64,64c4.8,0,9.387-0.64,13.867-1.6l32.96,32.96\t\t\t\tc-14.187,7.04-29.973,11.307-46.827,11.307C175.787,330.72,128,282.933,128,224.053C128,207.2,132.267,191.413,139.307,177.12z\"\t\t\t\t/>\t\t</g>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                <button @click=\"changeOperator(i)\" v-show=\"param._extended&&param._active\" data-help-code=\"search-parameter-operator\" style=\"width:auto;padding:0 3px\" v-html=\"param.operator=='AND'?'Y':'O'\"></button>\r\n                <button v-show=\"param._active\" @click=\"negateParam(parameters.data[i])\" data-help-code=\"search-parameter-negated\" style=\"padding:0;\">\r\n                    <svg :style=\"{height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.leftText.toLowerCase().indexOf('not')!=-1?'red':'')}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"46px\" height=\"46px\" viewBox=\"0 0 46 46\" style=\"enable-background:new 0 0 46 46;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"/>\t\t<path d=\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\t\t\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                <!--\r\n                <button v-show=\"param._active\" @click=\"likeParam(i)\" data-help-code=\"search-parameter-like\" style=\"padding:0;\">\r\n                    <svg :style=\"{height:'11px','margin-bottom':'-1px','margin-left':'-2px',fill:(param.like?'red':'')}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"46px\" height=\"46px\" viewBox=\"0 0 46 46\" style=\"enable-background:new 0 0 46 46;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M32.294,19H13.706c-2.209,0-4,1.791-4,4s1.791,4,4,4h18.588c2.209,0,4-1.791,4-4S34.503,19,32.294,19z\"/>\t\t<path d=\"M23,0C10.298,0,0,10.298,0,23c0,12.703,10.298,23,23,23s23-10.297,23-23C46,10.298,35.702,0,23,0z M23,40\t\t\tc-9.374,0-17-7.625-17-17c0-9.373,7.626-17,17-17s17,7.627,17,17C40,32.375,32.374,40,23,40z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                </button>\r\n                -->\r\n                </div>\r\n                <div v-show=\"param._active && param._extended\" contenteditable=\"true\" class=\"side-text\" v-html=\"param.leftText\" @blur=\"changeText(i,$event,'leftText')\" @keyup=\"textKeyPress($event,'leftText',i)\" data-help-code=\"search-parameter-parentesis-left\" style=\"font-weight:bold\"/>\r\n                <div contenteditable=\"true\" @blur=\"editAliasName(i,$event)\" data-help-code=\"search-parameter-alias\" class=\"highlight-text highlight-text-strong\">{{param.alias}}</div><!--\r\n                -->\r\n                <button @click=\"activateParam(parameters.data[i],$event);\" data-help-code=\"search-parameter-active\" style=\"padding:0;border:0\">\r\n                    <svg v-show=\"param._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<path d=\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\t\tS132.5,45.981,132.5,102.5V160h30V102.5z\"/>\t<rect x=\"77.5\" y=\"190\" width=\"315\" height=\"280\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"!param._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(param._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<rect x=\"137.5\" y=\"190\" width=\"315\" height=\"280\"/>\t<path d=\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\t\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>                </button>\r\n                <div v-show=\"param._active\" @blur=\"editParameter(i,$event)\" @focus=\"openContext(i,$event,param)\" @keyup=\"positionContext(i,$event,param);\" contenteditable=\"true\" data-help-code=\"search-parameter-value\" v-html=\"valueParam(param)\"  class=\"highlight-text\"></div>\r\n                <div v-show=\"param._active && param._extended\" contenteditable=\"true\" class=\"side-text\" v-html=\"param.rightText\" @blur=\"changeText(i,$event,'rightText')\" @keyup=\"textKeyPress($event,'rightText')\" data-help-code=\"search-parameter-parentesis-right\" style=\"font-weight:bold\"/>\r\n                <!--\r\n                <button @click=\"changeType(i)\" v-show=\"param._extended\" data-help-code=\"search-parameter-datatype\" style=\"width:auto;padding:0 3px;border-width:0 1px 0 0\">{{param.data_type}}</button>\r\n                -->\r\n                <button v-show=\"param._active && admin\"  @click=\"parameters.data[i]._extended=!param._extended;emitParameters()\" style=\"width: 16px;border:0\" data-help-code=\"search-parameter-extend\">\r\n                    <div :class=\"{'arrow-left':param._extended,'arrow-right':!param._extended}\" style=\"display:block;float:left;zoom:0.42;margin-top:10px;margin-left:8px;opacity:0.5\"></div>&nbsp;\r\n                </button>\r\n                <div contenteditable=\"true\" @blur=\"editKeyName(i,$event)\" data-help-code=\"search-parameter-key\" v-show=\"param._extendKey\" v-html=\"param.key\"></div>\r\n                <button  @click=\"parameters.data[i]._extendKey=!param._extendKey;emitParameters()\" v-show=\"param._extended\" style=\"width: 16px;border:0\" data-help-code=\"search-parameter-extend-key\">\r\n                    <div :class=\"{'arrow-left':param._extendKey,'arrow-right':!param._extendKey}\" style=\"display:block;float:left;zoom:0.42;margin-top:10px;margin-left:8px;opacity:0.5\"></div>&nbsp;\r\n                </button>\r\n            </li>\r\n        </ol>\r\n    </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport queryEditor from './query-editor.js'\r\nexport default {\r\n    components: { },\r\n    props: {\r\n        params: [Array]\r\n        , dbID: String\r\n    },\r\n    data: function () {\r\n        return {\r\n            admin: this.api.parsedSearch.admin,\r\n            parameters: {data: JSON.cc(this.params)}\r\n            , focusedParamIndex: -1\r\n        }\r\n    },\r\n    watch: {\r\n        params: function (val, oldVal ) {\r\n            //console.log(val)\r\n            const fs = JSON.cc(val)\r\n            Object.keys ( fs ).forEach ( key => {\r\n                fs[key].value = fs[key].value == \"%\" ? \"\" : fs[key].value\r\n            })\r\n            //console.log(fs)\r\n            this.parameters.data = fs\r\n        }\r\n    },\r\n    computed : {\r\n        settings() {\r\n            // ATENCIN: Misteriosamente, si no defino esta variable 'params' y luego la vuelvo a copiar con JSON.cc al instanciar el Queryeditor, algo se la y llega mal la informacin de data_type de los parmetros\r\n            const params = JSON.cc(this.parameters.data)\r\n            const qe = new queryEditor ( JSON.cc(params), this.$store.state.queries )\r\n            , localParams = qe.getParams()\r\n            , sqlSyntax = qe.getSqlSyntax()\r\n            , whereText = qe.getWhereText()\r\n            , orderBy = qe.getOrderBy()\r\n            , columns = qe.getColumns()\r\n            const sett = {sqlSyntax,params,whereText,columns,orderBy}\r\n            return sett\r\n        }\r\n     },\r\n    mounted: function () {\r\n        //jqui.sortable(this.$refs.lista)\r\n        $(this.$refs.lista).sortable({\r\n            handle: 'span'\r\n            , stop: this.sortableStop\r\n            , placeholder: \"ui-state-highlight\"\r\n        })\r\n     },\r\n    methods: {\r\n        positionContext(i,event,param) {\r\n            window.contextList.positionContext()\r\n            window.contextList.updateContext({searchString:event.target.innerHTML})\r\n            //this.editParameter(i,event)\r\n            this.openContext(i,event,param)\r\n            //setEndOfContenteditable(event.target)\r\n            /*\r\n            this.$nextTick ( function setEndOfContenteditable()\r\n            {\r\n                var range,selection,contentEditableElement = event.target\r\n                if(document.createRange)//Firefox, Chrome, Opera, Safari, IE 9+\r\n                {\r\n                    range = document.createRange();//Create a range (a range is a like the selection but invisible)\r\n                    range.selectNodeContents(contentEditableElement);//Select the entire contents of the element with the range\r\n                    range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\r\n                    selection = window.getSelection();//get the selection object (allows you to change selection)\r\n                    selection.removeAllRanges();//remove any selections already made\r\n                    selection.addRange(range);//make the range you have just created the visible selection\r\n                }\r\n                else if(document.selection)//IE 8 and lower\r\n                { \r\n                    range = document.body.createTextRange();//Create a range (a range is a like the selection but invisible)\r\n                    range.moveToElementText(contentEditableElement);//Select the entire contents of the element with the range\r\n                    range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\r\n                    range.select();//Select the range (make it the visible selection\r\n                }\r\n            })\r\n            */\r\n\r\n        },\r\n        emitParameters(params) {\r\n            this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        openContext(i,event,param) {\r\n            let parVal = param.value\r\n            //if ( typeof parVal == 'object' ) parVal = JSON.stringify ( parVal )\r\n            //$(event.target).text(parVal)\r\n            const keyName = param.reference\r\n            , val = $(event.target).text()\r\n            , type = param.data_type\r\n            this.focusedParamIndex = i\r\n            const [dbname,ownername,tablename,fieldname] = param.reference.split('.')\r\n            let searchString = \"\"\r\n            try {\r\n                const obj = JSON.parse ( val )\r\n            } catch ( err ) {searchString = val}\r\n            window.contextList.openContext(keyName,$(event.target),val,type,this.contextListCheckClick,false,false,{dbname,ownername,tablename,fieldname,dbID: this.dbID, searchString})\r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            //console.log(checkedRows)\r\n            const i = this.focusedParamIndex\r\n            , par = this.parameters.data[i]\r\n            var checkedLiterals\r\n            if ( ! par ) return \r\n            if ( checkedRows.map ) {\r\n                checkedLiterals = JSON.stringify ( checkedRows.map ( row => row[Object.keys(row)[1]] ) )\r\n            } else {\r\n                checkedLiterals = checkedRows\r\n            }\r\n            //console.log(checkedLiterals)\r\n            par.value = checkedLiterals\r\n            par.text = checkedLiterals\r\n            this.emitParameters()\r\n        },\r\n        deleteParam (i) {\r\n            //$(this.$refs.lista).find('li').eq(i).remove();\r\n            this.parameters.data.splice(i,1)\r\n            this.emitParameters()\r\n            //this.sortableStop();\r\n            //this.$emit('paramSplice',i)\r\n        },\r\n        activateParam (param,event) {\r\n            param._active=!param._active;\r\n            //if(param.value==='%')param.value='%%'\r\n            this.emitParameters()\r\n            if ( ! event ) return false\r\n            const $textField = $(event.target).closest('li').find('.highlight-text')//=\"search-parameter-value\"]')\r\n            console.log($textField)\r\n            setTimeout ( ()=>$textField.eq(1).focus(), 100)\r\n            //this.$emit('paramSplice',i)\r\n        },\r\n        negateParam (param) {\r\n            if(param.leftText.toLowerCase().indexOf('not')!=-1){\r\n                param.leftText=param.leftText.toLowerCase().replace('not','')\r\n            }else{\r\n                param.leftText = 'not' + param.leftText\r\n            }\r\n        },\r\n        likeParam (i) {\r\n            this.parameters.data[i].like = this.parameters.data[i].like ? ! this.parameters.data[i].like : 1\r\n            this.emitParameters()\r\n        },\r\n        valueParam (param) {\r\n            const val = param.value\r\n            try {\r\n                const json = JSON.parse ( val )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    const sql = json.sql\r\n                    , descripcion = json.descripcion\r\n                    return descripcion\r\n                } else {\r\n                    return val\r\n                }\r\n            } catch ( err ) { return val }\r\n        },\r\n        setNewOrder(parameterIndex){\r\n            const orders = ['-','asc','desc']\r\n            , order = this.parameters.data[parameterIndex]._orderby\r\n            , actualOrderIndex = orders.indexOf(order) == -1 ? 0 : orders.indexOf(order)\r\n            , nextOrderIndex = (actualOrderIndex+1) > (orders.length-1) ? 0 : (actualOrderIndex+1)\r\n            , newOrder = orders[nextOrderIndex]\r\n            this.parameters.data[parameterIndex]._orderby=newOrder\r\n            this.emitParameters()\r\n            return newOrder\r\n        },\r\n        setQuery (params) {\r\n            //this.clear()\r\n            this.parameters.data = this.parameters.data.concat(params)\r\n            this.emitParameters()\r\n        },\r\n        editKeyName ( i, event ) {\r\n            const parametersCopy = JSON.cc(this.parameters.data)\r\n            parametersCopy[i].key=$(event.target).text()\r\n            this.parameters.data=parametersCopy\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',parametersCopy)\r\n        },\r\n        editAliasName ( i, event ) {\r\n            const parametersCopy = JSON.cc(this.parameters.data)\r\n            parametersCopy[i].alias=$(event.target).text()\r\n            this.parameters=Object.assign(this.parameters,{data:parametersCopy})\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',parametersCopy)\r\n        },\r\n        sortableStop (event,ui) {\r\n            //const $li = $(ui.item)\r\n            //, $lis = $li.parent().find('li')\r\n            const $lis = $(this.$refs.lista).find('li')\r\n            , params = []\r\n            $lis.each ( function () {\r\n                params.push ( JSON.parse($(this).attr('param')) )\r\n            })\r\n            $(this.$refs.lista).sortable('cancel')\r\n            this.parameters.data = params//_.reverse(params)\r\n            this.emitParameters()\r\n        },\r\n        filter () {\r\n\r\n        },\r\n        formChange(item) {\r\n        },\r\n        editParameter(i,event) {\r\n            const target = event.target\r\n            const newValue = $(target).text()//innerHTML\r\n            const par = this.parameters.data[i]\r\n            par.value = newValue\r\n            par.text = newValue\r\n            //window.bus.$emit('contextListBlur')\r\n            window.contextList.closeContext()\r\n            this.emitParameters()\r\n            //$(target).text(this.valueParam(par))\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        clear(){\r\n            this.parameters.data = []\r\n        },\r\n        changeOperator ( i ) {\r\n            const actualOperator = this.parameters.data[i].operator\r\n            , newOperator = ( actualOperator == 'AND' ? 'OR' : 'AND' )\r\n            this.parameters.data[i].operator = newOperator\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        changeType ( i ) {\r\n            const actualType = this.parameters.data[i].data_type\r\n            , newType = ( actualType == 'text' ? 'number' : ( actualType == 'number' ? 'date' : 'text' ) )\r\n            this.parameters.data[i].data_type = newType\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        changeText (i, event, o) {\r\n            const val = $(event.target).text()\r\n            this.parameters.data[i][o] = val\r\n            this.parameters.data[i][o] = val\r\n            this.emitParameters()\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n        },\r\n        textKeyPress (event,o,paramIndex) {\r\n            //return\r\n\t\t\tconst keycode = event.keyCode\r\n            //, val = event.target.value\r\n\t\t\t, leftValidkeycodesRegExp = new RegExp (/[^not(]/g)\r\n\t\t\t, rightValidkeycodesRegExp = new RegExp (/[^)]+/g)\r\n\t\t\t, validkeycodesRegExp = ( o == \"leftText\" ? leftValidkeycodesRegExp : rightValidkeycodesRegExp )\r\n\t\t\t, val = $(event.target).text().replace(validkeycodesRegExp,\"\")\r\n            //event.stopPropagation();\r\n            //this.parameters.data[paramIndex] = Object.assign({},this.parameters.data[paramIndex],{leftText:val})\r\n            if($(event.target).html()!=val)$(event.target).html(val)\r\n            //this.$emit('paramUpdate',JSON.cc(this.parameters.data))\r\n            //event.target.value = val\r\n\t\t\t//$inp.width($span.width());\r\n\r\n        }\r\n    },\r\n    updated () {\r\n        //this.sortableStop()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n .ui-state-highlight { height: 1.5em; line-height: 1.2em; }\r\n    button {\r\n        background: transparent;\r\n        border: 0 solid #ddd;\r\n        border-width: 0 0 0 1px;\r\n        cursor: default;\r\n        margin:4px 0 0 0 ;\r\n        outline: none;\r\n        padding: 0px;\r\n        width: 19px;\r\n\r\n    }\r\n    button:hover {\r\n        background: #ddd;\r\n    }\r\n    button:focus {\r\n    }\r\n    ol {\r\n        width: 100px;\r\n        list-style:none;\r\n        //background:red;\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    li {\r\n        list-style:none;\r\n        float: left;\r\n        margin: 0;\r\n        padding: 2px;\r\n        border: 1px solid #ddd;\r\n        white-space: nowrap;\r\n        border-radius: 0 10px 10px 0;\r\n        //box-shadow: 0px 0px 2px 0px white;\r\n        //background:white;\r\n        //width: 200px;\r\n    }\r\n    input {\r\n        width: 20px;\r\n    }\r\n    div {\r\n        //float:left;\r\n        display: inline;\r\n        white-space: normal;\r\n    }\r\n    div[contenteditable=\"true\"]:hover{\r\n        border:1px solid #ddd;\r\n    }\r\n    div[contenteditable=\"true\"]{\r\n        border:1px solid transparent;\r\n        //border-width: 0 1px 0 0;\r\n        padding:3px;\r\n        //margin: 0 3px;\r\n        display:inline-block;\r\n        width: auto;\r\n        min-width: 15px;\r\n        //background-color: #ffdf00;\r\n    }\r\n    div[value]{\r\n        //background:#f2f2f2;\r\n    }\r\n    span.grippy {\r\n      content: '....';\r\n      width: 20px;\r\n      height: 20px;\r\n      display: inline-block;\r\n      overflow: hidden;\r\n      line-height: 5px;\r\n      padding: 3px 4px;\r\n      cursor: move;\r\n      vertical-align: middle;\r\n      margin-top: -.2em;\r\n      margin-right: .3em;\r\n      font-size: 12px;\r\n      font-family: sans-serif;\r\n      letter-spacing: 2px;\r\n      color: #cccccc;\r\n      text-shadow: 1px 0 1px black;\r\n      white-space: normal;\r\n    }\r\n    span.grippy:after {\r\n      content: '.. .. .. ..';\r\n    }\r\n    .param:hover {\r\n        background: #fafafa;\r\n    }\r\n    .param {\r\n        margin:4px;\r\n        background:#f2f2f2;\r\n        display:flex;\r\n        align-items:flex-start;\r\n        flex-flow:row wrap;\r\n        position:relative;\r\n        padding-right: 15px;\r\n    }\r\n    .param[data-active]{\r\n        background:white;\r\n        border-color: blue;\r\n        //box-shadow: 1px 1px 2px #ddd;\r\n    }\r\n    .param>* {\r\n        float:left;\r\n        //white-space: nowrap;\r\n    }\r\n    div[contenteditable=\"true\"].side-text {\r\n        border:1px solid #ddd;\r\n    }\r\n    .closeButton {\r\n        top: -3px;\r\n        right: 2px;\r\n        border: 0;\r\n        //float: right;\r\n        cursor: default;\r\n        width: 14px;\r\n        position:absolute;\r\n    }\r\n    .closeButton:hover {\r\n        background: #e26c62;\r\n    }\r\n    .parameter-toolbar button {\r\n        margin-top: -2px\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./query-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./query-editor.vue?vue&type=template&id=9a27d116&scoped=true&\"\nimport script from \"./query-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./query-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./query-editor.vue?vue&type=style&index=0&id=9a27d116&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9a27d116\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticStyle:{\"display\":\"none\",\"position\":\"absolute\",\"margin\":\"-5px 0px 0 -5px\",\"padding\":\"10px\",\"width\":\"calc(100% - 16px)\",\"height\":\"calc(100% - 17px)\",\"background\":\"#f2f2f2\",\"border\":\"1xp solid gray\",\"z-index\":\"99999\",\"box-sizing\":\"border-box\"}},[_c('div',{staticClass:\"custom-title\",staticStyle:{\"padding\":\"10px\",\"font-size\":\"17px\"}},[_vm._v(_vm._s(_vm.operation)+\" serie de registros\")]),_c('br'),_c('table',{staticStyle:{\"width\":\"100%\"}},[_c('tr',[_vm._m(0),_c('td',{staticStyle:{\"width\":\"50%\",\"text-align\":\"right\",\"align\":\"right\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.hide()}}},[_vm._v(\"Cerrar\")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"Borrar\")]),_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"float\":\"right\",\"text-transform\":\"capitalize\",\"margin-left\":\"20px\"},on:{\"click\":function($event){return _vm.operate()}}},[_vm._v(_vm._s(_vm.operation))])])])]),_c('br'),_c('div',{staticStyle:{\"overflow\":\"auto\",\"height\":\"calc(100% - 120px)\"}},[_vm._l((_vm.parameters),function(param,i){return _c('div',[_c('label',{staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(_vm._s(param.alias))]),_c('Field',{staticStyle:{\"height\":\"24px\",\"width\":\"400px\"},attrs:{\"keyName\":_vm.keyParam(param),\"type\":param.type,\"singlecheck\":true,\"value\":{value:param.series.replaceValue,text:param.text,paramIndex:i}},on:{\"input\":_vm.setState}})],1)}),_c('div',{staticStyle:{\"float\":\"none\",\"clear\":\"both\"}})],2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('ul',[_c('li',[_vm._v(\"- Slo se pueden modificar campos de la tabla principal (los dems no se muestran en este formulario).\")]),_c('li',[_vm._v(\"- Actua sobre la serie de registros seleccionados.\")]),_c('li',[_vm._v(\"- Slo altera el contenido de los campos aqu cumplimentados.\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\"},[_c('textarea',{staticClass:\"form-control\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"resize\":\"none\",\"font-size\":\"11px\"},on:{\"keyup\":function($event){_vm.internalValue.text = $event.target.value;_vm.emitContent()},\"focus\":function($event){return _vm.openContext($event)},\"blur\":function($event){return _vm.closeContext()}}},[_vm._v(_vm._s(_vm.internalValue.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div ref=\"container\" style=\"\">\r\n        <textarea class=\"form-control\" style=\"height:100%; width: 100%; resize: none; font-size:11px\" @keyup=\"internalValue.text = $event.target.value;emitContent()\" @focus=\"openContext($event)\" @blur=\"closeContext()\">{{internalValue.text}}</textarea>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    components: {  },\r\n    props: {\r\n        keyName: String,\r\n        value: Object,\r\n        type: String,\r\n        singlecheck: Boolean\r\n    },\r\n    data() {\r\n        return {\r\n            internalValue: this.value\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        value(val,oldVal){\r\n            this.internalValue = val\r\n        }\r\n    },\r\n    methods: {\r\n        openContext(event) {\r\n            window.contextList.openContext(this.keyName,$(event.target),this.internalValue.value,this.type,this.contextListCheckClick,false,this.singlecheck)\r\n        },\r\n        closeContext(event){\r\n            window.contextList.closeContext()\r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            //console.log(checkedRows)\r\n            var text, value\r\n            if ( checkedRows.map ) { //Es lista desplegable\r\n                const row = checkedRows[0]\r\n                text = JSON.stringify ( checkedRows.map ( row => row[Object.keys(row)[1]] ) )\r\n                value = row[Object.keys(row)[0]]\r\n            } else { //Es valor de texto plano\r\n                text = checkedRows\r\n                value = checkedRows\r\n            }\r\n            this.internalValue.text = text\r\n            this.internalValue.value = value\r\n            this.emitContent()\r\n            //this.emitParameters()\r\n        },\r\n        emitContent() {\r\n            \r\n            this.$emit('input',JSON.cc(this.internalValue))\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./field.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./field.vue?vue&type=template&id=6ce698f8&\"\nimport script from \"./field.vue?vue&type=script&lang=js&\"\nexport * from \"./field.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div ref=\"container\" style=\"display: none; position:absolute; margin: -5px 0px 0 -5px; padding: 10px;width: calc(100% - 16px); height: calc(100% - 17px); background: #f2f2f2; border:1xp solid gray;z-index:99999; box-sizing:border-box\">\r\n        <div class=\"custom-title\" style=\"padding:10px; font-size: 17px\">{{operation}} serie de registros</div>\r\n        <br>\r\n        <table style=\"width:100%;\">\r\n            <tr>\r\n                <td>\r\n                    <ul>\r\n                        <li>- Slo se pueden modificar campos de la tabla principal (los dems no se muestran en este formulario).</li>\r\n                        <li>- Actua sobre la serie de registros seleccionados.</li>\r\n                        <li>- Slo altera el contenido de los campos aqu cumplimentados.</li>\r\n                    </ul>\r\n                </td>\r\n                <td style=\"width:50%;text-align:right;align:right\">\r\n                    <button class=\"btn btn-primary\" style=\"float:right; margin-left:20px;\" @click=\"hide()\">Cerrar</button>\r\n                    <button class=\"btn btn-primary\" style=\"float:right; margin-left:20px;\" @click=\"clear()\">Borrar</button>\r\n                    <button class=\"btn btn-primary\" @click=\"operate()\" style=\"float:right; text-transform: capitalize; margin-left:20px;\">{{operation}}</button>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <br>\r\n        <div style=\"overflow:auto; height: calc(100% - 120px);\">\r\n            <div v-for=\"(param,i) in parameters\">\r\n                <label style=\"font-weight: normal\">{{param.alias}}</label>\r\n                <!--\r\n                <textarea class=\"form-control\" style=\"height:24px; width: 400px; resize: none; font-size:11px\" @blur=\"setState($event, param)\" @focus=\"openContext(i,$event,param)\" v-model=\"param.text\"></textarea>\r\n                -->\r\n                <Field style=\"height:24px; width: 400px;\" @input=\"setState\" :keyName=\"keyParam(param)\" :type=\"param.type\" :singlecheck=\"true\" :value=\"{value:param.series.replaceValue,text:param.text,paramIndex:i}\"></Field>\r\n            </div>\r\n            <div style=\"float:none;clear:both\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Field from './field.vue'\r\n\r\nexport default {\r\n    components: { Field }\r\n    , props: {\r\n        operation: String,\r\n        fields: Array\r\n    }\r\n    , data() {\r\n        return {\r\n            parameters: []//JSON.cc ( this.fields )\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        fields: function (val, oldVal ) { \r\n            // Esto fabrica la variable interna 'parameters' a partir de los campos recibidos desde el listado pero manteniendo los valores introducidos para la sustitucin anterior.\r\n            val.forEach ( par1 => {\r\n                this.clearParam ( par1 )\r\n                const key1 = this.keyParam ( par1 )\r\n                this.parameters.forEach ( par2 => {\r\n                    const key2 = this.keyParam ( par2 )\r\n                    if ( key1 == key2 ) { this.copyParam ( par1, par2 ) }\r\n                })\r\n            })\r\n            this.parameters = JSON.cc ( val )\r\n            //this.parameters.forEach ( param => { param.value = \"\"; param.text = \"\"; delete param.series } )\r\n            //console.log('aa')\r\n        }\r\n    }\r\n    , methods: {\r\n        show () {\r\n            $(this.$refs.container).show()\r\n        },\r\n        hide () {\r\n            $(this.$refs.container).hide()\r\n        },\r\n        clear () {\r\n            this.parameters.forEach ( par => { this.clearParam(par) } )\r\n        },\r\n        operate() {\r\n            if ( ! confirm ('Alterar la serie de registros?') ) return false\r\n            this.$emit('operate', this.parameters)\r\n        },\r\n        clearParam (par) {\r\n            par.value=\"\"\r\n            par.text=\"\" \r\n            par.series={}\r\n            par.series.replaceValue=\"\"\r\n        },\r\n        copyParam (par1,par2) {\r\n            par1.value = par2.value\r\n            par1.text = par2.text\r\n            if ( par1.series && par2.series ) par1.series.replaceValue = par2.series.replaceValue\r\n        },\r\n        keyParam ( par ) {\r\n            return ( par.reference ? par.reference : par.key )\r\n        },\r\n        setState(state) {\r\n            state = JSON.cc(state)\r\n            const field = this.parameters[state.paramIndex]\r\n            field.text = state.text\r\n            if ( ! field.series ) field.series = {}\r\n            field.series.replaceValue = state.value\r\n            //window.contextList.closeContext()\r\n        },\r\n        /*\r\n        openContext(i,event,param) {\r\n            let parVal = param.value\r\n            //if ( typeof parVal == 'object' ) parVal = JSON.stringify ( parVal )\r\n            $(event.target).text(parVal)\r\n            const keyName = this.keyParam ( param )\r\n            , val = $(event.target).text()\r\n            , type = param.data_type\r\n            , singlecheck = true\r\n            this.focusedParamIndex = i\r\n            window.contextList.openContext(keyName,$(event.target),val,type,this.contextListCheckClick,false,singlecheck)\r\n        },\r\n        contextListCheckClick(checkedRows){\r\n            const i = this.focusedParamIndex\r\n            , par = this.parameters[i]\r\n            , literal = checkedRows.map ( row => row[Object.keys(row)[1]] )\r\n            , row = checkedRows[0]\r\n            , id = row[Object.keys(row)[0]]\r\n            console.log(JSON.stringify ( literal ))\r\n            //console.log(par)\r\n            if ( ! par ) return \r\n            par.value = JSON.stringify ( literal )\r\n            par.text = JSON.stringify ( literal )\r\n            par.series.replaceValue = id\r\n            //this.emitParameters()\r\n        },\r\n        */\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Series.vue?vue&type=template&id=2edfd9d9&\"\nimport script from \"./Series.vue?vue&type=script&lang=js&\"\nexport * from \"./Series.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n        <Ly flexbox=1 column=1 grow=1 height=1 data-component=\"Listado\" class=\"qe\" style=\"padding:0\" ref=\"listado\">\r\n            <div style=\"position:absolute;top:0;left:0;width:5px;height:100vh;background:transparent;z-index:1000\" onmouseover=\"window.showForm()\"></div>\r\n            <div style=\"position:absolute;bottom:2px;left:0;width:100vw;height:4px;background:transparent;z-index:1000\" onmouseover=\"window.showQueries()\"></div>\r\n            <Series :operation=\"series.operation\" :fields=\"series_parameters\" ref=\"popup\" @operate=\"operate_serie\"/>\r\n            <div style=\"width:100%;display:block;min-height:31px;padding: 1px 0;background:#f4f4f4;margin:0\">\r\n                <div style=\"float:left;display:block;padding:3px; width: 450px;\" ref=\"toolbar\">\r\n                    <Toolbar :buttons=\"admin?buttons:buttonsUser\" style=\"float:left\"/>\r\n                    <div v-show=\"admin\" style=\"border:0px solid lightgray; border-width: 0px 1px; float:left; margin-top:-8px; width: 150px\">\r\n                        <span style=\"font-size:9px;width:100%;float:left;text-align:center\">Series</span>\r\n                    <select class=\"form-control\" style=\"width:auto; margin-top: -0px; font-size: 11px; float:left;margin-left:10px\" @change=\"series.operation=$event.target.value\"  data-help-code=\"list-toolbar-series-operation\">\r\n                        <option value=\"Sobreescribir\">Sobreescribir</option>\r\n                        <option value=\"Vaciar\">Vaciar</option>\r\n                    </select>\r\n                    <button class=\"btn btn-primary btn-xs\" data-help-code=\"list-toolbar-series-run\" style=\"background:transparent;border:0; float:left; outline: none; box-shadow:none\" @click=\"open_serie($event)\"><svg version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 256 256\" style=\"enable-background:new 0 0 256 256;\" xml:space=\"preserve\">\r\n\t\t\t<path d=\"M0,128C0,57.3,57.3,0,128,0s128,57.3,128,128s-57.3,128-128,128S0,198.7,0,128z M172.8,68.3c1.2-10.2-6.8-19.1-17.1-19.1\r\n\t\t\t\tc-8.7,0-16.1,6.6-17.1,15.2c-0.5,4.6,0.8,9.1,3.6,12.7C151.6,88.9,171,83.6,172.8,68.3z M78.3,207.2c3.3-2.5,3.5-3.7,12.2-18.6\r\n\t\t\t\tc0,0,0-0.1,0.1-0.1c0,0,0,0-0.1,0c4.5-7.7,10.5-18.2,19.1-32.7c0.7,0.4,14.2,6,19.9,9.7c-6.5,4-15.1,9.6-21.3,13.4\r\n\t\t\t\tc-10,6-4.4,18.7,4.1,18c4.1-0.3,4.9-1.2,20.4-8.9c7.3-3.6,14.8-7.3,20.7-10.9c4.9-2.9,10.9-12.3,3.3-18.9L133.1,142\r\n\t\t\t\tc5.9-11.3,11.6-21.7,17.4-31.8c19.8,5.7,40.1-0.7,55.2-21.7c5.7-7.9,1.2-15.2-5.1-15.2c-10.4,0-10.2,17.3-32.7,17.3\r\n\t\t\t\tc-10.7,0-18.5-4.3-28.1-10C118,67.5,90,76.3,75.9,96.1c-8.5,11.8,4.5,22.6,12.8,11c7.8-10.9,17.6-15,29.1-12\r\n\t\t\t\tc-5.2,9.1-52.1,97.7-52.8,99.3C59.9,204.8,71.5,212.3,78.3,207.2z\"></path>\r\n\t\t\t</svg></button>\r\n                    </div>\r\n                </div>\r\n                <div style=\"float:right;display:block;\">{{grid.loadedRecsNumber}}/{{grid.rowCount}}</div>\r\n            </div>\r\n            <div style=\"position:relative;border:0px solid red;max-height:80%;border:0 solid #ddd;border-width:0px 0 1px 0;margin-top:5px;margin-left:-5px;width:calc(100% + 10px)\" class=\"bgqe\" ref=\"qeContainer\">\r\n                <div v-show=\"show.queryEditor\" class=\"\" style=\"height:100%;overflow:auto;padding:5px 0;min-height:47px\">\r\n                    <Queryeditor ref=\"qe\" :params=\"qeParams\" @paramUpdate=\"qeParamUpdate\" :dbID=\"api.getTableConnectionId(ventana.data.table)\"/>\r\n                </div>\r\n            </div>\r\n            <div :style=\"{'width':'100%','min-height':'50px','overflow':'hidden','border':'0px solid red','position':'relative'}\">\r\n            <!--\r\n                <div style=\"float:left;height:15px;width:14px;padding:0px 0 0 1px;border:0px solid red;position:absolute;z-index:2;\"><button data-help-code=\"list-distinct\" title=\"Funciones\" @click=\"set_distinct()\" :style=\"{'background':distinct?'red':''}\">/</button></div>\r\n            -->                \r\n                <div ref=\"computer\" style=\"width: 10000px; height:40px; padding:0 0 0 22px;position:absolute;white-space:nowrap\">\r\n                    <div v-for=\"(col,i) in grid.columns.names\" :ref=\"'computed_'+col.label\" class=\"header-cell\" :key=\"'cont_'+col.label\" :type=\"grid.columns.types[i]\">\r\n\r\n                        <select style=\"display:none\">\r\n                            <option value=\"SUM\">SUMA</option>\r\n                            <option value=\"AVG\">MEDIA</option>\r\n                            <option value=\"DISTINCT\" selected>MEDIA</option>\r\n                        </select>\r\n                <div style=\"display:flex; width: 100%;\">\r\n                        <div style=\"border:0px solid red; position:relative;width:40px;float:left\">\r\n                                        <button @click=\"activateParam(i,$event);\" data-help-code=\"search-parameter-active\" style=\"padding:0;border:0;width:20px;height:15px\">\r\n                    <svg v-show=\"qeParams[i]._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(qeParams[i]._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<path d=\"M162.5,102.5c0-39.977,32.523-72.5,72.5-72.5s72.5,32.523,72.5,72.5V160h30v-57.5C337.5,45.981,291.519,0,235,0\t\tS132.5,45.981,132.5,102.5V160h30V102.5z\"/>\t<rect x=\"77.5\" y=\"190\" width=\"315\" height=\"280\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"!qeParams[i]._active\" :style=\"{height:'12px','margin-bottom':'-1px','margin-left':'-2px',fill:(qeParams[i]._active?'blue':'')}\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 470 470\" style=\"enable-background:new 0 0 470 470;\" xml:space=\"preserve\"><g>\t<rect x=\"137.5\" y=\"190\" width=\"315\" height=\"280\"/>\t<path d=\"M192.5,102.5V160h30v-57.5C222.5,45.981,176.519,0,120,0S17.5,45.981,17.5,102.5V190h30v-87.5\t\tC47.5,62.523,80.023,30,120,30S192.5,62.523,192.5,102.5z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>                </button>\r\n\r\n                 <button @click=\"setNewOrder(i)\" data-help-code=\"search-parameter-order\" style=\"text-transform:;;padding:0;border-left-color:transparent;box-shadow:none; border:0;\">\r\n                    <!--<svg :style=\"{transform:`rotate(${param._orderby=='desc'?'90deg':(param._orderby=='asc'?'-90deg':'0deg')})`,height:'8px','margin-bottom':'0px','margin-left':'-2px'}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\"><path :style=\"{fill:`${param._orderby=='desc'?'blue':(param._orderby=='asc'?'green':'')}`}\" d=\"M36.1 20.2l-29-20C6.8 0 6.4-0.1 6 0.1 5.7 0.3 5.5 0.6 5.5 1v40c0 0.4 0.2 0.7 0.5 0.9 0.1 0.1 0.3 0.1 0.5 0.1 0.2 0 0.4-0.1 0.6-0.2l29-20c0.3-0.2 0.4-0.5 0.4-0.8S36.3 20.4 36.1 20.2z\"/></svg>-->\r\n                    <svg v-show=\"qeParams[i]._orderby!='asc'&&qeParams[i]._orderby!='desc'\" :style=\"{height:'10px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t width=\"427.484px\" height=\"427.484px\" viewBox=\"0 0 427.484 427.484\" style=\"enable-background:new 0 0 427.484 427.484;\"\t xml:space=\"preserve\"><g>\t<path d=\"M405.943,290.254L302.096,425.338c-1.04,1.354-2.66,2.146-4.374,2.146c-1.702,0-3.321-0.798-4.368-2.146L189.511,290.254\t\tc-0.769-0.993-1.144-2.176-1.144-3.357c0-1.152,0.364-2.329,1.108-3.322c1.499-1.975,4.125-2.707,6.434-1.809l68.76,27.166V21.01\t\tc0-3.047,2.477-5.503,5.515-5.503h55.106c3.038,0,5.509,2.456,5.509,5.503v287.922l68.76-27.166\t\tc2.305-0.898,4.93-0.166,6.419,1.809C407.473,285.561,407.461,288.28,405.943,290.254z M238.012,143.913\t\tc0.744-0.993,1.105-2.167,1.105-3.322c0-1.176-0.379-2.367-1.142-3.36L134.125,2.148C133.081,0.792,131.458,0,129.759,0\t\tc-1.714,0-3.328,0.798-4.377,2.148L21.539,137.23c-1.519,1.969-1.525,4.69-0.03,6.683c1.487,1.968,4.114,2.707,6.419,1.803\t\tl68.766-27.163v287.919c0,3.05,2.462,5.509,5.506,5.509h55.109c3.041,0,5.515-2.459,5.515-5.509V118.552l68.763,27.163\t\tC233.886,146.62,236.51,145.88,238.012,143.913z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg> \r\n\r\n                    <svg v-show=\"qeParams[i]._orderby=='asc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 442.91 442.91\" style=\"enable-background:new 0 0 442.91 442.91;\" xml:space=\"preserve\"><g>\t<path d=\"M13.98,196.395c8.45,4.662,19.232,1.457,23.894-6.993l9.907-17.775c0.583,0,1.457,0.291,2.331,0.291h119.469\t\tc0.583,0,1.457,0,2.04,0l8.742,17.483c3.205,6.119,9.324,9.616,15.735,9.616c2.622,0,5.245-0.583,7.867-2.04\t\tc8.742-4.371,11.947-14.861,7.576-23.602L128.495,9.616c-2.914-5.828-8.742-9.324-15.152-9.616c-6.411,0-12.53,3.497-15.735,9.033\t\tl-90.33,163.76C2.616,181.243,5.53,191.733,13.98,196.395z M112.178,54.781l41.668,82.171H66.721L112.178,54.781z M25.635,413.188\t\tl120.052-124.714H38.165c-9.616,0-17.483-7.867-17.483-17.483c0-9.616,7.867-17.483,17.483-17.483h148.608\t\tc6.993,0,13.404,4.079,16.026,10.781c2.622,6.411,1.457,13.987-3.497,18.94L79.251,407.943h107.522\t\tc9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483H38.165c-6.993,0-13.404-4.079-16.026-10.781\t\tC19.225,425.718,20.682,418.433,25.635,413.188z M294.586,377.639V84.502c0-9.616,7.867-17.483,17.483-17.483\t\ts17.483,7.867,17.483,17.483V327.52l77.218-97.615c6.119-7.576,16.9-8.742,24.477-2.914c7.576,6.119,8.742,16.901,2.914,24.477\t\tL325.765,388.42c-3.497,4.371-8.45,6.702-13.695,6.702c-2.04,0-3.788-0.291-5.828-0.874\t\tC299.249,391.625,294.586,385.215,294.586,377.639z\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n\r\n                    <svg v-show=\"qeParams[i]._orderby=='desc'\" :style=\"{fill:'blue',height:'11px','margin-bottom':'0px','margin-left':'-2px'}\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 440.87 440.87\" style=\"enable-background:new 0 0 440.87 440.87;\" xml:space=\"preserve\"><g>\t<path d=\"M19.605,17.483C19.605,7.867,27.473,0,37.089,0h148.608c6.993,0,13.404,4.079,16.026,10.781\t\tc2.622,6.411,1.457,13.987-3.497,18.94L78.174,154.436h107.522c9.616,0,17.483,7.867,17.483,17.483s-7.867,17.483-17.483,17.483\t\tH37.089c-6.993,0-13.404-4.079-16.026-10.781c-2.622-6.411-1.457-13.987,3.497-18.94L144.611,34.967H37.089\t\tC27.473,34.967,19.605,27.099,19.605,17.483z M6.201,414.645l90.33-163.76c3.205-5.536,9.324-9.033,15.735-9.033\t\tc6.411,0,12.238,3.788,15.152,9.616l83.046,163.76c4.371,8.742,0.874,19.232-7.576,23.602c-2.622,1.166-5.245,2.04-7.867,2.04\t\tc-6.411,0-12.53-3.497-15.735-9.616l-8.742-17.483c-0.583,0-1.457,0-2.04,0H48.744c-0.874,0-1.457,0-2.331-0.291l-9.907,17.775\t\tc-4.662,8.45-15.444,11.656-23.894,6.993C4.453,433.585,1.539,423.095,6.201,414.645z M65.645,378.804h86.834l-41.668-82.171\t\tL65.645,378.804z M305.165,385.506c1.748,0.583,3.788,0.874,5.828,0.874c5.245,0,10.199-2.331,13.695-6.702l108.396-136.952\t\tc6.119-7.576,4.662-18.649-2.914-24.477c-7.576-6.119-18.649-4.662-24.477,2.914l-77.218,97.615V75.761\t\tc0-9.616-7.867-17.483-17.483-17.483c-9.616,0-17.483,7.867-17.483,17.483v293.136C293.51,376.473,298.172,382.884,305.165,385.506\t\tz\"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>               \r\n                </button>\r\n\r\n                </div>\r\n\r\n\r\n            <div style=\"position:relative;border:1px solid #ddd;padding:1px 4px 0 4px; white-space: nowrap;margin-top:-1px\">\r\n                <div style=\"position:absolute; cursor:pointer; border:0px solid blue; top: 2px;z-index:1000\" class=\"button-operation\">\r\n                        <svg title=\"SUMA\" v-show=\"grid.columns.types[i]=='number'\" class=\"hide\" @click=\"clickFunc('SUM',$event)\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  viewBox=\"0 0 512.002 512.002\" style=\"color:red;zoom:0.6;float:left;margin-top:-2px\" xml:space=\"preserve\"><g>\t<g>\t\t<path style=\"background:blue\" d=\"M437.108,74.898c-99.869-99.858-262.345-99.858-362.214,0c-99.858,99.858-99.858,262.34,0,362.203\t\t\tc49.934,49.929,115.521,74.896,181.107,74.896s131.173-24.967,181.107-74.896C536.966,337.243,536.966,174.762,437.108,74.898z\t\t\t M373.067,166.895c0,9.229-7.484,16.707-16.707,16.707s-16.707-7.478-16.707-16.707v-16.826H191.01l77.923,95.294\t\t\tc5.036,6.15,5.036,14.975,0,21.126l-77.923,95.204h148.643v-16.588c0-9.229,7.484-16.707,16.707-16.707\t\t\tc9.223,0,16.707,7.478,16.707,16.707v33.414c0,9.229-7.601,16.588-16.824,16.588H155.758c-6.45,0-12.334-3.66-15.098-9.491\t\t\tc-2.762-5.835-1.926-12.713,2.164-17.705l91.585-111.926L142.825,144.06c-4.09-4.992-4.927-11.959-2.164-17.795\t\t\tc2.762-5.83,8.648-9.61,15.098-9.61h200.485c9.223,0,16.824,7.597,16.824,16.826V166.895z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                        <svg title=\"MEDIA\" v-show=\"grid.columns.types[i]=='number'\" @click=\"clickFunc('AVG',$event)\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;zoom:0.6;float:left;margin-top:-2px\" class=\"hide\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M155.804,205.902c-27.625,0-50.098,22.473-50.098,50.098s22.473,50.098,50.098,50.098\t\t\tc28.788,0,52.979-23.076,77.68-50.098C208.782,228.978,184.593,205.902,155.804,205.902z\"/>\t</g></g><g>\t<g>\t\t<path d=\"M356.196,205.902c-28.788,0-52.979,23.076-77.68,50.098c24.7,27.022,48.891,50.098,77.68,50.098\t\t\tc27.625,0,50.098-22.473,50.098-50.098S383.821,205.902,356.196,205.902z\"/>\t</g></g><g>\t<g>\t\t<path d=\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M356.196,339.496\t\t\tc-41.465,0-71.896-27.919-100.196-58.632c-28.3,30.713-58.73,58.632-100.196,58.632c-46.042,0-83.496-37.454-83.496-83.496\t\t\tc0-46.042,37.454-83.496,83.496-83.496c41.465,0,71.896,27.919,100.196,58.632c28.3-30.713,58.73-58.632,100.196-58.632\t\t\tc46.042,0,83.496,37.454,83.496,83.496C439.692,302.042,402.238,339.496,356.196,339.496z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                        <svg title=\"Nmero de valores distintos\" @click=\"clickFunc('DISTINCT',$event)\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;;zoom:0.6;float:left;margin-top:-2px\" class=\"\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M389.594,317.231H244.592\r\n\t\t\tl-40.125,90.281c-2.772,6.219-8.872,9.92-15.275,9.92c-2.261,0-4.567-0.468-6.773-1.446c-8.425-3.745-12.221-13.612-8.48-22.043\r\n\t\t\tl34.094-76.712h-85.627c-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h100.471l29.688-66.797H122.406v0\r\n\t\t\tc-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h145.002l40.125-90.281\r\n\t\t\tc3.751-8.42,13.579-12.236,22.049-8.474c8.425,3.745,12.221,13.612,8.48,22.043l-34.094,76.712h85.627\r\n\t\t\tc9.219,0,16.699,7.475,16.699,16.699s-7.48,16.699-16.699,16.699H289.124l-29.688,66.797h130.159\r\n\t\t\tc9.219,0,16.699,7.475,16.699,16.699C406.294,309.756,398.813,317.231,389.594,317.231z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>\r\n                        <div style=\"float:none;clear:both\"></div>\r\n                    </div>\r\n                        <span style=\"top:-1px;float:left;padding-left:17px;position:relative\"></span>\r\n                        <div style=\"float:none;clear:both\"></div>\r\n            </div>\r\n</div>\r\n\r\n                        <div :class=\"{'search-field':true,'search-field-inactive':qeParams[i]?!qeParams[i]._active:false}\" contentEditable=\"true\" @keydown=\"keyDownSearchField($event,i)\" @focus=\"focusSearchField($event,i)\" @blur=\"focusSearchField($event,i,true)\" >{{getParamSearchString(i)}}</div>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n            <Ly grow=1 style=\"background:;position:relative;padding-top:0px\">\r\n                <button v-show=\"admin\" @click=\"show.queryEditor=!show.queryEditor\" style=\"position:absolute;width:18px;top:2px;right:0px;background:;padding: 3px;z-index:1\">\r\n                     <div :class=\"{'arrow-up':show.queryEditor,'arrow-down':!show.queryEditor}\"></div>\r\n                </button>\r\n                <SimpleTable style=\"background:white\" height=\"100%\" :hiddenKeys=\"['PK_ID']\" :rows=\"grid.rows\" overflow=\"scroll\" ref=\"Tabla\" v-on:orderBy=\"orderBy\" v-on:rowClick=\"rowClick\" v-on:checkClick=\"checkClick\" v-on:scrollHeaders=\"scrollHeaders\" v-on:resizeHeaders=\"resizeHeaders\" :checkable=\"true\" :checkedRows=\"checkedIndexes\" v-on:headerClick=\"headerClick\" :selectable=\"false\"/>\r\n            </Ly>\r\n        </Ly>\r\n</template>\r\n\r\n<script>\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport Ly from './layout.vue'\r\nimport ItemEditor from './item-editor.vue'\r\nimport Queryeditor  from './query-editor.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nimport Series from './Series.vue'\r\n\r\nexport default {\r\n    components: { ItemEditor, SimpleTable, Queryeditor, Toolbar, Ly, Series },\r\n    props: {\r\n        multiline: String,\r\n        ventana: Object,\r\n        filter: Object,\r\n        overflow: Boolean,\r\n        formSetValues: Function,\r\n        keysSettings: Object\r\n    },\r\n    data: function () {\r\n        return {\r\n            series: {\r\n                operation: \"sobreescribir\"\r\n            },\r\n            checkedIndexes: [],\r\n            admin: this.api.parsedSearch.admin,\r\n            show: {\r\n                queryEditor: true\r\n            },\r\n            buttons: [\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 44 44\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 44 44\"><g><circle cx=\"20\" cy=\"20\" r=\"7\"></circle><path d=\"m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm12.7,33.3l-1.4,1.4c-0.4,0.4-1,0.4-1.4,0l-5.4-5.4c-0.2-0.2-0.4-0.2-0.6-0.1-1.7,1.1-3.7,1.7-5.9,1.7-6.1,0-11-4.9-11-11s4.9-11 11-11 11,4.9 11,11c0,2.2-0.6,4.2-1.7,5.9-0.1,0.2-0.1,0.5 0.1,0.6l5.4,5.4c0.3,0.5 0.3,1.1-0.1,1.5z\"></path></g></svg>`,\r\n                    onClick: ()=>this.loadPage()\r\n                    , helpCode: \"list-toolbar-loadpage\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-clear\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330.5 330.5\"><path d=\"M178.3 136.6l16.4 16.4 69.7-69.7c2.3-2.3 3.4-5.2 3.4-8.2 0-3-1.1-5.9-3.4-8.2 -4.5-4.5-11.8-4.5-16.4 0L178.3 136.6zM172.3 140.2l-0.7-0.7 -12.4 12.4 -7.7 7.7 20.4 20.4 8.3-8.3 11.8-11.8 -0.9-0.9 -1.2-1.2 -16.4-16.4L172.3 140.2zM66.8 197.2c-0.1 0-0.2 0.1-0.3 0.1 -0.5 0.1-0.9 0.3-1.3 0.6l-0.2 0.1L65 198c-0.5 0.3-0.8 0.7-1.2 1.2 -0.3 0.5-0.6 1-0.8 1.6 -0.5 1.7-0.3 3.7 1.3 4.9 3.8 3 7.7 6 11.6 8.9l0.7-0.3 1.7-0.7L80 213l14.1-5.4 20.6-7.9 -14.3 16.6 -8 9.2 -1.1 1.3 -1.1 1.3 -1.1 1.3c0.8 0.3 1.6 0.4 2.5 0.2 0.5-0.1 1-0.3 1.6-0.5 0.1 0 0.1-0.1 0.2-0.1 0.6-0.3 1.1-0.5 1.7-0.7l3.3 3.3c0 0.8-0.1 1.5-0.1 2.3 -0.1 0.7-0.1 1.5-0.2 2.2 -0.1 1.1-0.3 2.2-0.6 3.3 -0.6 2.5 0.8 5.7 3.5 6.2 4.4 0.9 8 2.4 11.1 4.5 3.5 2.4 6.4 5.4 9.1 9.1 1.3 1.8 2.6 3.6 3.9 5.6 1 1.6 2.6 2.3 4.1 2.3 0.7 0 1.4-0.1 2-0.4 2.4-0.9 4.2-3.4 3.1-6.2l32.3-75.5 -20.2-20.2L66.8 197.2zM165.2 330.5L165.2 330.5C74 330.5 0 256.5 0 165.2v0C0 74 74 0 165.2 0h0c91.3 0 165.2 74 165.2 165.2v0C330.5 256.5 256.5 330.5 165.2 330.5z\"/></svg>`,\r\n                    onClick: function () { \r\n                        if ( ! confirm ( 'Borrar los parmetros de filtrado?' ) ) return false\r\n                        this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:[]} )\r\n                        this.$refs.qe.clear() \r\n                    }.bind(this)\r\n                    //, title: \"Borrar los parmetros de filtrado\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-excel\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path d=\"M371.5 128h-67.6L256 198.5 208.1 128h-67.6l81.1 121.2L130.1 384h131.1v-45.8h-30.3l25.1-37.5 55.7 83.3h70.2l-91.5-134.8L371.5 128zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0 512 114.6 512 256z\"/></svg>`,\r\n                    onClick: function () { this.downloadListAsFile() }.bind(this)\r\n                    //, title: \"Obtener un Excel con la totalidad del listado.\"\r\n                },\r\n                /*\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 44 44\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" enable-background=\"new 0 0 44 44\" style=\"transform:rotate(180deg)\"><g><circle cx=\"20\" cy=\"20\" r=\"7\"></circle><path d=\"m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm12.7,33.3l-1.4,1.4c-0.4,0.4-1,0.4-1.4,0l-5.4-5.4c-0.2-0.2-0.4-0.2-0.6-0.1-1.7,1.1-3.7,1.7-5.9,1.7-6.1,0-11-4.9-11-11s4.9-11 11-11 11,4.9 11,11c0,2.2-0.6,4.2-1.7,5.9-0.1,0.2-0.1,0.5 0.1,0.6l5.4,5.4c0.3,0.5 0.3,1.1-0.1,1.5z\"></path></g></svg>`,\r\n                    onClick: ()=>this.loadPage(1)\r\n                    , helpCode: \"list-toolbar-loadall\"\r\n                    //, title: \"Cargar la totalidad de los registros\"\r\n                },\r\n                */\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" style=\"transform:rotate(180deg)\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"list-toolbar-loadvista\",\r\n                    onClick: function(){\r\n                        const query = this.$store.state.selectedQuery\r\n                        , qeParams = JSON.cc(query.queryEditor.params)\r\n                        let actualQeParams = this.$store.getters.qeParams(this.ventana.index)\r\n                        if ( ! actualQeParams ) actualQeParams = []\r\n                        //this.$refs.qe.setQuery(qeParams)\r\n                        this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:actualQeParams.concat(qeParams)} )\r\n                    }.bind(this)\r\n                    //, title: \"Cargar Vista\"\r\n                },\r\n                {\r\n                    label: `<svg data-help-code=\"list-toolbar-savevista\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    //title: \"Guardar Vista\",\r\n                    onClick: function() { \r\n                        if ( ! confirm ( 'Crear una vista con este filtro?' ) ) return false\r\n                        const table = this.ventana.data.table\r\n                        , queryEditor = JSON.cc(this.$refs.qe.settings)//JSON.cc(this.queryEditor)\r\n                        , orderby = JSON.cc(this.orderby)\r\n                        , tablesRelation = this.tablesRelation\r\n                        , joinSyntax = tablesRelation.joinSyntax\r\n                        , uniqueid = new Date().valueOf().toString()\r\n                        , vista = { table, joinSyntax, queryEditor, orderby }\r\n                        this.api.getIdentitiesForTableSet ( table , function( identities ) {\r\n                            vista.identities = identities\r\n                            vista.whereSql = this.grid.whereSql\r\n                            //vista.whereText = this.$refs.qe.queryEditor.getWhereText()\r\n                            //vista.name = this.$refs.qe.settings.whereText\r\n                            vista.name = uniqueid\r\n                            vista.customName = ''//uniqueid\r\n                            vista.tableNames = tablesRelation.names\r\n                            vista.descripcion = \"\"\r\n                            vista.fecha = this.utils.getSpDate(new Date())\r\n                            vista.tipo = \"Normal\"\r\n                            this.$store.commit ( 'Query_add' , {query:vista,cb:(recordset)=>{console.log(recordset);window.circus.loadQueries();window.circus.showHelpBox ( {title:'Vista creada',text:'Se ha creado una nueva vista con el filtro actual.'}, true )}} )\r\n                            \r\n                            //this.$store.state.queries.push (vista)\r\n                        }.bind(this))\r\n                     }.bind(this)\r\n                },\r\n                {\r\n                    label: `<svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M256,0C114.844,0,0,114.839,0,256s114.844,256,256,256s256-114.839,256-256S397.156,0,256,0z M146.574,186.42\t\t\tl139.161-92.308c7.654-5.093,18.025-3.017,23.146,4.686c5.099,7.686,3,18.047-4.686,23.146l-118.177,78.392l118.177,78.392\t\t\tc7.686,5.099,9.785,15.46,4.686,23.146c-3.219,4.848-8.523,7.469-13.927,7.469c-3.175,0-6.381-0.897-9.219-2.783l-139.161-92.308\t\t\tc-4.664-3.093-7.469-8.317-7.469-13.916C139.105,194.737,141.911,189.512,146.574,186.42z M356.196,372.895H155.804\t\t\tc-9.219,0-16.699-7.475-16.699-16.699c0-9.225,7.48-16.699,16.699-16.699h200.391c9.219,0,16.699,7.475,16.699,16.699\t\t\tC372.895,365.42,365.415,372.895,356.196,372.895z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`\r\n                    //, title: \"Cargar los parmetros de filtrado en el formulario\"\r\n                    , onClick: function() { \r\n                        const ob =  {}\r\n                        this.$refs.qe.parameters.data.forEach ( par => {\r\n                            const keyName = par.reference\r\n                            , keyValue = par.value\r\n                            ob[keyName] = keyValue\r\n                        })\r\n                        //log(ob)\r\n                        this.formSetValues (ob)\r\n                     }.bind(this)\r\n                    ,helpCode: \"list-toolbar-sendtoform\"\r\n                }\r\n            ],\r\n            grid: {\r\n                rows: [],\r\n                rowCount: 0,\r\n                page: 0,\r\n                recXPag: 100,\r\n                loadedRecsNumber: 0,\r\n                //rowIds: [],\r\n                whereSql: \"\",\r\n                selectSql: \"\",\r\n                columns: {\r\n                    names: []\r\n                    , widths: []\r\n                    , types: []\r\n                }\r\n            },\r\n            queryEditor: {\r\n                params: {}//this.injectedParams\r\n            },\r\n            orderby: {},\r\n            //showComputer: false\r\n            \r\n        }\r\n    },\r\n    watch: {\r\n        filter: function (object, oldVal ) {\r\n            //convierto objeto con campos del formulario a array para el QE.\r\n            //console.log(object)\r\n            const qeParams = Object.keys(object).map ( key => ( Object.assign ( {}, object[key], { \r\n                key: this.api.getListColumnSql ( key )\r\n                , alias: this.shortAlias ( this.api.getLiteral ( key ) )\r\n                , reference: key\r\n                , operator: \"AND\"\r\n                , leftText: \"\"\r\n                , rightText: \"\"\r\n                , _active: (object[key].value === '%' ? false : true)\r\n                , _inlist: true\r\n                , data_type: this.utils.getBasicDataType(object[key].data_type) \r\n                , _extended : false\r\n                , _extendKey : false\r\n                , _orderby: '-'\r\n            } ) ))\r\n            qeParams[0].text = \"\"\r\n            qeParams[0].value = \"\"\r\n            let actualQeParams = this.$store.getters.qeParams(this.ventana.index)\r\n            if ( ! actualQeParams ) actualQeParams = []\r\n            //const newParams = actualQeParams.concat(qeParams)\r\n            const newParams = qeParams.concat(actualQeParams)\r\n            this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:newParams} )\r\n        }\r\n    },\r\n    computed : {\r\n        series_parameters() {\r\n            const mainTable = this.tablesRelation.joinSyntax.split(\" INNER JOIN \")[0]\r\n            , series_parameters = JSON.cc ( this.qeParams.filter(param => {\r\n                const paramKey = param.reference ? param.reference : param.key\r\n                return paramKey.toLowerCase().indexOf(mainTable.toLowerCase()) != -1 \r\n            }))\r\n            //series_parameters.forEach ( param => { param.value = \"\"; param.text = \"\" } )\r\n            return series_parameters\r\n        },\r\n        buttonsUser() {\r\n            const buttonsUser = []\r\n            this.buttons.forEach ( (button,i) => {\r\n                if ( i == 0 || i == 2 ) buttonsUser.push ( button )\r\n            })\r\n            return buttonsUser\r\n        },\r\n        distinct: {\r\n            get(){\r\n                const distinct = this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n                return distinct //? distinct : false\r\n            },\r\n           set(v){\r\n                this.$store.commit ( 'set_distinct' , {indexVentana:this.ventana.index, value: v } )\r\n                //this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct = v\r\n            }\r\n        },\r\n        qeParams: {\r\n            get(){\r\n                const params = this.$store.state.ventanas.data[this.ventana.index].queryeditor.parameters\r\n                return params\r\n            },\r\n            set(newParams){\r\n                this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:newParams} )\r\n            }\r\n        },\r\n         columns () {\r\n            const table = this.ventana.data.table\r\n            , fields = this.ventana.data.fields\r\n            , identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            , distinct = this.distinct // this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            , columns = distinct ? ['1 as PK_ID'] : [table+'.'+idField+' as PK_ID']\r\n            const qeColumns = this.$refs.qe.settings.columns\r\n            qeColumns.forEach ( key => {\r\n                if ( columns.indexOf(key.toLowerCase()) == -1 ) \r\n                \r\n                    columns.push ( key  )\r\n            })\r\n            return _.uniq(columns)\r\n        },\r\n        pkName(){\r\n            const tarr = this.ventana.data.table.split(\".\")\r\n            const table = tarr.length > 1 ? tarr[2] : tarr[0]\r\n            const fields = this.ventana.data.fields\r\n            , pkfield = fields.filter ( field => ( field.is_identity && field.table_name.toLowerCase() == table.toLowerCase() ) )\r\n            if ( !pkfield[0] ) {\r\n                console.error ( `La tabla ${table} no tiene clave primaria definida.` )\r\n            }\r\n            return pkfield[0].column_name\r\n        },\r\n        tablesRelation(){\r\n            return this.api.getTablesRelation ( this.ventana.data.table )\r\n        }\r\n    },\r\n    updated () {\r\n    },\r\n    mounted: function () {\r\n        //console.log(\"distinct\"+this.distinct)\r\n        //this.qeHasChanged.changed = false\r\n        return\r\n        const $div = $(this.$refs.qeContainer)\r\n        $div.resizable({handles: \"s\"})\r\n        $div.css({height:'100px'})\r\n     },\r\n    methods: {\r\n        activateParam (i) {\r\n            this.$refs.qe.activateParam(this.$refs.qe.parameters.data[i])\r\n        },\r\n        setNewOrder (i) {\r\n            this.$refs.qe.setNewOrder(i)\r\n        },\r\n        shortAlias (alias) {\r\n            const aliasArr = alias.split(\".\") \r\n            return aliasArr[aliasArr.length-1]\r\n        },\r\n        clickFunc ( func, event ) {\r\n            console.log('target')\r\n            event.stopPropagation()\r\n            const target = event.target.tagName == \"path\" ? event.target.closest('svg') : event.target\r\n            const $slot = $(target).closest('div.header-cell')\r\n            if ( $slot.attr('type') != \"number\" ) return false\r\n            switch ( func ) {\r\n                case 'SUM':\r\n                    func = \"AVG\"\r\n                    break;\r\n                case 'AVG':\r\n                    func = \"DISTINCT\"\r\n                    break;\r\n                case 'DISTINCT':\r\n                    func = \"SUM\"\r\n                    break;\r\n            }\r\n            //func = func == \"SUM\" ? \"AVG\" : \"SUM\"\r\n            $slot.find('select').val(func)\r\n            if ( func == \"SUM\" )\r\n                $slot.find('.button-operation svg').addClass('hide').eq(0).removeClass('hide')\r\n            if ( func == \"AVG\" )\r\n                $slot.find('.button-operation svg').addClass('hide').eq(1).removeClass('hide')\r\n            if ( func == \"DISTINCT\" )\r\n                $slot.find('.button-operation svg').addClass('hide').eq(2).removeClass('hide')\r\n            //$(target).removeClass('hide')\r\n            \r\n        },\r\n        open_serie ( event ) {\r\n            this.$refs.popup.show()\r\n        },\r\n        operate_serie ( params ) {\r\n            console.log(this.series.operation)\r\n            console.log(JSON.cc(params))\r\n            if ( ! this.checkedIds || ! this.checkedIds.length ) {\r\n                window.log ( 'Operacin cancelada. No hay ningn registro seleccionado.', 'darkorange' )\r\n                return false\r\n            }\r\n            const mainTable = this.tablesRelation.joinSyntax.split(\" INNER JOIN \")[0]\r\n            , assigns = params.filter ( param  => ( param.series && param.series.replaceValue != \"\" ) ).map ( param => {\r\n                const name = param.reference ? param.reference : param.key\r\n                , value = param.series.replaceValue\r\n                if ( this.series.operation.toLowerCase() == \"sobreescribir\" ) {\r\n                    return name + \" = '\" + value + \"'\"\r\n                } else {\r\n                    return name + \" = NULL\"\r\n                }\r\n            })\r\n            , sql = \"UPDATE \" + mainTable + \" SET \" + assigns\r\n            , identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            if ( ! assigns.length ) {\r\n                window.log ( 'Operacin cancelada. No ha rellenado ningn campo.', 'darkorange' )\r\n                return false\r\n            }\r\n            const updates = this.checkedIds.map ( id => `${sql} WHERE ${idField} = ${id}` )\r\n            var sqlSyntax = \"\"\r\n            updates.forEach ( update => sqlSyntax += update + ' ')\r\n            console.log(sqlSyntax)\r\n            this.api.$dbq ({\r\n                sqlSyntax\r\n                , dbID: this.api.getTableConnectionId(this.ventana.data.table)\r\n            }, data => {\r\n                window.log ( updates.length + ' registros alterados.', 'green' )\r\n            }, true\r\n            , true)\r\n            //this.api.$serie_overwrite ( this.ventana.)\r\n        },\r\n        scrollHeaders ( leftScroll ) {\r\n            $(this.$refs.computer).css({'margin-left':leftScroll*-1})\r\n        },\r\n        resizeHeaders ( widths ) {\r\n            const $cols = $(this.$refs.computer).find('div.header-cell')\r\n            this.grid.columns.widths=widths\r\n            $cols.each ( function(i) {\r\n                $(this).css({'max-width':(widths[i+1]+12)+'px','min-width':(widths[i+1]+12)+'px','width':(widths[i+1]+12)+'px'})\r\n            })\r\n        },\r\n        qeParamUpdate (params) {\r\n            this.$store.commit ( 'Ventana_injectQE' , {indexVentana:this.ventana.index,qeParams:params} )\r\n\r\n        },\r\n        tabulator ( jsonRecordset ) {\r\n           if ( !jsonRecordset.length ) return \"\"\r\n           jsonRecordset.forEach ( row => delete row[Object.keys(row)[0]] )\r\n           const $tabla = $('<table/>')\r\n           , cellStyle = {border:\"1px solid #eee\",padding:\"5px\"}\r\n           , firstRecord = jsonRecordset[0]\r\n           //Creo encabezados\r\n           , $headRow = $('<tr/>')\r\n           $tabla.append($headRow)\r\n           Object.keys(firstRecord).forEach ( key => {\r\n               const $cell = $('<td/>').css(cellStyle)\r\n               $headRow.append($cell.text(key))\r\n           })\r\n           jsonRecordset.forEach ( record => {\r\n               const $row = $('<tr/>')\r\n               $tabla.append($row)\r\n               Object.keys(record).forEach ( key => {\r\n                   const $cell = $('<td/>').css(cellStyle)\r\n                   $row.append($cell.text(record[key]))\r\n               })\r\n               \r\n           })\r\n           return $tabla.wrap('<div/>').parent().html()\r\n        }\r\n        , downloadListAsFile() {\r\n            /*\r\n            const tabla = JSON.cc(this.grid.rows)\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            , whereSyntax = qeSyntax.length ? qeSyntax : ''\r\n            , sqlParams = {\r\n                columns: this.$refs.qe.settings.columns\r\n                , schemaSyntax: this.tablesRelation.joinSyntax\r\n                , whereSyntax\r\n                , orderbyColumns: this.$refs.qe.settings.orderBy != \"\" ? this.$refs.qe.settings.orderBy:this.pkName\r\n            }\r\n            , types = {}\r\n            console.log(sqlParams)\r\n            JSON.cc(this.$refs.qe.settings.params).forEach ( param => {\r\n                types[param.reference] = param.data_type\r\n            })\r\n            //console.log(types)\r\n            this.api.downloadExcel ( sqlParams, types )\r\n            return\r\n            */\r\n            this.loadPage(2,()=>{\r\n                var blob = new Blob([\"\\ufeff\",this.tabulator(JSON.cc(this.grid.rows))], { type: 'text/plain' })\r\n                , url = window.URL.createObjectURL(blob)\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style = \"display: none\";\r\n                a.href = url;\r\n                a.download = 'Listado.xls';\r\n                a.click();\r\n            })\r\n        },\r\n        containerResize () {\r\n            this.$refs.Tabla.resizeHeaders()\r\n        },\r\n        headerClick ( {key, target, index } ) {\r\n            const reference = this.qeParams[index].reference\r\n            console.log(reference)\r\n            window.contextDialog({key, target, reference })\r\n        },\r\n        checkClick(checklist){\r\n            //console.log(checklist)\r\n            const checked_pk_id = []\r\n            /*\r\n            this.grid.rows.forEach ( ( row, i ) => {\r\n                if ( $.inArray ( i, checklist ) != -1 ) checked_pk_id.push ( row.PK_ID )\r\n            })\r\n            */\r\n            checklist.forEach ( ( index ) => {\r\n                checked_pk_id.push ( this.grid.rows[index].PK_ID )\r\n            })\r\n            //console.log(checked_pk_id)\r\n            //this.$store.commit ( 'checked_assign', { indexVentana: this.ventana.index, ids: checked_pk_id } )\r\n            this.checkedIds = checked_pk_id\r\n            this.checkedIndexes = checklist\r\n            //this.$store.commit ( 'log', checklist.length + ' registros marcados.' )\r\n        },\r\n        rowClick(row){\r\n            return\r\n            const pk_id = row.PK_ID\r\n            const table = this.ventana.data.table\r\n            , identities = this.ventana.data.identities\r\n            , idField = identities[0]\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            //, fields = this.tablesRelation.names.map ( tblName => `${tblName}.*`)\r\n            , asArr = []\r\n            , fields = Object.keys(this.keysSettings).map ( fieldName => {\r\n                //Esto es para cargar el texto en lugar de el ID en el caso de lista dinmica. Habr que quitarlo cuando el programa pretenda escribir o implemente inline-search.\r\n                const columnSql = this.api.getListColumnSql ( fieldName )\r\n                if ( fieldName.length > 128 ) { //SQL Server no acepta alias de ms de 128 caracteres. Tengo que generar uno en ese kso. \r\n                    const uniqueid = this.uniqueid()\r\n                    asArr.push ({\r\n                        fieldName\r\n                        , uniqueid\r\n                    })\r\n                    fieldName = uniqueid\r\n                }\r\n                return `(${columnSql}) AS [${fieldName}]`\r\n            })\r\n            , sql = `sql=SELECT ${fields} FROM ${joinSyntax} WHERE ${idField}=${pk_id}` \r\n            //console.log(sql)\r\n            /*\r\n            $get ( sql, table, data => {\r\n                this.$emit('rowClick',data[0])\r\n            })\r\n            */\r\n            this.api.$dbq ({\r\n                operation: 'select'\r\n                , columns: fields\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: `${table}.${idField}=${pk_id}`\r\n                , dbID: this.api.getTableConnectionId(table)\r\n            }, data => {\r\n                const row = data[0]\r\n                asArr.forEach ( asid => {\r\n                    row[asid.fieldName] = row[asid.uniqueid]\r\n                })\r\n                //Object.keys(row).for\r\n                this.$emit('rowClick',row)\r\n            })\r\n        },\r\n        paramsToForm ( ) {\r\n            //log(this.queryEditor.params)\r\n        },\r\n        orderBy ( orderby ) {\r\n            this.orderby = JSON.cc(orderby)\r\n            console.log(JSON.cc(orderby))\r\n            //Object.keys( orderby )\r\n        },\r\n        qeHasChanged () {\r\n            const hasChanged = ( this.$refs.qe.settings != this.grid.qeSettings ) || ( this.qeHasChanged.changed )\r\n            this.qeHasChanged.changed = false\r\n            //this.distinct = this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            //console.log('QE has Changed: '+hasChanged)\r\n            return hasChanged\r\n        },\r\n        /*\r\n        clickShowComputer(event) {\r\n            //event.stopPropagation();\r\n            console.log(this.showComputer)\r\n            this.showComputer=!this.showComputer;\r\n        },\r\n        */\r\n        telon(show) {\r\n            const buttons = $(this.$refs.toolbar).find('button')\r\n            , butSel = buttons.eq(1).add(buttons.eq(2)).add(buttons.eq(6))\r\n            if ( show ) {\r\n                butSel.prop('disabled',true).css({cursor:'progress','text-decoration':'line-through'})\r\n                $(this.$refs.listado).css({cursor:'progress'})\r\n                $('body').css({cursor:'progress'})\r\n            } else {\r\n                //butSel.each ( () => {$(this).text('this.value');console.log(this)} )\r\n                butSel.prop('disabled',false).css({cursor:'default','text-decoration':'none'})\r\n                $(this.$refs.listado).css({cursor:'default'})\r\n                $('body').css({cursor:'default'})\r\n            }\r\n            //$('body').css({cursor:'pointer'})\r\n        },\r\n        compute ( params ) {\r\n            // COMPUTO\r\n            // OBTENGO LOS NOMBRES DE LAS COLUMNAS\r\n\r\n            this.grid.columns.names = this.columns.map ( column => {\r\n                const cSplit = column.toLowerCase().split ( \" as \" )\r\n                , sql = cSplit[0]\r\n                , label = cSplit.length > 1 ? cSplit[1] : cSplit[0]\r\n                , qeParams = JSON.cc(this.qeParams)\r\n\r\n                // BUSCO EN LOS PARMETROS DEL QUERY EDITOR LA REFERENCIA (EL NOMBRE ORIGINAL DEL CAMPO) CORRESPONDIENTE AL ALIAS PARA UTILIZARLA EN LUGAR DE LA POTENCIAL SUBQUERY DE LOS CAMPOS DE LISTAS, YA QUE NO SE PUEDE USAR FUNCIONES DE AGREGADO SOBRE SUBQUERYS.\r\n                let reference\r\n                Object.keys(qeParams).forEach ( key => {\r\n                    const alias = qeParams[key].alias\r\n                    if ( '['+alias.toLowerCase()+']' == label.toLowerCase() ) reference = qeParams[key].reference\r\n                })\r\n                return { sql:reference, label }\r\n            })\r\n            this.grid.columns.names.splice(0,1) // quito pk_id (la primera columna que nunca se ve)\r\n            //console.log(JSON.cc(this.qeParams))\r\n            //console.log(JSON.cc(this.grid.columns.names))\r\n//return\r\n            //obtengo los data type de las columnas del listado\r\n\r\n            this.grid.columns.names.forEach ( (name,i) => {\r\n                this.grid.columns.types[i] = \"text\"\r\n                Object.keys(this.keysSettings).forEach ( key => {\r\n                    if ( name.sql.toLowerCase() == key.toLowerCase() ) this.grid.columns.types[i] = this.utils.getBasicDataType(this.keysSettings[key].data_type)\r\n                })\r\n            })\r\n\r\n            //if ( ! this.showComputer ) return false\r\n\r\n            const computedColumns = []\r\n            this.grid.columns.names.forEach ( (name,i) => {\r\n          //      if ( i > 0 ) {\r\n                    //computedColumns.push ( \"\" )\r\n                    const type = this.grid.columns.types[i]\r\n                    , func = $(this.$refs['computed_'+name.label]).find('select option:selected').val()\r\n                    \r\n                    //console.log(name)\r\n                    if ( name.sql.toLowerCase().indexOf ( 'select' ) == -1 ) { //SI TIENEN SELECT ES QUE ES UNA SUBQUERY DE UN CAMPO COMPUTADO. NO SE PUEDEN CONTAR LAS SUBQUERIES POR RESTRICCIN DE SQL SERVER.\r\n                        if ( type == \"number\" ) {\r\n                            if ( func )  { \r\n                                if ( func != \"DISTINCT\" )\r\n                                    computedColumns.push ( func + \"(\" + name.sql + \") as \" + name.label ) \r\n                                else\r\n                                    computedColumns.push ( \"COUNT(DISTINCT(\" + name.sql + \")) as \" + name.label ) \r\n                            } else { \r\n                                computedColumns.push ( \"'' as \" + name.label ) \r\n                            }\r\n                        } else if ( func == \"DISTINCT\" ) {\r\n                            computedColumns.push ( \"COUNT(DISTINCT(\" + name.sql + \")) as \" + name.label ) \r\n                        }\r\n                    } else {\r\n                        computedColumns.push ( \"'' as \" + name.label ) \r\n                    }\r\n          //      }\r\n            })\r\n\r\n            if (!computedColumns.length) return false\r\n            \r\n            const paramsComputedCols = JSON.cc(params)\r\n            paramsComputedCols.columns = computedColumns\r\n            this.api.$dbq (paramsComputedCols , data => {\r\n                const results = JSON.cc(data[0])\r\n                Object.keys(results).forEach ( key => {\r\n                    $(this.$refs['computed_['+key+']']).find('span').html(results[key] ).attr('title',results[key] )\r\n                    $(this.$refs['computed_['+key+']']).find('.button-operation *').attr('title',results[key] )\r\n                })\r\n                //console.log(data[0])\r\n            })\r\n        },\r\n        set_distinct () {\r\n            //console.log('aaaaa')\r\n            //this.distinct = ! this.distinct\r\n            this.$store.commit ( 'set_distinct' , {indexVentana:this.ventana.index, value: !this.distinct} )\r\n            this.qeHasChanged.changed = true\r\n            return\r\n            const data = this.grid.rows\r\n            data.forEach ( thing => {thing.PK_ID=1})\r\n            const uniqueArray = data.filter((thing, index) => {\r\n              const _thing = JSON.stringify(thing);\r\n              return index === data.findIndex(obj => {\r\n                return JSON.stringify(obj) === _thing;\r\n              });\r\n            });\r\n            this.grid.rows = uniqueArray\r\n            this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct = true\r\n        },\r\n        keyDownSearchField (event,i) {\r\n            if(event.keyCode === 13){  event.preventDefault(); return false }\r\n        },\r\n        alterSearchString (event,i) {\r\n            const val = event.target.innerHTML\r\n            , qep = JSON.cc ( this.qeParams )\r\n            qep[i].text = val\r\n            qep[i].value = val\r\n            this.qeParams = qep\r\n        },\r\n        focusSearchField (event,i,remove) {\r\n            const $field = $(event.target)\r\n            if (remove) {\r\n                $field.removeClass('focused')\r\n                window.contextList.closeContext()\r\n                this.alterSearchString(event,i)\r\n            } else {\r\n                $field.addClass('focused')\r\n                this.$refs.qe.openContext(i,event,this.$refs.qe.parameters.data[i])\r\n            }\r\n\r\n        },\r\n        getParamSearchString ( i ) {\r\n            let str = this.$refs.qe.parameters.data[i].text\r\n            if ( str == \"[]\" ) str = \"\"\r\n            return str\r\n\r\n        },\r\n        loadList (o,cb) {\r\n            \r\n            //this.grid.rows = []\r\n            //return\r\n            const table = this.ventana.data.table\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            , whereSyntax = qeSyntax.length ? 'WHERE ' + qeSyntax : ''\r\n            , pkName = this.pkName\r\n            , whereListado = `pkname = '${table}.${pkName}'`\r\n            , insertIds = `sql=delete DBH_listado INSERT INTO DBH_listado (sessionId,idusuario,idlistado,pkname) \r\n            select 1,1,${pkName},'${table}.${pkName}' FROM ${joinSyntax} ${whereSyntax} \r\n            SELECT count(idlistado) as noFilas FROM DBH_listado WHERE ${whereListado}` \r\n            , rowIdsSql = `sql=select ${pkName} as id FROM ${joinSyntax} ${whereSyntax}`\r\n            , dbID = this.api.getTableConnectionId(table)\r\n            , selectSql = `SELECT ${this.distinct?'DISTINCT ':''} ${this.columns} FROM ${joinSyntax}  ${qeSyntax?'WHERE '+qeSyntax:''}`\r\n            this.grid.loadedRecsNumber = 0\r\n            \r\n            //console.log(selectSql)\r\n            //this.qeHasChanged.changed = true\r\n            this.api.$dbq ({\r\n                sqlSyntax: \"SELECT COUNT(*) as recnum FROM (\" + selectSql + \") as a\"\r\n\t\t\t\t, dbID: this.api.getTableConnectionId(table)\r\n            }, data => {\r\n                //console.log(data)\r\n                this.grid.rowCount = data[0].recnum ? data[0].recnum : 0\r\n                this.grid.whereSql = whereSyntax\r\n                this.grid.qeSettings = this.$refs.qe.settings\r\n                this.grid.page = 0\r\n                this.grid.rows = []\r\n                this.checkedIds = []\r\n                this.checkedIndexes = []\r\n                this.loadPage(o,cb)\r\n\r\n                //if ( ! this.grid.rowCount ) console.log(queryPars)\r\n            },false,true)\r\n            return\r\n            \r\n            const queryPars = {\r\n                columns: [`count(${table}.${pkName}) as recnum`]\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: qeSyntax\r\n                , dbID\r\n            }\r\n            this.api.$dbq (queryPars, data => {\r\n                //console.log(data)\r\n                //this.grid.rowIds = data[0].recnum//data.map ( field => field.id )\r\n                this.grid.rowCount = data[0].recnum ? data[0].recnum : 0\r\n                this.grid.whereSql = whereSyntax\r\n                this.grid.qeSettings = this.$refs.qe.settings\r\n                this.grid.page = 0\r\n                this.grid.rows = []\r\n                this.checkedIds = []\r\n                this.checkedIndexes = []\r\n                //console.log('a')\r\n                this.loadPage(o,cb)\r\n\r\n                //if ( ! this.grid.rowCount ) console.log(queryPars)\r\n            })\r\n        },\r\n        loadPage (o,cb) {\r\n            this.telon(1)\r\n            window.circus.panels.form = false\r\n            window.circus.panels.bottom = false\r\n            const table = this.ventana.data.table\r\n            , columns = this.columns\r\n            , joinSyntax = this.tablesRelation.joinSyntax\r\n            , qeSyntax = this.$refs.qe.settings.sqlSyntax\r\n            //, whereSyntax = qeSyntax.length ? 'WHERE ' + qeSyntax : ''\r\n            , whereSyntax = qeSyntax.length ? qeSyntax : ''\r\n            this.compute({\r\n                 schemaSyntax: joinSyntax\r\n                , whereSyntax: whereSyntax\r\n                , dbID: this.api.getTableConnectionId(table)\r\n            })\r\n            if ( this.qeHasChanged() ) {\r\n                //console.log('has changed')\r\n                this.loadList(o,cb)\r\n                return\r\n            }\r\n            if ( ! this.grid.rowCount ) {\r\n                //this.grid.rows = [{[' ']:'No hay coincidencias'}]\r\n                this.telon(0)\r\n                return false\r\n            }\r\n            if ( this.grid.rowCount == this.grid.loadedRecsNumber ) {\r\n                if ( o==2 ) { //viene de solicitar Excel\r\n                    if ( cb ) cb()\r\n                    this.telon(0)\r\n                    return\r\n                }\r\n                if ( ! confirm ( \"Se han cargado la totalidad de los registros de este listado.\\n\\nDesea comenzar la carga del listado nuevamente desde el principio?\") ) {\r\n                    if ( cb ) cb()\r\n                    this.telon(0)\r\n                } else {\r\n                    this.loadList(o)\r\n                }\r\n                return false\r\n                \r\n            }\r\n            const pkName = this.pkName\r\n            , whereListado = `pkname = '${table}.${pkName}'`\r\n            , orderbyStr = this.$refs.qe.settings.orderBy != \"\" ? this.$refs.qe.settings.orderBy:(table+'.'+pkName)\r\n            , recXPag = this.grid.recXPag\r\n            , offset = this.grid.page * recXPag\r\n            , selectSql = `sql=SELECT ${this.distinct?'DISTINCT ':''} ${columns} FROM ${joinSyntax} ${this.grid.whereSql} ORDER BY ${orderbyStr} OFFSET ${offset} ROWS FETCH NEXT ${recXPag} ROWS ONLY`\r\n            this.grid.page++\r\n            let loadedRecsNumber = this.grid.page*this.grid.recXPag\r\n            if ( ( loadedRecsNumber > this.grid.rowCount ) || o ) loadedRecsNumber = this.grid.rowCount\r\n            this.grid.selectSql = selectSql.substring(4)\r\n            console.log(this.grid.selectSql)\r\n            const params = {\r\n                columns: columns\r\n                , schemaSyntax: joinSyntax\r\n                , whereSyntax: whereSyntax\r\n                , orderbyColumns: orderbyStr\r\n                , offset: offset\r\n                , pageSize: recXPag\r\n                , dbID: this.api.getTableConnectionId(table)\r\n                , distinct: this.distinct // this.$store.state.ventanas.data[this.ventana.index].queryeditor.distinct\r\n            }\r\n            if ( o ) {\r\n                params.pageSize=999999999\r\n            }\r\n\r\n            this.api.$dbq (params , data => {\r\n                this.grid.rows =  this.grid.rows.concat(data)\r\n                this.grid.loadedRecsNumber = loadedRecsNumber\r\n                //this.grid.columns.names = Object.keys(this.grid.rows[0]).splice(1)\r\n                //this.grid.columns.types = [2]\r\n               // console.log(JSON.cc(this.filter))\r\n                this.telon(0)\r\n                window.circus.showHelpBox ({title:`Cargados ${loadedRecsNumber} registros`,text:`Se han cargado los siguientes ${loadedRecsNumber} registros`} )\r\n                if ( cb ) cb()\r\n                /*\r\n                if ( loadedRecsNumber == this.grid.rowCount ) {\r\n                    Object.assign(this.buttons[0],{disabled:true})\r\n                    Object.assign(this.buttons[1],{disabled:true})\r\n                    this.buttons.push('a')\r\n                    this.buttons.length = this.buttons.length - 1\r\n                }\r\n                */\r\n            })\r\n\r\n        }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n    .qe {\r\n        width:100%;min-height:50px;border:0 solid red;border-width:0 0 0px 0;position:;float:left;\r\n        background-color:white;\r\n        padding: 2px;\r\n        background: repeating-linear-gradient(\r\n            -35deg,\r\n              #fff,\r\n              #fff 10px,\r\n              #f8f8f8 10px,\r\n              #f8f8f8 20px\r\n            );\r\n            \r\n    }\r\n    .hide {\r\n        display:none\r\n    }\r\n    .header-cell {\r\n        float:left;\r\n        border:0px solid grey;\r\n        padding:5px;\r\n        box-sizing:border-box;\r\n        white-space:nowrap;\r\n        overflow:hidden;\r\n        white-space:nowrap;\r\n    }\r\n    .search-field {\r\n        background: white; \r\n        padding: 2px; \r\n        border:1px solid lightgray; \r\n        margin-top: 3px; \r\n        max-width:100%;\r\n        min-width:50px;\r\n        clear:both; \r\n        float:left; \r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n    }\r\n    .search-field.focused {\r\n        position: absolute;\r\n        width: auto;\r\n        min-width: 100px;\r\n        top: 17px;\r\n        box-shadow: 1px 1px 5px 2px gray;\r\n    }\r\n    .search-field-inactive {\r\n        background: #ddd;\r\n    }\r\n    .button-operation * {\r\n        cursor: pointer\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listado.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listado.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listado.vue?vue&type=template&id=5b5daed1&scoped=true&\"\nimport script from \"./listado.vue?vue&type=script&lang=js&\"\nexport * from \"./listado.vue?vue&type=script&lang=js&\"\nimport style0 from \"./listado.vue?vue&type=style&index=0&id=5b5daed1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b5daed1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Ly flexbox=1 column=1 grow=1 height=1 data-component=\"Ventana\" :data-layout=\"isInline?'inline':'default'\" style=\"background:\"\r\n    ref=\"Ventana\">\r\n    <div style=\"width:100%; padding: 5px 5px\" v-show=\"admin\">\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Navegacin</div>\r\n            <select ref=\"parentTable\" data-help-code=\"ventana-toolbar-parents\" v-if=\"parentTablesWindows.length\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-top:2px\" @change=\"injectParent()\">\r\n                <option>Padres...</option>\r\n                <option v-for=\"tab in parentTablesWindows\" :value=\"tab.index\">{{tab.name}}</option>\r\n            </select>\r\n            <select ref=\"childTable\" data-help-code=\"ventana-toolbar-childs\" v-if=\"childTablesWindows.length\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px\" @change=\"injectChild()\">\r\n                <option>Hijos...</option>\r\n                <option v-for=\"tab in childTablesWindows\" :value=\"tab.index\">{{tab.name}}</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Tabla Principal</div>\r\n            <select @change=\"tableChange($event)\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-bottom:-2px;margin-top:1px\" :data-help-code=\"getRelations(tabs.names,ventana.data.identities)\">\r\n                <option v-for=\"table in availableTables\" :value=\"table\" :selected=\"table==ventana.data.table?'selected':''\">{{table}}</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Paneles</div>\r\n            <Toolbar :buttons=\"buttons2\" style=\"width:auto;float:left;margin:0px 0 -2px 3px\" />\r\n        </div>\r\n        <div class=\"toolbar-box\">\r\n            <div class=\"toolbar-box-title\">Configuracin</div>\r\n            <select id=\"configFileSelect\" class=\"form-control\" style=\"display:inline;width:auto;font-size:11px;margin-bottom:-2px;margin-top:1px; float:left\">\r\n                <option value=\"\">Importar Config...</option>\r\n                <option v-for=\"fn in configFilesList\" :value=\"fn\" :selected=\"fn==api.parsedSearch.reset\">{{fn}}</option>\r\n            </select>\r\n            <Toolbar :buttons=\"buttons\" style=\"width:auto;float:left;margin:0px 0 -2px 3px\" />\r\n        </div>\r\n    </div>\r\n    <!--\r\n    <div style=\"padding:7px 5px;min-height:32px\">\r\n      <div style=\"float:right;text-align:right\">\r\n      </div>\r\n    </div>\r\n    --> \r\n      <!--<Ly flexbox=1 height=1>-->\r\n      <div style=\"display:flex;flex-grow:1;height:calc(100% - 0px);max-height:calc(100% - 50px);position:relative\">\r\n          <div v-show=\"panels.form&&admin\" class=\"panel-envelope\" style=\"height:100%;border:0px solid red\" ref=\"Formulario\">\r\n            <Formulario :item=\"form.data\" :onFilter=\"formFilter\" :overflow=\"overflow\" :keysSettings=\"keysSettings\" :ventana=\"ventana\" style=\"min-width:150px;background:#f4f4f4;padding:0px\"\r\n            />\r\n          </div>\r\n          \r\n          <Ly grow=1 breakHeight=1 shrink=1 class=\"slots panel-envelope\" v-show=\"list\" style=\"flex-grow:1\">\r\n              <!--\r\n            <div style=\"float:left;position:absolute;margin-top:-42px;margin-left:-10px;padding-left: 30px\">\r\n              <button v-show=\"admin\" @click=\"toolbarClick('formver')\" style=\"position:absolute;height:18px;margin-left:-30px;margin-top:4px\">\r\n                    <div :class=\"{'arrow-left':formver,'arrow-right':!formver}\"></div>\r\n                </button>\r\n            </div>\r\n            -->\r\n            <Listado :rows=\"ventana.data.list.data\" :ventana=\"ventana\" :filter=\"formFilterState.data\" :overflow=\"overflow\" :formSetValues=\"formSetValues\"\r\n              :keysSettings=\"keysSettings\" v-on:rowClick=\"rowClick\" ref=\"listado\" style=\"background:#f4f4f4;padding:5px;box-sizing:border-box\"/>\r\n          </Ly>\r\n          \r\n      </div>\r\n  </Ly>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport jsonBeautify from 'json-beautify'\r\nimport Ly from './layout.vue'\r\nimport Formulario from './formulario.vue'\r\nimport Listado from './listado.vue'\r\nimport Toolbar from './tool-bar.vue'\r\n//import queryString from 'query-string';\r\n//const parsedSearch = this.api.parsedSearch //queryString.parse(location.search)\r\n\r\n\r\nexport default {\r\n  props: [ 'ventana', 'isInline', 'index', 'switchVentana', 'panels' ],\r\n  components: { Ly, Formulario, Toolbar, Listado },\r\n    data: function () {\r\n        return {\r\n            configFilesList: [],\r\n            parentTables: this.api.getDirectParents(this.ventana.data.table),\r\n            childTables: this.api.getDirectSuns(this.ventana.data.table),\r\n            tree: true,\r\n            formver: true,\r\n            list: true,\r\n            show: true,\r\n            overflow: !this.isInline,\r\n            itemEditor: {\r\n                branchs: [\r\n                    { key: \"form\" },\r\n                    { key: \"list\" }\r\n                ]\r\n            },\r\n            formFilterState: { data: {}, settings: this.keysSettings },\r\n            form: { data: this.formDataBlanked() }\r\n            //, techButtons: this.api.parsedSearch.dev && this.api.parsedSearch.admin\r\n            , admin: this.api.parsedSearch.admin\r\n            , buttons2: [\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"#444444\" d=\"M0 16h16v-16h-16v16zM3 1v1h1v-1h11v14h-12v-1h-1v1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h-1v-1h1v-1h1z\"></path><path fill=\"#444444\" d=\"M2 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 11h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 9h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 10h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 8h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 6h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 7h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 5h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 3h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 4h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 2h1v1h-1v-1z\"></path></svg>`,\r\n                    helpCode:\"\",\r\n                    onClick: () => { \r\n                        this.$emit('panelSwitch','form')\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"><path fill=\"#444444\" d=\"M16 16v-16h-16v16h16zM1 13h1v-1h-1v-11h14v12h-1v1h1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v1h-1v-1h-1v-1z\"></path><path fill=\"#444444\" d=\"M12 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M13 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M11 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M9 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M10 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M8 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M6 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M7 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M5 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M3 12h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M4 13h1v1h-1v-1z\"></path><path fill=\"#444444\" d=\"M2 13h1v1h-1v-1z\"></path></svg>`,\r\n                    helpCode:\"\",\r\n                    onClick: () => { \r\n                        this.$emit('panelSwitch','bottom')\r\n                    }\r\n                },\r\n            ]\r\n            , buttons: [\r\n                /*{label:\"ShowTree\",onClick:()=>console.log(JSON.cc(this.$store.state))},*/\r\n                \r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\" style=\"transform:rotate(180deg)\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"config-load\",\r\n                    //title: \"Guardar Vista\",\r\n                    onClick: () => { \r\n                        const configFile = $('#configFileSelect option:selected').text()\r\n                        this.loadConfigFile(configFile)\r\n                        console.log(configFile)\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 256\"><path d=\"M180.52,149v33.92H76.75V149H56.81v43.9a10,10,0,0,0,10,10H190.47a10,10,0,0,0,10-10V149H180.52Zm-48.3-3.08c3.39-3.38,27.68-35.63,27.68-35.63s4.3-4.29-1.41-4.29H143.63V56.41s0.06-2.06-2.6-2.06H118.39c-3.69,0-3,2.45-3,2.45V107H99.25c-4.71,0-.37,4.1-0.37,4.1l28.55,34.5S129.78,148.37,132.22,145.92ZM128,256h0A128,128,0,0,1,0,128H0A128,128,0,0,1,128,0h0A128,128,0,0,1,256,128h0A128,128,0,0,1,128,256Z\"></path></svg>`,\r\n                    helpCode:\"config-save\",\r\n                    onClick: () => { \r\n                        const configFile = this.api.saveTree(\"\",1) //$('#configFileSelect option:selected').text()\r\n                        if ( ! this.configFilesList.filter ( ele => ele.toLowerCase() == configFile.toLowerCase() ).length ) this.configFilesList.push (configFile)\r\n                        window.circus.showHelpBox({title:'Configuracin Guardada',text:\"Se ha guardado la configuracin actual en el archivo \" + configFile})\r\n                        //console.log(configFile)\r\n                    }\r\n                },\r\n                {\r\n                    label: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 330.5 330.5\"><path d=\"M178.3 136.6l16.4 16.4 69.7-69.7c2.3-2.3 3.4-5.2 3.4-8.2 0-3-1.1-5.9-3.4-8.2 -4.5-4.5-11.8-4.5-16.4 0L178.3 136.6zM172.3 140.2l-0.7-0.7 -12.4 12.4 -7.7 7.7 20.4 20.4 8.3-8.3 11.8-11.8 -0.9-0.9 -1.2-1.2 -16.4-16.4L172.3 140.2zM66.8 197.2c-0.1 0-0.2 0.1-0.3 0.1 -0.5 0.1-0.9 0.3-1.3 0.6l-0.2 0.1L65 198c-0.5 0.3-0.8 0.7-1.2 1.2 -0.3 0.5-0.6 1-0.8 1.6 -0.5 1.7-0.3 3.7 1.3 4.9 3.8 3 7.7 6 11.6 8.9l0.7-0.3 1.7-0.7L80 213l14.1-5.4 20.6-7.9 -14.3 16.6 -8 9.2 -1.1 1.3 -1.1 1.3 -1.1 1.3c0.8 0.3 1.6 0.4 2.5 0.2 0.5-0.1 1-0.3 1.6-0.5 0.1 0 0.1-0.1 0.2-0.1 0.6-0.3 1.1-0.5 1.7-0.7l3.3 3.3c0 0.8-0.1 1.5-0.1 2.3 -0.1 0.7-0.1 1.5-0.2 2.2 -0.1 1.1-0.3 2.2-0.6 3.3 -0.6 2.5 0.8 5.7 3.5 6.2 4.4 0.9 8 2.4 11.1 4.5 3.5 2.4 6.4 5.4 9.1 9.1 1.3 1.8 2.6 3.6 3.9 5.6 1 1.6 2.6 2.3 4.1 2.3 0.7 0 1.4-0.1 2-0.4 2.4-0.9 4.2-3.4 3.1-6.2l32.3-75.5 -20.2-20.2L66.8 197.2zM165.2 330.5L165.2 330.5C74 330.5 0 256.5 0 165.2v0C0 74 74 0 165.2 0h0c91.3 0 165.2 74 165.2 165.2v0C330.5 256.5 256.5 330.5 165.2 330.5z\"/></svg>`,\r\n                    helpCode:\"config-delete\",\r\n                    onClick: () => { \r\n                        const configFile = $('#configFileSelect option:selected').text()\r\n                        this.deleteConfigFile(configFile)\r\n                        this.configFilesList = this.configFilesList.filter (ele=>{if(ele!=configFile)return true;return false})\r\n                        //$('#configFileSelect')[0].selectedIndex = 0\r\n                        //$('#configFileSelect').blur()\r\n                        //console.log(configFile)\r\n                    }\r\n                }\r\n                /* BOTN PARA EDITAR ARCHIVO DE CONFIGURACIN. DESACTIVADO DE MOMENTO.\r\n                { \r\n                    label: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\t viewBox=\"0 0 300 300\" style=\"enable-background:new 0 0 300 300;\" xml:space=\"preserve\"><g>\t<g>\t\t<path d=\"M149.996,0C67.157,0,0.001,67.161,0.001,149.997S67.157,300,149.996,300s150.003-67.163,150.003-150.003\t\t\tS232.835,0,149.996,0z M133.314,149.997c0,3.133-0.571,6.111-1.569,8.901l41.868,20.142c4.819-5.275,11.731-8.595,19.436-8.595\t\t\tc14.553,0,26.353,11.796,26.353,26.348c0,14.555-11.803,26.356-26.359,26.356c-14.553,0-26.359-11.801-26.359-26.356\t\t\tc0-1.395,0.145-2.757,0.353-4.09l-44.568-21.436c-4.357,3.188-9.71,5.089-15.52,5.089c-14.555,0-26.356-11.796-26.356-26.361\t\t\tc0-14.55,11.801-26.348,26.356-26.348c5.81,0,11.165,1.901,15.523,5.086l44.571-21.431c-0.21-1.336-0.353-2.692-0.353-4.09\t\t\tc0-14.558,11.803-26.356,26.359-26.356c14.553,0,26.356,11.798,26.356,26.356c0,14.555-11.803,26.356-26.356,26.356\t\t\tc-7.7,0-14.617-3.328-19.436-8.598l-41.868,20.134C132.744,143.89,133.314,146.875,133.314,149.997z\"/>\t</g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`,\r\n                    onClick: function(){\r\n                        if($('#ttt').length){$('#ttt').remove();return}\r\n                        const that = this//.$store.state\r\n                        //return\r\n                        const div = $('<textarea id=\"ttt\"/>').val(jsonBeautify(that.$store.state.database, null, 2, 100)).css({\r\n                            width: '100vw'\r\n                            , height: '100vh'\r\n                            , position: 'absolute'\r\n                            , background: 'white'\r\n                            , border: '1px solid #ddd'\r\n                            //, bottom: '50px'\r\n                            //, right: '50px'\r\n                            , 'z-index': 200\r\n                        }).on('blur',function(){\r\n                            const val = JSON.parse(this.value)\r\n                            that.$store.commit('setKey',{path:'.database',val})\r\n                            $('#ttt').remove()\r\n                        })\r\n                        $('body').prepend(div)\r\n                    }.bind(this)\r\n                },\r\n                */\r\n             ],\r\n        }\r\n    },\r\n  computed: {\r\n      childTablesWindows () {\r\n          const childTableNames = Object.keys(this.api.getDirectSuns(this.ventana.data.table))\r\n        const ventanas = this.$store.state.ventanas.data.map ( (win,index) => ({name:win.name,table:win.table,index}))\r\n        , childWindows = ventanas.filter ( win => {\r\n            return childTableNames.indexOf(win.table.toLowerCase()) != -1\r\n         } )\r\n        return childWindows\r\n      },\r\n      parentTablesWindows () {\r\n          const parentTableNames = Object.keys(this.api.getDirectParents(this.ventana.data.table))\r\n          //const parentTableNames = cleanCopy(this.tabs.names)//.map ( (name,index) => ({name,index:})))\r\n          //parentTableNames.splice ( 0,1 )\r\n          const ventanas = this.$store.state.ventanas.data.map ( (win,index) => ({name:win.name,table:win.table,index}))\r\n          , parentWindows = ventanas.filter ( win => {\r\n            return parentTableNames.indexOf(win.table.toLowerCase()) != -1\r\n        } )\r\n          //console.log(parentWindows)\r\n          return parentWindows\r\n      },\r\n      availableTables () {\r\n          const tablesObj = this.$store.state.database.tables\r\n          return Object.keys(tablesObj)\r\n      },\r\n      tabs () {\r\n          const table = this.ventana.data.table\r\n          , tabs = this.api.getTablesRelation(table)//.names\r\n          //console.log(tabs)  \r\n        return tabs\r\n      },\r\n      keysSettings() {\r\n          //log('func')\r\n          const keysSettings = {}\r\n          var val\r\n          this.ventana.data.fields.forEach ( field => {\r\n              const list = field.dbsettings ? field.dbsettings.list : false\r\n              val = { data_type: field.data_type }\r\n              if ( list ) {\r\n                  Object.assign ( val, { list: { values: list } } )\r\n                  keysSettings[this.fieldUniqueId(field)] = val\r\n              } else {\r\n              //if ( field.label == \"DOM_Id\") {\r\n                  keysSettings[this.fieldUniqueId(field)] = val\r\n              }\r\n          })\r\n          //console.log(keysSettings)\r\n          return keysSettings\r\n      },\r\n      toolbarButtons () {\r\n          return [\r\n              {\r\n                  label: this.formver ? \" < \" : \" > \",\r\n                  onClick: this.toolbarClick\r\n              },\r\n          ]\r\n      }\r\n   },\r\n   methods: {\r\n      ...mapActions(['setVentana']),\r\n    loadConfigFile ( fileName ) {\r\n        //const fileName = $(target).find('option:selected').text()\r\n        this.api.loadConfig ( fileName )\r\n    },\r\n    deleteConfigFile ( fileName ) {\r\n        if ( ! confirm ( 'Eliminar ' + fileName + '?' ) ) return false\r\n        this.api.deleteConfig ( fileName, (res) => {\r\n            alert(res)\r\n            this.loadFilesList ( $('#configFileSelect')[0] )\r\n        } )\r\n    },\r\n      getRelations(tabs,identities) {\r\n          const lis = []\r\n          tabs.forEach ( (tab,i) => {\r\n              const li = '<li style=\"text-transform:\">' + tab + ' (' + identities[i] + ')</li>'\r\n              lis.push (li)\r\n          })\r\n          const $text = $('<div/>').append('<titulo>Relaciones</titulo>').append('<ul style=\"list-style-type: square;padding-left:10px\">'+lis.toString().replace(/\\,/g,'')+'</ul>')\r\n          return $text.html()//.wrap('<div/>').parent().html()\r\n      },\r\n      injectChild() {\r\n        const qe = this.$refs.listado.$refs.qe\r\n        , params = qe.settings.params\r\n        , indexVentana = this.$refs.childTable.value\r\n        this.$refs.childTable.selectedIndex=0\r\n        let actualQeParams = this.$store.getters.qeParams(indexVentana)\r\n        if ( ! actualQeParams ) actualQeParams = []\r\n        this.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:actualQeParams.concat(params)} )\r\n        //this.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:params} )\r\n        this.switchVentana(indexVentana)\r\n      },\r\n      injectParent() {\r\n        const qe = this.$refs.listado.$refs.qe\r\n        , params = qe.settings.params\r\n        , indexVentana = this.$refs.parentTable.value\r\n        , joinSyntax = this.tabs.joinSyntax\r\n        //, indexTabla = this.$refs.parentTable.selectedIndex\r\n        , nombreTabla = this.parentTablesWindows.filter ( win => win.index == indexVentana )[0].table\r\n        //, idfield = nombreTabla+'.'+this.ventana.data.identities[indexTabla]\r\n        , descripcion = this.ventana.data.table.toUpperCase() + ' con ' + params.filter(par=>par._active).map ( par => {\r\n            let val = par.value\r\n            try {\r\n                const json = JSON.parse ( val )\r\n                if ( typeof json == 'object' && !json.length ) { //es select con descripcion\r\n                    val = json.descripcion\r\n                }\r\n            } catch ( err ) { }\r\n            \r\n            return `${par.alias}: ${val}`\r\n        })\r\n        , that = this\r\n        this.api.getIdentitiesForTableSet(nombreTabla,function(padre){\r\n            const pkpadre = nombreTabla + '.' + padre[0].column_name\r\n            console.log(pkpadre)\r\n            const sql = `SELECT ${pkpadre} FROM ${joinSyntax} ${qe.settings.sqlSyntax?' WHERE '+qe.settings.sqlSyntax:''}`\r\n            , val = JSON.stringify({\r\n                sql: sql\r\n                , descripcion\r\n            })\r\n            , param = {\r\n                alias: pkpadre\r\n                , campo: \"\"\r\n                , data_type: \"text\"\r\n                , key: pkpadre\r\n                , reference: pkpadre\r\n                , leftText: \"\"\r\n                , rightText: \"\"\r\n                , text: val\r\n                , value: val\r\n                , vista: \"\"\r\n                , operator: \"AND\"\r\n                , _active: true\r\n                , _extended: false\r\n                , _inlist: true\r\n                , _orderby: \"\"\r\n            }\r\n            that.$refs.parentTable.selectedIndex=0\r\n            let actualQeParams = that.$store.getters.qeParams(indexVentana)\r\n            if ( ! actualQeParams ) actualQeParams = []\r\n            that.$store.commit ( 'Ventana_injectQE' , {indexVentana,qeParams:actualQeParams.concat([param])} )\r\n            that.switchVentana(indexVentana)\r\n        })\r\n      },\r\n      rowClick(row){\r\n          this.form.data = this.formDataBlanked()\r\n        Object.assign(this.form.data , row)\r\n      },\r\n      nameChange ( event ) {\r\n        const newName = event.target.innerHTML\r\n        console.log(newName)\r\n        this.$store.commit ( 'Ventana_setName' , {indexVentana:this.index,ventanaName:newName} )\r\n      },\r\n      tableChange ( event ) {\r\n          if ( ! confirm ( 'Cambiar a -' + event.target.value + '- la tabla asociada a esta ventana.' ) ) {\r\n              event.target.value = this.ventana.data.table\r\n              return false\r\n          }\r\n        const newTable = event.target.value\r\n        this.$store.commit ( 'Ventana_setTable' , {indexVentana:this.index,tableName:newTable} )\r\n        this.api.getFieldsForTable ( newTable, ( { fields, identities } ) => {\r\n            this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventana.index, fields, identities})\r\n            this.form.data = this.formDataBlanked()\r\n        } )\r\n        //this.$store.state.\r\n      },\r\n      toolbarClick (buttonLabel) {\r\n          const key = (buttonLabel != 'formver') ? buttonLabel.toLowerCase() : 'formver'\r\n          this[key] = ! this[key]\r\n          setTimeout(function(){this.$refs.listado.containerResize()}.bind(this),10)\r\n      },\r\n      fieldsOfVentana(ventana) {\r\n        return ventana.data.fields\r\n        //log(this.$store.state)\r\n        //return this.$store.state.database.tables[ventana.data.table].fields\r\n      },\r\n       tabName ( item ) {\r\n            const itemTableName = item.table_name\r\n           //console.log(itemTableName)\r\n            //, tableName = this.ventana.table\r\n            return itemTableName\r\n        },\r\n        formFilter ( filterState ) {\r\n            this.formFilterState.data = filterState\r\n        },\r\n        fieldUniqueId ( field ) {\r\n            const table_name = field.table_name\r\n            , column_name = field.column_name\r\n            if ( field.literal ) return column_name\r\n            //const dbID = this.api.getTableConnectionId ( table_name )\r\n            const dbID = field.table_catalog\r\n            return dbID + '.dbo.' + table_name + '.' + column_name\r\n        },\r\n        formSetValues ( formData ) {\r\n            //Object.assign ( this.form.data, formData )\r\n            const blankedData = this.formDataBlanked()\r\n            Object.keys(formData).forEach ( key => {\r\n                if ( typeof blankedData[key] != 'undefined' ) \r\n                    blankedData[key] = formData[key]\r\n            })\r\n            this.form.data = blankedData//Object.assign ( this.formDataBlanked(), formData )\r\n            //log(this.form.data)\r\n        },\r\n      formDataBlanked() {\r\n          const formData = {}\r\n          this.$store.state.ventanas.data[this.index].fields.forEach ( field => {\r\n              formData[this.fieldUniqueId(field)] = \"\"\r\n          })\r\n          //log(formData)\r\n          return formData\r\n      }\r\n },\r\n mounted: function () {\r\n        this.api.getFieldsForTable ( this.ventana.data.table, ( { fields, identities } ) => {\r\n            //console.log(JSON.cc(fields))\r\n            this.$store.commit ( 'Ventana_setFields', {indexVentana: this.ventana.index, fields, identities})\r\n            this.form.data = this.formDataBlanked()\r\n        } )\r\n        this.api.listFiles('./json/',(list)=>{\r\n            /*\r\n            target.options.length = 1\r\n            const $select = $(target)\r\n            */\r\n            this.configFilesList = list\r\n            /*\r\n            list.forEach ( item => {\r\n                $select.append(`<option value=\"${item}\">${item}</option>`)\r\n            })\r\n            */\r\n        })\r\n        $(this.$refs.Formulario).resizable({\r\n            handles: 'e'\r\n            //,ghost:true\r\n        })\r\n        const that = this\r\n        $(window.document).on('keyup',function(e){\r\n          if(e.keyCode==13) that.$refs.listado.loadPage()\r\n        })\r\n  }\r\n  ,updated: function () {\r\n        $(this.$refs.Formulario).resizable({\r\n            handles: 'e'\r\n            //,ghost:true\r\n        })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .slots:not(:last-child) {\r\n        width: 300px;\r\n        z-index:1;\r\n        overflow-x: hidden;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ventana.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ventana.vue?vue&type=template&id=66089717&scoped=true&\"\nimport script from \"./ventana.vue?vue&type=script&lang=js&\"\nexport * from \"./ventana.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ventana.vue?vue&type=style&index=0&id=66089717&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66089717\",\n  null\n  \n)\n\nexport default component.exports","<script>\r\n//import $ from 'jquery'\r\nimport Ly from './layout.vue'\r\nimport Ventana from './ventana.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nexport default {\r\n    data: function() {\r\n        return {\r\n        }\r\n    },\r\n  components: { Ly, Ventana, Toolbar },\r\n  props: ['containers','panels'],\r\n  computed: {\r\n    ventanas () {\r\n        return this.$store.state.ventanas.data\r\n    },\r\n    containerWidth() {\r\n        const noContainers = this.containers.length\r\n        return {width: `calc(100% / ${noContainers})`}\r\n    }\r\n  },\r\n  methods: {\r\n      visibleVentanas(container) {\r\n          const visWinIndexes = this.$store.state.ventanas.data.map ( (ventana,index) => ({index,visible:ventana.visible}) ).filter( ventana => ventana.visible ).map ( ven => ven.index )\r\n        return visWinIndexes //? visWinIndexes : []\r\n      },\r\n      ventanasDelContainer (container) {\r\n        const ventanasWithIndex = this.ventanas.map ( ( ventana, index ) => ( { data:ventana , index } ) )\r\n        if ( ! container ) return ventanasWithIndex\r\n        const containerIndex = container.index\r\n        , ventanasDelContainer = ventanasWithIndex.filter ( ventana => ventana.data.container.indexOf(containerIndex)!=-1 )\r\n        return ventanasDelContainer\r\n      },\r\n      styleVentana (container, visible) {\r\n          if ( this.containerType(container) != 'visible') return false\r\n          const noVentanasVisibles = this.ventanasDelContainer ( container ).filter ( ventana => this.visibleVentanas ( container ).indexOf(ventana.index)!=-1 ).length\r\n          //, style = { height: `calc(100% / ${noVentanasVisibles})` }\r\n          , style = { height: `calc(100% / ${noVentanasVisibles})`, top:'0px', left:0, width:'100%', position:'absolute', border:'0px solid green' }\r\n          //console.log(visible)\r\n          return style\r\n    },\r\n    onButtonClick(indexVentana){\r\n        /*\r\n        this.hiddenVentanas = this.ventanasDelContainer().map ( ventana => {\r\n            return ventana.index\r\n        })\r\n        */\r\n        /*\r\n        this.visibleVentanas = []\r\n        const visibleVentanas = cleanCopy ( this.visibleVentanas )\r\n        this.visibleVentanas = new matriz ( visibleVentanas ).switch ( indexVentana )\r\n        */\r\n        //this.$store.commit ( 'Ventana_setVisibility' , {indexVentana,visible:true} )\r\n        const containers = $('.window-container')\r\n        , pestanas = $('.pestanaVentana')\r\n        containers.css({'z-index':-1})\r\n        containers.eq(indexVentana).css({'z-index':1})\r\n        pestanas.removeClass('pestanaVentanaSelected').eq(indexVentana).addClass('pestanaVentanaSelected')\r\n        //containers.hide()\r\n\r\n    },\r\n    switchContainerType(container){\r\n        const containerType = this.containerType ( container )\r\n        , newType = containerType == 'visible' ? 'scroll' : 'visible'\r\n        //console.log(newType)\r\n        this.$store.commit ( 'setContainerType' , {index:container.index,type:newType} )\r\n    },\r\n    containerName ( container ) {\r\n        return container.data.name\r\n    },\r\n    containerType ( container ) {\r\n        return container.data.type\r\n    },\r\n    isInlineContainer ( container ) {\r\n        return this.containerType(container)=='scroll'?1:0\r\n    },\r\n    toolbarButtons (container) {\r\n        const ventanasDelContainer = this.ventanasDelContainer ( container )\r\n        //console.log(ventanasDelContainer)\r\n        const buttons = ventanasDelContainer.map ( ventana => ({\r\n            label: ventana.data.name,\r\n            onClick: () => this.onButtonClick(ventana.index,container)\r\n            , onClose: function () {\r\n                if ( ventanasDelContainer.length == 1 ) return\r\n                if(confirm('Eliminar pestaa?'))\r\n                 this.$store.commit ( 'Ventana_delete', {index: ventana.index} )\r\n            }.bind(this)\r\n        }))\r\n        buttons.push ({\r\n                  label: \"+\",\r\n                  onClick: function () {\r\n                    const lastVentana = ventanasDelContainer[ventanasDelContainer.length-1]\r\n                      this.$store.commit ( 'Ventana_clone', {index: lastVentana.index} )\r\n                  }.bind(this)\r\n                  ,onClose: function(){}\r\n               })\r\n              /*\r\n        ventanasDelContainer.forEach ( ventana => {\r\n\r\n            buttons.push ({\r\n                  label: \"Delete \"+ ventana.data.name,\r\n                  onClick: function () {\r\n                      this.$store.commit ( 'Ventana_delete', {index: ventana.index} )\r\n                  }.bind(this)\r\n              })\r\n        })\r\n        */\r\n       /*\r\n        buttons.push ( {\r\n            label: \"Container Type\",\r\n            onClick: () => this.switchContainerType(container)\r\n        })\r\n        */\r\n        return buttons\r\n    },\r\n    saveWindowName(target,indexVentana){\r\n        this.$store.commit ( 'Ventana_setName' , {indexVentana,ventanaName:$(target).text()} )\r\n        $(target).attr('contenteditable',false)\r\n    },\r\n    editWindowName(target){\r\n        $(target).attr('contenteditable',true).focus()\r\n    },\r\n    panelSwitch(panel){\r\n        //console.log(this.panels[panel])\r\n        this.$emit('panelSwitch',panel)\r\n    }\r\n  }\r\n  , mounted() {\r\n      this.onButtonClick(0)\r\n  }\r\n}\r\n</script>\r\n<template>\r\n\t<Ly data-component=\"Containers\" height=1 flexbox=1>\r\n        <!--\r\n        <Ly grow=1 height=1>\r\n            <Ly flexbox=1 data-component=\"Containers\" height=1>\r\n                -->\r\n\t\t        <Ly grow=1 height=1 v-for=\"container in containers\" :data-overflow=\"containerType(container)\" :style=\"containerWidth\">\r\n                    <Ly flexbox=1 column=1 height=1>\r\n                        <!--<Ly style=\"background:lightgray; padding-left:2px\">{{containerName(container)}}</Ly>-->\r\n                        <Ly flexbox=1 style=\"background:;padding:0 0 0px 0px;border-bottom:1px solid #999\">\r\n                            <div v-for=\"(boton,index) in toolbarButtons(container)\" @click=\"boton.onClick\" :class=\"{pestanaVentana:true,pestanaVentanaSelected:(visibleVentanas ( container ).indexOf(index)!=-1)}\">\r\n                                <div style=\"\" class=\"botonLabel\" contenteditable=\"false\" @dblclick=\"editWindowName($event.target,index)\" @blur=\"saveWindowName($event.target,index)\">{{boton.label}}</div>\r\n                                <div class=\"close closeButton\" style=\"cursor:default\"  @click.stop=\"boton.onClose\" v-if=\"boton.label!='+'\"/>\r\n                            </div>\r\n                            <!--<Toolbar :buttons=\"toolbarButtons(container)\"/>-->\r\n                        </Ly>\r\n                        <Ly grow=1 height=1 :overflow=\"containerType(container)\" style=\"position:relative\">\r\n                            <Ventana \r\n                                v-for=\"ventana in (ventanasDelContainer(container))\"\r\n                                :key=\"ventana.index\"\r\n                                v-show=\"visibleVentanas ( container ).indexOf(ventana.index)!=-2\" \r\n                                :ventana=\"ventana\" \r\n                                :isInline=\"isInlineContainer(container)\" \r\n                                :style=\"styleVentana(container,visibleVentanas ( container ).indexOf(ventana.index)!=-1)\"\r\n                                :index=\"ventana.index\"\r\n                                class=\"window-container\"\r\n                                :switchVentana = \"onButtonClick\"\r\n                                :panels = \"panels\"\r\n                                @panelSwitch = \"panelSwitch\"\r\n                            />\r\n                        </Ly>\r\n                    </Ly>\r\n                </Ly>\r\n            <!--\r\n            </Ly>\r\n        </Ly>\r\n    -->\r\n\t</Ly>\r\n</template>\r\n<style>\r\n    .pestanaVentana{\r\n        border-radius: 5px 5px 0 0;\r\n        border:1px solid #999;\r\n        border-width: 1px 1px 0 1px;\r\n        float:left;\r\n        padding:5px 10px;\r\n        cursor:default;\r\n        background:#eee;\r\n        max-width: 300px;\r\n        flex-grow: 1;\r\n        box-shadow: 0 -10px 9px #ddd inset;\r\n        text-transform: uppercase;\r\n        white-space: nowrap;\r\n    }\r\n    .botonLabel {\r\n        width: calc(100% - 20px);float:left;overflow:hidden;\r\n    }\r\n    .pestanaVentana:last-child{\r\n        width: 20px;\r\n        padding-left: 5px;\r\n        flex-grow: 0;\r\n    }\r\n    .pestanaVentana:last-child div{\r\n        overflow: visible;\r\n    }\r\n    .pestanaVentana.pestanaVentanaSelected,.pestanaVentana:hover.pestanaVentanaSelected {\r\n        background-color:#e4e4e4;\r\n        margin: -1px 0 -1px 0;\r\n        box-shadow: none;\r\n    }\r\n    .pestanaVentana:hover {\r\n        background:#fafafa;\r\n    }\r\n    .closeButton {\r\n        margin-left: 4px;\r\n        margin-top: 1px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./containers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./containers.vue?vue&type=template&id=4348866e&\"\nimport script from \"./containers.vue?vue&type=script&lang=js&\"\nexport * from \"./containers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./containers.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Ly',{attrs:{\"flexbox\":\"1\",\"column\":\"1\",\"data-component\":\"context-menu\"}},[_c('Ly',[_vm._v(_vm._s(_vm.title)),_c('button',{on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"Close\")])]),_c('Ly',[_c('Toolbar',{attrs:{\"buttons\":_vm.buttons}})],1),_c('Ly',[_c('ItemEditor',{attrs:{\"item\":_vm.item,\"lists\":_vm.lists,\"branchs\":_vm.branchs,\"keysSettings\":_vm.keysSettings},on:{\"change\":_vm.formChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <Ly flexbox=1 column=1 data-component=\"context-menu\">\r\n        <Ly>{{title}}<button @click=\"close()\">Close</button></Ly>\r\n        <Ly><Toolbar :buttons=\"buttons\"/></Ly>\r\n        <Ly><ItemEditor :item=\"item\" :lists=\"lists\" :branchs=\"branchs\" v-on:change=\"formChange\" :keysSettings=\"keysSettings\"/></Ly>\r\n     </Ly>\r\n</template>\r\n<script>\r\n//import {cleanCopy} from '../helpers.js'\r\nimport Ly from './layout.vue';\r\nimport ItemEditor from './item-editor.vue'\r\nimport Toolbar from './tool-bar.vue'\r\nexport default {\r\n    components: { ItemEditor, Ly, Toolbar },\r\n    data () {\r\n        return {\r\n            buttons: [{label:\"Save\",onClick:this.commitForm}]\r\n        }\r\n    },\r\n    computed: {\r\n        item () {\r\n            const item = this.$store.state.contextMenu.item\r\n            //console.log(cleanCopy(item))\r\n            return item ? item : {}\r\n        },\r\n        cursor () {\r\n            return this.$store.state.contextMenu.cursor\r\n        },\r\n        title () {\r\n            return this.$store.state.contextMenu.title\r\n        },\r\n        branchs () {\r\n            return this.$store.state.contextMenu.branchs\r\n        },\r\n        lists () {\r\n            //console.log(cleanCopy(this.$store.state.contextMenu.lists))\r\n            return this.$store.state.contextMenu.lists\r\n        },\r\n        keysSettings () {\r\n            return this.$store.state.contextMenu.keysSettings\r\n        }\r\n    },\r\n    methods: {\r\n        formChange(item) {\r\n            //const newState = object.cleanCopy(this.campos)\r\n            //console.log(item)\r\n            //const cursor = this.cursor\r\n            Object.keys(item).forEach ( key => item[key] = item[key].value )\r\n            this.$store.dispatch('context-menu' , {action:\"formChange\",item} )\r\n        },\r\n        commitForm(campos) {\r\n             this.$store.dispatch('context-menu' , {action:\"save\"} )\r\n        },\r\n        close(){\r\n            this.$store.dispatch('context-menu' , {action:\"clear\"} )\r\n        }\r\n    },\r\n    createdd () {\r\n        const aa = JSON.parse(JSON.stringify(this.$store.state.contextMenu.campos))\r\n        //console.log(aa)\r\n        this.campos = this.$store.state.contextMenu.campos\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    [data-component=\"context-menu\"] {border:1px solid green;position:absolute;z-index:1;top:200px;left:700px;background:white;}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-menu.vue?vue&type=template&id=195bb702&\"\nimport script from \"./context-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./context-menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-menu.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},_vm._l((_vm.treedata),function(node0){return _c('div',{staticClass:\"main-node\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(node0.label))]),(Array.isArray(node0.content))?_vm._t(\"default\",_vm._l((node0.content),function(node1){return _c('div',{staticClass:\"node1\"},[_vm._v(\" \"+_vm._s(node1)+\" \")])})):_vm._t(\"default\")],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"width:100%;height:100%;\">\r\n        <div v-for=\"node0 in treedata\" class=\"main-node\">\r\n            <div class=\"label\">{{node0.label}}</div>\r\n            <slot v-if=\"Array.isArray(node0.content)\">\r\n                <div v-for=\"node1 in node0.content\" class=\"node1\">\r\n                    {{node1}}\r\n                </div>\r\n            </slot>\r\n            <slot v-else>\r\n            </slot>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    components: { },\r\n    props: {\r\n        treedata: {\r\n            type: Array\r\n            , required: true\r\n        }\r\n    },\r\n    data: function () {\r\n        return {}\r\n    },\r\n    mounted(){\r\n        console.log(this.treedata)\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree-menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree-menu.vue?vue&type=template&id=2cb5b768&\"\nimport script from \"./tree-menu.vue?vue&type=script&lang=js&\"\nexport * from \"./tree-menu.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-dialog-container\"},[_c(_vm.componentName,{tag:\"component\",attrs:{\"componentProps\":_vm.componentProps}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"context-field-editor-container\"},[_c('div',{staticClass:\"encabezado\"},[_vm._m(0),_c('b',[_vm._v(_vm._s(_vm.componentProps.reference))])]),_c('SimpleTable',{ref:\"simpleTable\",attrs:{\"rows\":_vm.rows,\"hiddenKeys\":[],\"checkable\":true,\"searchable\":true,\"selectable\":false,\"showHeaders\":false,\"checkedRows\":_vm.checkedRows,\"singlecheck\":true,\"searchString\":\"\"},on:{\"rowClick\":_vm.rowClick,\"checkClick\":_vm.checkClick}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\"Cambiar modelo de lista desplegable\"),_c('br')])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"context-field-editor-container\">\r\n        <div class=\"encabezado\">\r\n            <div style=\"text-transform:uppercase\">Cambiar modelo de lista desplegable<br></div>\r\n            <b>{{componentProps.reference}}</b>\r\n        </div>\r\n        <SimpleTable style=\"\"\r\n            ref=\"simpleTable\"\r\n            :rows=\"rows\"\r\n            :hiddenKeys=\"[]\"\r\n            :checkable=\"true\"\r\n            :searchable=\"true\"\r\n            :selectable=\"false\"\r\n            :showHeaders=\"false\"\r\n            :checkedRows=\"checkedRows\"\r\n            :singlecheck=\"true\"\r\n            v-on:rowClick=\"rowClick\"\r\n            v-on:checkClick=\"checkClick\"\r\n            searchString=\"\"\r\n        />\r\n    </div>\r\n</template>\r\n<script>\r\nimport Toolbar from '../tool-bar.vue'\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nexport default {\r\n    components: { Toolbar, SimpleTable },\r\n    props: {\r\n        componentProps: { type: Object, required: true }\r\n    },\r\n    data () {\r\n        return {\r\n            listsModels : JSON.cc(this.$store.state.database.listsModels)\r\n            , lists : JSON.cc(this.$store.state.database.lists)\r\n        }\r\n    },\r\n    computed: {\r\n        rows () {\r\n            const listsModels = this.listsModels\r\n            , rows = Object.keys ( listsModels ).map ( key =>{\r\n                return {nombre:key}\r\n            } )\r\n            return rows\r\n        }\r\n        , checkedRows () {\r\n            const listsModels = this.listsModels\r\n            , lists = this.lists\r\n            , reference = this.componentProps.reference\r\n            , listModelName = lists[reference]\r\n            , checkedRows = []\r\n            Object.keys(listsModels).forEach ( (key,i) => {\r\n                if ( key == listModelName ) checkedRows.push ( i )\r\n            })\r\n            return checkedRows\r\n        }\r\n    },\r\n    methods: {\r\n        rowClick(){},\r\n        checkClick(checklist){\r\n            const  reference = this.componentProps.reference\r\n            let listModelName = false\r\n            if ( checklist.length )\r\n                listModelName = this.rows[checklist].nombre\r\n\r\n            if ( ! confirm ( 'Asignar modelo de lista\\n\\n' + reference + ' = ' + listModelName ) ) {\r\n                this.$refs.simpleTable.reset()\r\n                return false\r\n            } else {\r\n                this.$store.commit ( 'setKey' , {path:['database','lists',`${reference}`],val:listModelName})\r\n                this.api.saveCircusConfig()\r\n                window.circus.showHelpBox({title:'Modelo de lista cambiado',text:`Se ha canbiado el modelo de lista asignado al campo ${reference} a ${listModelName}`})\r\n            }\r\n        },\r\n    },\r\n    mounted () {\r\n        //console.log(JSON.cc(this.$store.state.database.listsModels))\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .context-field-editor-container {\r\n        height: 100%;\r\n        max-height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n    .encabezado {\r\n        padding: 5px;\r\n        background: #ddd;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-field-editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-field-editor.vue?vue&type=template&id=73553b74&\"\nimport script from \"./context-field-editor.vue?vue&type=script&lang=js&\"\nexport * from \"./context-field-editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-field-editor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"context-dialog-container\">\r\n        <component :is=\"componentName\" :componentProps=\"componentProps\"/>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Toolbar from '../tool-bar.vue'\r\nimport contextFieldEditor from './context-field-editor.vue'\r\nexport default {\r\n    components: { Toolbar, contextFieldEditor },\r\n    props: {\r\n        componentName: { type: String , required: true }\r\n        , componentProps: { type: Object , required: false }\r\n    },\r\n    data () {\r\n        return {\r\n        }\r\n    },\r\n    computed: {\r\n        item () {\r\n            const item = this.$store.state.contextMenu.item\r\n            return item ? item : {}\r\n        }\r\n    },\r\n    methods: {\r\n    },\r\n    mounted () {\r\n    }\r\n}\r\n</script>\r\n<style>\r\n    .context-dialog-container {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        background: white;\r\n        z-index: 100;\r\n        height: 100vh;\r\n        max-height: 100vh;\r\n        border:0px solid gray;\r\n        box-shadow: 2px 2px 15px 5px gray;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./context-dialog.vue?vue&type=template&id=0fdd6fba&\"\nimport script from \"./context-dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./context-dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./context-dialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div id=\"circus\" style=\"overflow:hidden; background: #292C3A; background:transparent\">\r\n        <contextDialog componentName=\"contextFieldEditor\" :componentProps=\"contextDialog.props\" v-show=\"contextDialog.show\"/>\r\n        <!--<contextDialog componentName=\"contextFieldEditor\" :componentProps=\"{key:'CLI_Estado',target:{}}\" />-->\r\n        <!--<SimpleTable style=\"z-index:1000;position:absolute;width:100px;height:100px;background:green\" :rows=\"[{nombre:'juan'},{nombre:'raul'}]\" :searchable=\"true\"/>-->\r\n            <div v-show=\"showHelpState\" class=\"panel-envelope\" style=\";height:auto;width:auto;background: transparent;color:;font-weight:500;font-size:11px;position:absolute;bottom:0;z-index:100;display:; align-self: flex-end\">\r\n                <div style=\"height:50%;width:100%;background: white\" ref=\"helpCuadrant\" v-html=\"helpText\"></div>\r\n                <div class=\"custom-title\" style=\"position:absolute; width: 176px; margin-top: -20px;display:none\">LOG</div>\r\n                <div style=\"height:50%;width:100%;overflow-y:auto;overflow-x:none;display:none;\" ref=\"logCuadrant\">\r\n                    <div v-for=\"msg in logText\" style=\"margin-bottom:7px\" v-html=\"msg\"></div>\r\n                </div>\r\n            </div>\r\n\r\n        <ly flexbox=1 column=1 height=1 style=\"position:relative\">\r\n          <ly v-show=\"show.formlist\" width=1 style=\"height:70%;position:relative;z-index:10;border:0px solid red\" grow=1 id=\"containers\" ref=\"contents\">\r\n           <ly flexbox=1 height=1  >\r\n             <ly grow=1 height=1>\r\n                 <ly flexbox=1 column=1 height=1>\r\n                     <ly grow=1 v-for=\"area in visibleAreas\" :style=\"areaHeight\"><Containers :containers=\"containersFromArea(area)\" @panelSwitch=\"panelSwitch\" :panels=\"panels\"/></ly>\r\n                </ly>\r\n             </ly>\r\n           </ly>\r\n           <!--\r\n           <button v-show=\"admin\" @click=\"show.queries=!show.queries\" style=\"position:absolute;bottom:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n            <div :class=\"{'arrow-up':!show.queries,'arrow-down':show.queries}\"></div>\r\n            </button>\r\n            -->\r\n         </ly>\r\n         \r\n         <!--\r\n         <div v-show=\"show.formlist\" style=\"display:flex; height:70%; width:100%;\">\r\n            <div v-for=\"area in visibleAreas\" style=\"width:100%;\"><Containers :containers=\"containersFromArea(area)\" @panelSwitch=\"panelSwitch\" :panels=\"panels\"/></div>\r\n           <button v-show=\"admin\" @click=\"show.queries=!show.queries\" style=\"position:absolute;bottom:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n            <div :class=\"{'arrow-up':!show.queries,'arrow-down':show.queries}\"></div>\r\n            </button>\r\n        </div>\r\n        -->\r\n         <div :style=\"{display:'flex',height:(show.formlist?'30%':'100%')}\" v-show=\"panels.bottom&&admin\">\r\n         \r\n        \r\n            <div class=\"panel-envelope\" style=\";flex-grow:1;height:100%;border:0px solid red; max-height:calc(100% - 0px);position:relative;min-width:100%\" id=\"queriesList\">\r\n                <button  @click=\"show.formlist=!show.formlist\" style=\"position:absolute;top:15px;right:15px;background:;padding: 3px;z-index:1\">\r\n                    <div :class=\"{'arrow-up':show.formlist,'arrow-down':!show.formlist}\"></div>\r\n                </button>\r\n                <SimpleTable\r\n                    style=\"border:1px solid gray;border-width:0px 0;padding:5px\"\r\n                    :nowrap=\"false\" \r\n                    :searchable=\"true\" \r\n                    :editablekeys=\"['Nombre']\" \r\n                    :hiddenKeys=\"['id']\" \r\n                    :rows=\"queries\" \r\n                    v-on:rowEdit=\"queriesTableOnChange\" \r\n                    v-on:rowClick=\"queriesRowClick\" \r\n                    :actions=\"gridActions\"\r\n                    cellMaxHeight=\"40px\"\r\n                />\r\n            </div>\r\n            </div>\r\n        </ly>\r\n        <ContextList/>\r\n        <!--\r\n        <div style=\"position:absolute;z-index:10000; width: 100vw; height: 100vh; background: pink; top:0;left:0;display:none;overflow:auto\">\r\n            <treeMenu :treedata=\"treedata_tables\"/>\r\n        </div>\r\n        -->\r\n\r\n        <!--<context-menu ref=\"contextMenu\" v-show=\"Object.keys($store.state.contextMenu).length\"/>-->\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Vue from 'vue'\r\n//import * as store from '../store.js'\r\nimport * as api from '../api.js'\r\nconst {$fieldsForTable,saveTree,tablesFromConnection,keepDBConnAlive} = api\r\nimport uuidV1 from 'uuid/v1'\r\n//import * as helpers from '../helpers.js'\r\n//import $ from 'jquery'\r\n//import _ from 'lodash'\r\nimport ContextList from './context-list.vue'\r\nimport ToolBar from './tool-bar.vue'\r\nimport Containers from './containers.vue'\r\n//import ItemList from './item-list.vue'\r\n//import ItemEditor from './item-editor.vue'\r\nimport Ly from './layout.vue'\r\nimport ContextMenu from './context-menu.vue'\r\n//import Tabla from './grid-record.vue'\r\nimport SimpleTable from 'D:/data/iis/simple-table/src/components/simple-table.vue'\r\nimport queryEditor from './query-editor.js'\r\nimport treeMenu from './tree-menu.vue'\r\nimport contextDialog from './context-components/context-dialog.vue'\r\n\r\n\r\nwindow.bus = new Vue()\r\nJSON.cc = function (object) {\r\n    if ( typeof object != 'object' ) return object\r\n    return JSON.parse ( JSON.stringify ( object ) ) \r\n}\r\nconst plugin = {}\r\nplugin.install = function (Vue, options) {\r\n  //Vue.api = api\r\n  //Vue.prototype.helpers = helpers\r\n    Vue.prototype.api = api\r\n    Vue.prototype.utils = {\r\n        getBasicDataType: function dataType ( data_type ) {\r\n            //console.log(data_type)\r\n            const text = 'text'\r\n            , number = 'number'\r\n            , date = 'date'\r\n            switch ( data_type ) {\r\n                case 'int':\r\n                    return number\r\n                case 'float':\r\n                    return number\r\n                case 'money':\r\n                    return number\r\n                case 'datetime':\r\n                    return date\r\n                case 'date':\r\n                    return date\r\n                default:\r\n                    return text\r\n            }\r\n        },\r\n        getSpDate: function ( date ) {\r\n            const options = {\r\n            \t\tday: '2-digit',\r\n            \t\tmonth: '2-digit',\r\n            \t\tyear: 'numeric',\r\n            \t\thour: '2-digit',\r\n            \t\tminute: '2-digit',\r\n            \t\tsecond: '2-digit'\r\n            \t}\r\n            , l10nDE = new Intl.DateTimeFormat(\"es-ES\",options)\r\n            //, dateFormated = l10nDE.format( new Date() ).toString() + _.escape(txt) + '<br>'\r\n            return l10nDE.format (date)\r\n        },\r\n        setTextareaHeight: function (ta){\r\n        \tif ( ta.tagName != 'TEXTAREA' ) return\r\n        \tta.style.height=0\r\n        \tvar hcv=ta.scrollHeight*1\r\n        \tvar corr = 2.8;\r\n        \tvar hh = hcv+corr\r\n        \thh = Math.round(hh)\r\n        \tif ( hh < 18 ) hh = 18\r\n        \tta.style.height=(hh)+'px'\r\n        }\r\n    }\r\n    Vue.prototype.uniqueid = uuidV1\r\n}\r\nVue.use(plugin)\r\n\r\nexport default {\r\n    store: api.vuexStore,\r\n    components: { Ly, ToolBar, Containers, SimpleTable, ContextList, treeMenu, contextDialog },\r\n    data () {\r\n        return { \r\n            panels: {\r\n                form: true,\r\n                parameters: true,\r\n                top: true,\r\n                bottom: true\r\n            },\r\n            treedata_tables: [],\r\n            /*\r\n            [\r\n                {\r\n                    label: 'cot'\r\n                    , content: ['juan','pablo']\r\n                },\r\n                {\r\n                    label: 'cot'\r\n                    , content: ['juan']\r\n                }\r\n            ],\r\n            */\r\n\r\n            helpText: \"\"\r\n            , showHelpState: false\r\n            , logText: []\r\n            , admin: this.api.parsedSearch.admin\r\n            , queries: []\r\n            , contextListData: []\r\n            , contextList: {\r\n                contextListData: []\r\n                , contextListHiddenKeys: []\r\n                , top: 400\r\n                , left: 100\r\n                , height: 300\r\n                , checkedRows: []\r\n                , type: \"text\"\r\n                , comparation: 0\r\n                , leftVal: \"\"\r\n                , rightVal: \"\"\r\n            }\r\n            , contextDialog: {show: false, props: {} } \r\n            , show: {queries:true,list:true,formlist:true}\r\n            , buttons: [\r\n                { \r\n                    label: \"Save Tree\",\r\n                    onClick: ()=>saveTree()\r\n                },\r\n             ],\r\n            lists: [\r\n                {\r\n                    key: \"areas\",\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        return this.$store.state.areas.map ( ( area, index ) => ({ value:index, text: area.name }))\r\n                    })()\r\n                },\r\n                {\r\n                    key: \"container\",\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        return this.$store.state.containers.map ( ( container, index ) => ({ value:index, text: container.name }))\r\n                    })()\r\n                },\r\n                {\r\n                    key: \"table\",\r\n                    values: (() => {\r\n                        return Object.keys(this.$store.state.database.tables).map ( ( key ) => ({ value:key, text: key }))\r\n                    })()\r\n                }\r\n            ],\r\n            keysSettings: {\r\n                areas: { list: {\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        //return this.$store.state.areas.map ( ( area, index ) => ({ value:]index, text: area.name }))\r\n                        return this.$store.state.areas.map ( ( area, index ) => [index, area.name ] )\r\n                    })()\r\n                }},\r\n                container: { list: {\r\n                    multiple: true,\r\n                    values: (() => {\r\n                        //return this.$store.state.containers.map ( ( container, index ) => ({ value:index, text: container.name }))\r\n                        return this.$store.state.containers.map ( ( container, index ) => [index, container.name ] )\r\n                    })()\r\n                }},\r\n                table: { list: {\r\n                    values: (() => {\r\n                        return tablesFromConnection ()\r\n                    })()\r\n                }}/*,\r\n                connection: { list: {\r\n                    values: (() => {\r\n                        return Object.keys(this.$store.state.database.connections).map ( ( key ) => [key, key] )\r\n                    })()\r\n                }}*/\r\n            },\r\n            gridActions: [\r\n                {\r\n                    button: `<svg style=\"width:20px;opacity:inherit\" data-help-code=\"general-sql-get\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 56 56\"><path d=\"M28 0C12.6 0 0 12.6 0 28s12.6 28 28 28 28-12.6 28-28S43.4 0 28 0zM40 41H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 41 40 41zM40 30H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 30 40 30zM40 19H16c-1.1 0-2-0.9-2-2s0.9-2 2-2h24c1.1 0 2 0.9 2 2S41.1 19 40 19z\"/></svg>`\r\n                    , func: function (event,_rowIndex) {\r\n                        event.stopPropagation();\r\n                        const queries = this.$store.state.queries\r\n                        , query = queries[queries.length-_rowIndex-1]\r\n                        , sql = `SELECT ${query.queryEditor.columns} FROM ${query.joinSyntax} ${query.queryEditor.sqlSyntax?' WHERE '+query.queryEditor.sqlSyntax:''} ${query.queryEditor.orderBy?' ORDER BY '+query.queryEditor.orderBy:''}`\r\n                        console.log(sql)\r\n                        window.prompt(\"Presione CTRL+C para copiar en el portapapeles. Luego ENTER.\",sql)\r\n                    }.bind(this)\r\n                },\r\n                {\r\n                    button: `<svg style=\"width:20px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\"><path d=\"M26 0C11.7 0 0 11.7 0 26s11.7 26 26 26 26-11.7 26-26S40.3 0 26 0zM38.5 28h-25c-1.1 0-2-0.9-2-2s0.9-2 2-2h25c1.1 0 2 0.9 2 2S39.6 28 38.5 28z\"/></svg>`\r\n                    , func: function (event,_rowIndex) {\r\n                        event.stopPropagation();\r\n                        if ( !confirm('Eliminar la vista?') ) return false\r\n                        this.queriesRowDelete(_rowIndex)\r\n                    }.bind(this)\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        globalState () {\r\n           return this.$store.state\r\n        },\r\n        queries_old () {\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"circus.dbo.views\"\r\n                , columns: [\"v_id\",\"v_nombre\",\"v_identificador\",\"v_json\"]\r\n                , orderbyColumns: [\"v_id\"]\r\n                , language: \"spanish\"\r\n            },(recordset)=>{\r\n                console.log(recordset)\r\n            })\r\n            //this.$store.commit ( 'Queries' , JSON.cc(this.$store.state.queries) )\r\n            const queries = this.$store.state.queries\r\n            //console.log(JSON.cc(this.$store.state))\r\n            , qq = queries.map ( query => {\r\n                const params = query.queryEditor.params\r\n                //console.log(JSON.cc(params))\r\n                , qe = new queryEditor(params, this.$store.state.queries)\r\n                , whereText = qe.getWhereText()\r\n                return {\r\n                    Nombre: query.customName\r\n                    , Identificador: query.name\r\n                    , Fecha: query.fecha\r\n                    , Tabla: query.tableNames[0].toUpperCase()\r\n                    , Columnas: query.queryEditor.params.map ( param => param.alias.split(\".\")[1] ).toString().replace(/,/g,\", \")\r\n                    , Condiciones: whereText\r\n                    //, Tipo: query.tipo\r\n                    //, Descripcion: query.descripcion\r\n                }\r\n            })\r\n            \r\n            return _.reverse(qq)\r\n        },\r\n        areas () {\r\n            const areas = this.$store.state.areas.map ( (area, i) => ({data:area, index:i}) )\r\n            return areas\r\n        },\r\n        visibleAreas () {\r\n            const visibleAreas = this.areas.filter ( area => area.data.visible )\r\n            //console.log('vsibles'+visibleAreas.length)\r\n            return visibleAreas\r\n        },\r\n        containers () {\r\n            const containers = this.$store.state.containers.map ( (container, i) => ({data:container, index:i}) )\r\n            return containers\r\n        },\r\n        areaHeight() {\r\n            const noAreas = this.visibleAreas.length\r\n            return {height: `calc(100% / ${noAreas})`}\r\n        }\r\n    },\r\n    methods: {\r\n        autoShowForm (event) {\r\n        \r\n            //console.log(event.target)\r\n            if ( $(event.target).closest('[data-component=\"Formulario\"]').length > 0 ) alert ('b')\r\n        }\r\n        , loadQueries () {\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"views\"\r\n                , columns: [\"v_id\",\"v_nombre\",\"v_identificador\",\"convert(char(10),v_fecha,103) as v_fecha\",\"v_json\"]\r\n                , orderbyColumns: [\"v_id\"]\r\n                , language: \"spanish\"\r\n                , dbID: \"circus\"\r\n            },(recordset)=>{\r\n                //console.log(recordset)\r\n                const queries = recordset.map ( view => {\r\n                    let obj = false\r\n                    try {\r\n                        obj = JSON.parse ( view.v_json )\r\n                        if ( typeof obj != \"object\" || obj == null ) {\r\n                            obj = false\r\n                        } else {\r\n                            obj.customName = view.v_nombre\r\n                            obj.name = view.v_identificador\r\n                            obj.fecha = view.v_fecha\r\n                            obj.id = view.v_id\r\n                        }\r\n                    } catch ( err ) {}\r\n                    return obj\r\n                })\r\n                //console.log(queries)\r\n                //return\r\n                const qq = queries.filter(query=>query).map ( query => {\r\n                    const params = query.queryEditor.params\r\n                    , qe = new queryEditor(params, this.$store.state.queries)\r\n                    , whereText = qe.getWhereText()\r\n                    return {\r\n                        id: query.id\r\n                        , Nombre: query.customName\r\n                        , Identificador: query.name\r\n                        , Fecha: query.fecha\r\n                        , Tabla: query.tableNames[0].toUpperCase()\r\n                        , Columnas: query.queryEditor.params.map ( param => param.alias ).toString().replace(/,/g,\", \")\r\n                        , Condiciones: whereText\r\n                    }\r\n                })\r\n                //console.log(qq)\r\n                this.queries = _.reverse(qq)\r\n            })\r\n        },\r\n        /*\r\n        contextListSwitchComparation(){\r\n            const comparation = this.$refs.comparation.selectedIndex\r\n            , rangodivs = $(this.$refs.contextList_rango)\r\n            , igualadivs = $(this.$refs.contextList_iguala)\r\n            rangodivs.hide()\r\n            igualadivs.hide()\r\n            if ( comparation != 1 )\r\n                rangodivs.show()\r\n            else\r\n                igualadivs.show()\r\n        },\r\n        */\r\n        queriesRowClick (row) {\r\n            const name = row.Identificador\r\n            this.api.$dbq ({\r\n                schemaSyntax: \"views\"\r\n                , columns: [\"v_json\"]\r\n                , whereSyntax: \"v_identificador = '\" + name + \"'\"\r\n                , language: \"spanish\"\r\n                , dbID: \"circus\"\r\n            },(recordset)=>{\r\n                const v_json = recordset[0].v_json\r\n                , query = JSON.parse ( v_json )\r\n                this.$store.state.selectedQuery = query\r\n                //console.log(query)\r\n            })\r\n/*\r\n            , qe = new queryEditor([], this.$store.state.queries)\r\n            , query = qe.getQueryByName ( name )\r\n            this.$store.state.selectedQuery = query\r\n            console.log(query  )\r\n            */\r\n        },\r\n         containersFromArea (area) {\r\n            const areaIndex = area.index\r\n            , containers = this.containers.map ( ( container, index ) => ({data:container, index}) )\r\n            , containersFromArea = this.containers.filter ( ( container, i ) => {\r\n                if ( container.data.areas.indexOf(areaIndex) != -1 ) return true\r\n                return false\r\n            })\r\n            return containersFromArea\r\n        },\r\n        queriesTableOnChange ({rowIndex,key,value}){\r\n            //const queries = JSON.cc(this.$store.state.queries)\r\n            switch ( key ) {\r\n                case 'Descripcion':\r\n                    key = 'descripcion'\r\n                    break;\r\n                case 'Nombre':\r\n                    key = 'customName'\r\n                    break;\r\n                case 'Tipo':\r\n                    key = 'tipo'\r\n                    break;\r\n                \r\n            }\r\n            const query = this.queries[rowIndex]\r\n            this.$store.commit ( 'Query_setKey' , {id:query.id,key,value} )\r\n        },\r\n        queriesRowDelete (rowIndex){\r\n            const id = this.queries[rowIndex].id\r\n            //console.log(queries.length+'/'+(queries.length-1-rowIndex))\r\n            this.$store.commit ( 'Query_delete' , id )\r\n            const splicedQ = JSON.cc(this.queries)\r\n            splicedQ.splice(rowIndex,1)\r\n            this.queries = splicedQ\r\n        },\r\n        panelSwitch(panel){\r\n            //console.log(this.panels[panel])\r\n            this.panels[panel] = ! this.panels[panel]\r\n        }\r\n    },\r\n    mounted: function () {\r\n        const help = this.$store.state.database.help\r\n        , helpCuadrant = this.$refs.helpCuadrant\r\n        , that = this\r\n        window.log = function ( msg, color ) {\r\n            var event = new Date()\r\n            , offset = event.getTimezoneOffset()\r\n            , fecha = new Date() - offset\r\n            , fechaTxt = fecha.toLocaleString('en-GB', { timeZone: 'UTC' })\r\n            , options = {\r\n              year: 'numeric', month: 'numeric', day: 'numeric',\r\n              hour: 'numeric', minute: 'numeric', second: 'numeric',\r\n              hour12: false\r\n            }\r\n            , currentTime = new Intl.DateTimeFormat('es-ES', options).format(event)\r\n            that.logText.forEach ( (t,i) => that.logText[i] = t.replace ( \"blink_me\", \"\" ) )\r\n            that.logText.unshift ( `${currentTime}<br><span class=\"${color} blink_me\">${msg}</span>` ) \r\n        }\r\n        window.contextDialog = function (props) {\r\n            that.contextDialog.props = props\r\n            that.contextDialog.show = true\r\n        }\r\n        this.loadQueries()\r\n        //this.api.getTablesList((tables)=>{this.treedata_tables = tables })\r\n        if ( help ) {\r\n            \r\n            $(window.document)\r\n            .on('contextmenu', function(event) {\r\n                showHelp(event);\r\n                event.stopPropagation();\r\n                event.stopImmediatePropagation();\r\n                event.preventDefault();\r\n                return false\r\n            })\r\n            .on('click', function(event) {\r\n                const $ele = $(event.target)\r\n                , dontHide = $ele.closest ( '.context-dialog-container' ).length || $ele.closest ( 'table.header' ).length\r\n                if(!dontHide) that.contextDialog.show = false\r\n            })\r\n            /*\r\n            .on('mouseover',function(event){\r\n                //if ( event.target.tagName == \"circle\" || event.target.tagName == \"path\" || event.target.tagName == \"svg\" ) return false\r\n                if ( typeof this.globalHoverTimer != 'undefined' ) clearTimeout ( this.globalHoverTimer )\r\n                this.globalHoverTimer = setTimeout ( function(){showHelp(event)} , 70 )\r\n            }.bind(this) )\r\n            */\r\n            /*\r\n            .on('mouseleave','[data-help-code][data-help-code!=\"\"]',function(event){\r\n                //console.log( 'leave: '+event.target.tagName)\r\n                this.helpText = `<titulo>&nbsp;</titulo><texto>&nbsp;</texto>`\r\n            }.bind(this) )\r\n            */\r\n        }\r\n        function showHelp (event) {\r\n            let $item = $(event.target)\r\n            , itemHelpCode = $item.data('help-code') // $item.attr('data-help-code')\r\n            \r\n            if ( ! itemHelpCode ) {\r\n                $item = $item.closest('[data-help-code][data-help-code!=\"\"]')\r\n                itemHelpCode = $item.attr('data-help-code')\r\n            }\r\n            \r\n            //if ( ! itemHelpCode ) return false\r\n            //console.log('enter: '+event.target.tagName)\r\n            const helpText = itemHelpCode ? help[itemHelpCode] : ''\r\n            , finalHelpText = typeof helpText != 'undefined' ? helpText : itemHelpCode\r\n            , $html = $('<div/>').html ( finalHelpText )\r\n            , title = $html.find('titulo').html()\r\n            $html.find('titulo').remove()\r\n            const text = $html.html()\r\n            //showHelpBox(`<div style=\"height:100%;\"/><titulo>${itemHelpCode?title:'&nbsp;'}</titulo><texto>${text}</texto></div>`)\r\n            showHelpBox({title:itemHelpCode?title:'&nbsp;',text})\r\n        }\r\n        function showHelpBox ( text, log ) {\r\n            if ( log )  window.log ( text.text )\r\n            if (typeof text === 'object') {\r\n                text = `<div style=\"height:100%;\"/><titulo>${text.title}</titulo><texto>${text.text}</texto></div>`\r\n            }\r\n            that.helpText = text\r\n            that.showHelpState = true\r\n            if ( window.circus.helpBoxCloseTimer ) clearTimeout ( window.circus.helpBoxCloseTimer )\r\n            window.circus.helpBoxCloseTimer = setTimeout ( ()=>that.showHelpState = false , 7000 )\r\n        }\r\n        /*\r\n        $(helpCuadrant).resizable({\r\n            handles: 'e'\r\n            , resize: function(){\r\n                window.dispatchEvent(new Event('resize'));\r\n            }\r\n        })\r\n        //$('#containers').resizable({\r\n        $('#containers').resizable({\r\n            handles: 's'\r\n        })\r\n        */\r\n         window.circus = this\r\n         window.circus.showHelpBox = showHelpBox\r\n         //this.panels.form = false\r\n         function moumove (event) {\r\n                /*\r\n            if ( $(event.target).closest('[data-component=\"Formulario\"]').length > 0 ) {\r\n                //console.log('enter')\r\n                if ( window.circus.hoverFormTimer ) { clearTimeout ( window.circus.hoverFormTimer ); window.circus.hoverFormTimer = false }\r\n            } else {\r\n                    //console.log(false)\r\n                if ( !window.circus.hoverFormTimer && window.circus.panels.form && !this.gracePeriod ) {\r\n                    window.circus.hoverFormTimer = setTimeout ( function () {\r\n                        //console.log('close')\r\n                        window.circus.panels.form = false   \r\n                    }, 200)\r\n                }\r\n            }\r\n                */\r\n        }\r\n        window.showForm = showForm\r\n        function showForm() {\r\n            window.circus.panels.form = true\r\n            //console.log(  $('[data-component=\"Formulario\"]').find('input').eq(1).val())\r\n            setTimeout(function(){\r\n                $('[data-component=\"Formulario\"]').find('input').eq(1).focus()\r\n                //console.log('focus')\r\n            },100)\r\n            //window.circus.gracePeriod = true\r\n            //setTimeout ( function () {window.circus.gracePeriod = false}, 100 )\r\n        }\r\n        window.showQueries = showQueries\r\n        function showQueries() {\r\n            window.circus.panels.bottom = true\r\n            //window.circus.gracePeriod = true\r\n            //setTimeout ( function () {window.circus.gracePeriod = false}, 100 )\r\n        }\r\n       $(window).mousemove ( moumove )\r\n                    \r\n     },\r\n     updated() {\r\n         /*\r\n        $(this.$refs.helpCuadrant).resizable({\r\n            handles: 'e'\r\n            , resize: function(){\r\n                window.dispatchEvent(new Event('resize'));\r\n            }\r\n        })  \r\n        //return       \r\n        $('#containers').resizable({\r\n            handles: 's'\r\n        })\r\n        */\r\n     }\r\n}\r\n</script>\r\n<style>\r\n    titulo,.custom-title {\r\n        display:block;\r\n        padding: 3px 6px;\r\n        background:#b5b2b1;\r\n        margin: 0 0 0px 0;\r\n        font-weight:bold;\r\n        font-size: 10px;\r\n        text-transform: uppercase;\r\n    }\r\n    texto {\r\n        padding: 3px 6px;\r\n        display:block;\r\n        height: calc(100% - 40px);\r\n        overflow-y: auto;\r\n        overflow-x: none;\r\n    }\r\n    input.form-control {\r\n        font-size:11px;\r\n        box-shadow: none;\r\n        border-radius: 2px;\r\n        background: white;\r\n    }\r\n    #circusContextList button {\r\n        width: 20px;\r\n        height:20px;\r\n        background-color: transparent;\r\n        box-shadow:none;\r\n        border:0;\r\n    }\r\n    #circusContextList button:hover {\r\n        background-color:#ddd;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./circus.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./circus.vue?vue&type=template&id=2aa6314c&\"\nimport script from \"./circus.vue?vue&type=script&lang=js&\"\nexport * from \"./circus.vue?vue&type=script&lang=js&\"\nimport style0 from \"./circus.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\n//import App from './App.vue'\nimport Circus from './components/circus.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(Circus),\n}).$mount('#app')\n\n\n//require('../circus-layout.css')\n//require('../simple-table.css')\n\nimport queryString from 'query-string';\nconst parsedSearch = queryString.parse(location.search)\n, apiURL = \tparsedSearch.api\n\nfunction keepDBConnAlive () {\n\tlet fileName = parsedSearch.reset\n\tif ( !fileName ) fileName = 'circus.json'\n\t$.ajax({\n\t\turl: apiURL + 'writeFile',\n\tdata: { json: localStorage[\"vuexStore\"], fileName },\n\tmethod: \"POST\",\n\t//async: false,\n\t\tsuccess: (storedVuexStore) => {\n\t\tconsole.log('tree saved!')\n\t\twindow.circus.showHelpBox ( {title:'Configuracin Guardada',text:'Se ha guardado automticamente la configuracin actual en el archivo ' + fileName })\n\t},\n\terror: (respuesta) => {\n\t\tconsole.log('error ajax ping')\n\t\t}\n});\n/*\n$.ajax({\n\t\turl: apiURL + 'ping',\n\t    data: `dbID=visual`,\n\t    method: \"POST\",\n\t    //async: true,\n\t\tsuccess: (respuesta) => {\n\t\t\tconsole.log('ping')\n\t  \t},\n\t\terror: (respuesta) => {\n\t\t\tconsole.log('error ajax ping')\n\t  \t}\n  });\n\t*/\n}\nsetInterval ( keepDBConnAlive, 60000 )\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listado.vue?vue&type=style&index=0&id=5b5daed1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listado.vue?vue&type=style&index=0&id=5b5daed1&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=style&index=0&id=0bde978a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formulario.vue?vue&type=style&index=0&id=0bde978a&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./context-menu.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}